/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"main": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/static";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([0,"vendors~main"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/index.js":
/*!*********************!*\
  !*** ./js/index.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! regenerator-runtime/runtime */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_stable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/stable */ \"./node_modules/core-js/stable/index.js\");\n/* harmony import */ var core_js_stable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_stable__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux-saga/effects */ \"./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wsclient_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./wsclient.js */ \"./js/wsclient.js\");\n/* harmony import */ var _page_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./page.js */ \"./js/page.js\");\n/* harmony import */ var _store_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./store.js */ \"./js/store.js\");\nvar _marked = /*#__PURE__*/regeneratorRuntime.mark(mainSaga);\n\n\n\n\n\n\n\n\n\n\nvar reducer = Object(_store_js__WEBPACK_IMPORTED_MODULE_8__[\"makeReducer\"])();\nvar sagaMiddleware = Object(_store_js__WEBPACK_IMPORTED_MODULE_8__[\"makeSagaMiddleware\"])();\nvar store = Object(_store_js__WEBPACK_IMPORTED_MODULE_8__[\"makeStore\"])(reducer, sagaMiddleware);\nObject(_store_js__WEBPACK_IMPORTED_MODULE_8__[\"runSagaMiddleware\"])(sagaMiddleware);\nvar scheme = \"ws\";\n\nif (window.location.protocol.startsWith(\"https\")) {\n  scheme = \"wss\";\n}\n\nvar url = scheme + \"://\" + window.location.hostname + \":\" + String(window.location.port) + \"/v1/ws\";\n\nfunction mainSaga() {\n  return regeneratorRuntime.wrap(function mainSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_2__[\"fork\"])(_wsclient_js__WEBPACK_IMPORTED_MODULE_6__[\"listen\"], url);\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nsagaMiddleware.run(mainSaga);\nreact_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_3__[\"Provider\"], {\n  store: store\n}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_page_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null)), document.getElementById(\"page\"));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9pbmRleC5qcz9lZTFjIl0sIm5hbWVzIjpbIm1haW5TYWdhIiwicmVkdWNlciIsIm1ha2VSZWR1Y2VyIiwic2FnYU1pZGRsZXdhcmUiLCJtYWtlU2FnYU1pZGRsZXdhcmUiLCJzdG9yZSIsIm1ha2VTdG9yZSIsInJ1blNhZ2FNaWRkbGV3YXJlIiwic2NoZW1lIiwid2luZG93IiwibG9jYXRpb24iLCJwcm90b2NvbCIsInN0YXJ0c1dpdGgiLCJ1cmwiLCJob3N0bmFtZSIsIlN0cmluZyIsInBvcnQiLCJmb3JrIiwibGlzdGVuIiwicnVuIiwiUmVhY3RET00iLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OzttREFrQ1VBLFE7O0FBbENWO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BLElBQU1DLE9BQU8sR0FBR0MsNkRBQVcsRUFBM0I7QUFDQSxJQUFNQyxjQUFjLEdBQUdDLG9FQUFrQixFQUF6QztBQUNBLElBQU1DLEtBQUssR0FBR0MsMkRBQVMsQ0FBQ0wsT0FBRCxFQUFVRSxjQUFWLENBQXZCO0FBQ0FJLG1FQUFpQixDQUFDSixjQUFELENBQWpCO0FBRUEsSUFBSUssTUFBTSxHQUFHLElBQWI7O0FBQ0EsSUFBSUMsTUFBTSxDQUFDQyxRQUFQLENBQWdCQyxRQUFoQixDQUF5QkMsVUFBekIsQ0FBb0MsT0FBcEMsQ0FBSixFQUFrRDtBQUNoREosUUFBTSxHQUFHLEtBQVQ7QUFDRDs7QUFDRCxJQUFJSyxHQUFHLEdBQ0xMLE1BQU0sR0FDTixLQURBLEdBRUFDLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkksUUFGaEIsR0FHQSxHQUhBLEdBSUFDLE1BQU0sQ0FBQ04sTUFBTSxDQUFDQyxRQUFQLENBQWdCTSxJQUFqQixDQUpOLEdBS0EsUUFORjs7QUFRQSxTQUFVaEIsUUFBVjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDRSxpQkFBTWlCLCtEQUFJLENBQUNDLG1EQUFELEVBQVNMLEdBQVQsQ0FBVjs7QUFERjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFJQVYsY0FBYyxDQUFDZ0IsR0FBZixDQUFtQm5CLFFBQW5CO0FBRUFvQixnREFBUSxDQUFDQyxNQUFULGVBQ0UsMkRBQUMsb0RBQUQ7QUFBVSxPQUFLLEVBQUVoQjtBQUFqQixnQkFDRSwyREFBQyxnREFBRCxPQURGLENBREYsRUFJRWlCLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixNQUF4QixDQUpGIiwiZmlsZSI6Ii4vanMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWVcIjtcbmltcG9ydCBcImNvcmUtanMvc3RhYmxlXCI7XG5cbmltcG9ydCB7IGZvcmsgfSBmcm9tIFwicmVkdXgtc2FnYS9lZmZlY3RzXCI7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgbGlzdGVuIH0gZnJvbSBcIi4vd3NjbGllbnQuanNcIjtcbmltcG9ydCBQYWdlIGZyb20gXCIuL3BhZ2UuanNcIjtcbmltcG9ydCB7XG4gIG1ha2VSZWR1Y2VyLFxuICBtYWtlU2FnYU1pZGRsZXdhcmUsXG4gIG1ha2VTdG9yZSxcbiAgcnVuU2FnYU1pZGRsZXdhcmVcbn0gZnJvbSBcIi4vc3RvcmUuanNcIjtcblxuY29uc3QgcmVkdWNlciA9IG1ha2VSZWR1Y2VyKCk7XG5jb25zdCBzYWdhTWlkZGxld2FyZSA9IG1ha2VTYWdhTWlkZGxld2FyZSgpO1xuY29uc3Qgc3RvcmUgPSBtYWtlU3RvcmUocmVkdWNlciwgc2FnYU1pZGRsZXdhcmUpO1xucnVuU2FnYU1pZGRsZXdhcmUoc2FnYU1pZGRsZXdhcmUpO1xuXG52YXIgc2NoZW1lID0gXCJ3c1wiO1xuaWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5zdGFydHNXaXRoKFwiaHR0cHNcIikpIHtcbiAgc2NoZW1lID0gXCJ3c3NcIjtcbn1cbnZhciB1cmwgPVxuICBzY2hlbWUgK1xuICBcIjovL1wiICtcbiAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICtcbiAgXCI6XCIgK1xuICBTdHJpbmcod2luZG93LmxvY2F0aW9uLnBvcnQpICtcbiAgXCIvdjEvd3NcIjtcblxuZnVuY3Rpb24qIG1haW5TYWdhKCkge1xuICB5aWVsZCBmb3JrKGxpc3RlbiwgdXJsKTtcbn1cblxuc2FnYU1pZGRsZXdhcmUucnVuKG1haW5TYWdhKTtcblxuUmVhY3RET00ucmVuZGVyKFxuICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICA8UGFnZSAvPlxuICA8L1Byb3ZpZGVyPixcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYWdlXCIpXG4pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/index.js\n");

/***/ }),

/***/ "./js/page.js":
/*!********************!*\
  !*** ./js/page.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(React) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-konva */ \"./node_modules/react-konva/lib/ReactKonva.js\");\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_konva__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var _parts_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parts.js */ \"./js/parts.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\nfunction getPos(el) {\n  for (var lx = 0, ly = 0; el != null; lx += el.offsetLeft, ly += el.offsetTop, el = el.offsetParent) {\n    ;\n  }\n\n  return {\n    x: lx,\n    y: ly\n  };\n}\n\nfunction x_y_for_evt(evt, offset) {\n  var s_x, s_y;\n\n  if (evt.clientX === undefined) {\n    s_x = evt.changedTouches[0].clientX - offset.x;\n    s_y = evt.changedTouches[0].clientY - offset.y;\n  } else {\n    s_x = evt.clientX - offset.x;\n    s_y = evt.clientY - offset.y;\n  }\n\n  return [s_x, s_y];\n}\n\nfunction makeGrid(dimensions, zerosState) {\n  var pixelWidth = dimensions.pixelWidth,\n      height = dimensions.height,\n      width = dimensions.width;\n  var squareWidth = pixelWidth * 8;\n  var grid = [/*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Line\"], {\n    key: \"centerx0\",\n    strokeWidth: 2,\n    stroke: \"red\",\n    points: [zerosState.zero_x, 0, zerosState.zero_x, height]\n  }), /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Line\"], {\n    key: \"centery0\",\n    strokeWidth: 2,\n    stroke: \"red\",\n    points: [0, zerosState.zero_y, width, zerosState.zero_y]\n  })];\n\n  for (var i = zerosState.zero_x + squareWidth; i <= width + squareWidth * 2; i += squareWidth) {\n    if (i > 0) {\n      grid.push( /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Line\"], {\n        key: \"rcol\" + i,\n        strokeWidth: 1,\n        stroke: \"#868686\",\n        points: [i, 0, i, height]\n      }));\n    }\n  }\n\n  for (var i = zerosState.zero_x - squareWidth; i >= -squareWidth * 2; i -= squareWidth) {\n    if (i < width) {\n      grid.push( /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Line\"], {\n        key: \"lcol\" + i,\n        strokeWidth: 1,\n        stroke: \"#868686\",\n        points: [i, 0, i, height]\n      }));\n    }\n  }\n\n  for (var i = zerosState.zero_y + squareWidth; i <= height + squareWidth * 2; i += squareWidth) {\n    if (i > 0) {\n      grid.push( /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Line\"], {\n        key: \"trow\" + i,\n        strokeWidth: 1,\n        stroke: \"#868686\",\n        points: [0, i, width, i]\n      }));\n    }\n  }\n\n  for (var i = zerosState.zero_y - squareWidth; i >= -squareWidth * 2; i -= squareWidth) {\n    if (i < height) {\n      grid.push( /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Line\"], {\n        key: \"bcol\" + i,\n        strokeWidth: 1,\n        stroke: \"#868686\",\n        points: [0, i, width, i]\n      }));\n    }\n  }\n\n  return grid;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var makeDimensions = function makeDimensions() {\n    var width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    var height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    var pixelWidth = Math.ceil(window.innerWidth / 40 / 8);\n    return {\n      width: width,\n      height: height,\n      pixelWidth: pixelWidth\n    };\n  };\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(makeDimensions()),\n      _useState2 = _slicedToArray(_useState, 2),\n      dimensions = _useState2[0],\n      setDimensions = _useState2[1];\n\n  var zeroReducer = function zeroReducer(state, action) {\n    var offset = getPos(action.e.target.getStage().attrs.container);\n\n    var _x_y_for_evt = x_y_for_evt(action.e.evt, offset),\n        _x_y_for_evt2 = _slicedToArray(_x_y_for_evt, 2),\n        s_x = _x_y_for_evt2[0],\n        s_y = _x_y_for_evt2[1];\n\n    switch (action.type) {\n      case \"drag_grid_start\":\n        return _objectSpread(_objectSpread({}, state), {}, {\n          grid_x: s_x,\n          grid_y: s_y,\n          start_offset: {\n            zero_x: state.zero_x,\n            zero_y: state.zero_y\n          }\n        });\n\n      case \"drag_grid\":\n        var diffx = state.grid_x - s_x;\n        var diffy = state.grid_y - s_y;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          zero_x: state.start_offset.zero_x - diffx,\n          zero_y: state.start_offset.zero_y - diffy\n        });\n\n      default:\n        throw new Error(\"Unknown event \".concat(action.type));\n    }\n  };\n\n  var width = dimensions.width;\n  var height = dimensions.height;\n  var zero_x = Math.floor(width / 2);\n  var zero_y = Math.floor(height / 2);\n\n  var _useReducer = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useReducer\"])(zeroReducer, {\n    zero_x: zero_x,\n    zero_y: zero_y,\n    grid_x: 0,\n    grid_y: 0,\n    start_offset: {\n      zero_x: zero_x,\n      zero_y: zero_y\n    }\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      zerosState = _useReducer2[0],\n      dispatchZeros = _useReducer2[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    function handleResize() {\n      setDimensions(makeDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return function () {\n      return window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n  var zero_x = Math.floor(width / 2);\n  var zero_y = Math.floor(height / 2) - 100;\n  return /*#__PURE__*/React.createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__[\"ReactReduxContext\"].Consumer, null, function (_ref) {\n    var store = _ref.store;\n    return /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Stage\"], {\n      width: width,\n      height: height,\n      fill: \"red\"\n    }, /*#__PURE__*/React.createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__[\"Provider\"], {\n      store: store\n    }, /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Layer\"], null, /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Rect\"], {\n      width: width,\n      height: height,\n      fill: \"#e6e6e6\",\n      draggable: true,\n      dragBoundFunc: function dragBoundFunc(_) {\n        return {\n          x: 0,\n          y: 0\n        };\n      },\n      onDragMove: function onDragMove(e) {\n        return dispatchZeros({\n          type: \"drag_grid\",\n          e: e\n        });\n      },\n      onDragStart: function onDragStart(e) {\n        return dispatchZeros({\n          type: \"drag_grid_start\",\n          e: e\n        });\n      }\n    })), /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__[\"Layer\"], null, makeGrid(dimensions, zerosState)), /*#__PURE__*/React.createElement(_parts_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      zero_x: zerosState.zero_x,\n      zero_y: zerosState.zero_y,\n      pixelWidth: dimensions.pixelWidth\n    })));\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! react */ \"./node_modules/react/index.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9wYWdlLmpzPzhiYjIiXSwibmFtZXMiOlsiZ2V0UG9zIiwiZWwiLCJseCIsImx5Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFBhcmVudCIsIngiLCJ5IiwieF95X2Zvcl9ldnQiLCJldnQiLCJvZmZzZXQiLCJzX3giLCJzX3kiLCJjbGllbnRYIiwidW5kZWZpbmVkIiwiY2hhbmdlZFRvdWNoZXMiLCJjbGllbnRZIiwibWFrZUdyaWQiLCJkaW1lbnNpb25zIiwiemVyb3NTdGF0ZSIsInBpeGVsV2lkdGgiLCJoZWlnaHQiLCJ3aWR0aCIsInNxdWFyZVdpZHRoIiwiZ3JpZCIsInplcm9feCIsInplcm9feSIsImkiLCJwdXNoIiwibWFrZURpbWVuc2lvbnMiLCJNYXRoIiwibWF4IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJjbGllbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsImNlaWwiLCJ1c2VTdGF0ZSIsInNldERpbWVuc2lvbnMiLCJ6ZXJvUmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwiZSIsInRhcmdldCIsImdldFN0YWdlIiwiYXR0cnMiLCJjb250YWluZXIiLCJ0eXBlIiwiZ3JpZF94IiwiZ3JpZF95Iiwic3RhcnRfb2Zmc2V0IiwiZGlmZngiLCJkaWZmeSIsIkVycm9yIiwiZmxvb3IiLCJ1c2VSZWR1Y2VyIiwiZGlzcGF0Y2haZXJvcyIsInVzZUVmZmVjdCIsImhhbmRsZVJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3RvcmUiLCJfIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBRUEsU0FBU0EsTUFBVCxDQUFnQkMsRUFBaEIsRUFBb0I7QUFDbEIsT0FDRSxJQUFJQyxFQUFFLEdBQUcsQ0FBVCxFQUFZQyxFQUFFLEdBQUcs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QUFBQSxPQU5mO0FBT0UsaUJBQVcsRUFBRSxxQkFBQUEsQ0FBQztBQUFBLGVBQUljLGFBQWEsQ0FBQztBQUFFVCxjQUFJLEVBQUUsaUJBQVI7QUFBMkJMLFdBQUMsRUFBREE7QUFBM0IsU0FBRCxDQUFqQjtBQUFBO0FBUGhCLE1BREYsQ0FERixlQVlFLG9CQUFDLGlEQUFELFFBQVE1QixRQUFRLENBQUNDLFVBQUQsRUFBYUMsVUFBYixDQUFoQixDQVpGLGVBYUUsb0JBQUMsaURBQUQ7QUFDRSxZQUFNLEVBQUVBLFVBQVUsQ0FBQ00sTUFEckI7QUFFRSxZQUFNLEVBQUVOLFVBQVUsQ0FBQ08sTUFGckI7QUFHRSxnQkFBVSxFQUFFUixVQUFVLENBQUNFO0FBSHpCLE1BYkYsQ0FERixDQUREO0FBQUEsR0FESCxDQURGO0FBMkJELENBakdELEUiLCJmaWxlIjoiLi9qcy9wYWdlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWR1Y2VyLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGF5ZXIsIExpbmUsIFJlY3QsIFN0YWdlIH0gZnJvbSBcInJlYWN0LWtvbnZhXCI7XG5pbXBvcnQgeyBQcm92aWRlciwgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuaW1wb3J0IFBhcnRzIGZyb20gXCIuL3BhcnRzLmpzXCI7XG5cbmZ1bmN0aW9uIGdldFBvcyhlbCkge1xuICBmb3IgKFxuICAgIHZhciBseCA9IDAsIGx5ID0gMDtcbiAgICBlbCAhPSBudWxsO1xuICAgIGx4ICs9IGVsLm9mZnNldExlZnQsIGx5ICs9IGVsLm9mZnNldFRvcCwgZWwgPSBlbC5vZmZzZXRQYXJlbnRcbiAgKTtcbiAgcmV0dXJuIHsgeDogbHgsIHk6IGx5IH07XG59XG5cbmZ1bmN0aW9uIHhfeV9mb3JfZXZ0KGV2dCwgb2Zmc2V0KSB7XG4gIHZhciBzX3gsIHNfeTtcbiAgaWYgKGV2dC5jbGllbnRYID09PSB1bmRlZmluZWQpIHtcbiAgICBzX3ggPSBldnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIG9mZnNldC54O1xuICAgIHNfeSA9IGV2dC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gb2Zmc2V0Lnk7XG4gIH0gZWxzZSB7XG4gICAgc194ID0gZXZ0LmNsaWVudFggLSBvZmZzZXQueDtcbiAgICBzX3kgPSBldnQuY2xpZW50WSAtIG9mZnNldC55O1xuICB9XG4gIHJldHVybiBbc194LCBzX3ldO1xufVxuXG5mdW5jdGlvbiBtYWtlR3JpZChkaW1lbnNpb25zLCB6ZXJvc1N0YXRlKSB7XG4gIHZhciB7IHBpeGVsV2lkdGgsIGhlaWdodCwgd2lkdGggfSA9IGRpbWVuc2lvbnM7XG4gIGxldCBzcXVhcmVXaWR0aCA9IHBpeGVsV2lkdGggKiA4O1xuXG4gIHZhciBncmlkID0gW1xuICAgIDxMaW5lXG4gICAgICBrZXk9XCJjZW50ZXJ4MFwiXG4gICAgICBzdHJva2VXaWR0aD17Mn1cbiAgICAgIHN0cm9rZT1cInJlZFwiXG4gICAgICBwb2ludHM9e1t6ZXJvc1N0YXRlLnplcm9feCwgMCwgemVyb3NTdGF0ZS56ZXJvX3gsIGhlaWdodF19XG4gICAgLz4sXG4gICAgPExpbmVcbiAgICAgIGtleT1cImNlbnRlcnkwXCJcbiAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgc3Ryb2tlPVwicmVkXCJcbiAgICAgIHBvaW50cz17WzAsIHplcm9zU3RhdGUuemVyb195LCB3aWR0aCwgemVyb3NTdGF0ZS56ZXJvX3ldfVxuICAgIC8+XG4gIF07XG5cbiAgZm9yIChcbiAgICB2YXIgaSA9IHplcm9zU3RhdGUuemVyb194ICsgc3F1YXJlV2lkdGg7XG4gICAgaSA8PSB3aWR0aCArIHNxdWFyZVdpZHRoICogMjtcbiAgICBpICs9IHNxdWFyZVdpZHRoXG4gICkge1xuICAgIGlmIChpID4gMCkge1xuICAgICAgZ3JpZC5wdXNoKFxuICAgICAgICA8TGluZVxuICAgICAgICAgIGtleT17XCJyY29sXCIgKyBpfVxuICAgICAgICAgIHN0cm9rZVdpZHRoPXsxfVxuICAgICAgICAgIHN0cm9rZT1cIiM4Njg2ODZcIlxuICAgICAgICAgIHBvaW50cz17W2ksIDAsIGksIGhlaWdodF19XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoXG4gICAgdmFyIGkgPSB6ZXJvc1N0YXRlLnplcm9feCAtIHNxdWFyZVdpZHRoO1xuICAgIGkgPj0gLXNxdWFyZVdpZHRoICogMjtcbiAgICBpIC09IHNxdWFyZVdpZHRoXG4gICkge1xuICAgIGlmIChpIDwgd2lkdGgpIHtcbiAgICAgIGdyaWQucHVzaChcbiAgICAgICAgPExpbmVcbiAgICAgICAgICBrZXk9e1wibGNvbFwiICsgaX1cbiAgICAgICAgICBzdHJva2VXaWR0aD17MX1cbiAgICAgICAgICBzdHJva2U9XCIjODY4Njg2XCJcbiAgICAgICAgICBwb2ludHM9e1tpLCAwLCBpLCBoZWlnaHRdfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKFxuICAgIHZhciBpID0gemVyb3NTdGF0ZS56ZXJvX3kgKyBzcXVhcmVXaWR0aDtcbiAgICBpIDw9IGhlaWdodCArIHNxdWFyZVdpZHRoICogMjtcbiAgICBpICs9IHNxdWFyZVdpZHRoXG4gICkge1xuICAgIGlmIChpID4gMCkge1xuICAgICAgZ3JpZC5wdXNoKFxuICAgICAgICA8TGluZVxuICAgICAgICAgIGtleT17XCJ0cm93XCIgKyBpfVxuICAgICAgICAgIHN0cm9rZVdpZHRoPXsxfVxuICAgICAgICAgIHN0cm9rZT1cIiM4Njg2ODZcIlxuICAgICAgICAgIHBvaW50cz17WzAsIGksIHdpZHRoLCBpXX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChcbiAgICB2YXIgaSA9IHplcm9zU3RhdGUuemVyb195IC0gc3F1YXJlV2lkdGg7XG4gICAgaSA+PSAtc3F1YXJlV2lkdGggKiAyO1xuICAgIGkgLT0gc3F1YXJlV2lkdGhcbiAgKSB7XG4gICAgaWYgKGkgPCBoZWlnaHQpIHtcbiAgICAgIGdyaWQucHVzaChcbiAgICAgICAgPExpbmVcbiAgICAgICAgICBrZXk9e1wiYmNvbFwiICsgaX1cbiAgICAgICAgICBzdHJva2VXaWR0aD17MX1cbiAgICAgICAgICBzdHJva2U9XCIjODY4Njg2XCJcbiAgICAgICAgICBwb2ludHM9e1swLCBpLCB3aWR0aCwgaV19XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBncmlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIHZhciBtYWtlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICB2YXIgd2lkdGggPSBNYXRoLm1heChcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoIHx8IDBcbiAgICApO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMFxuICAgICk7XG4gICAgdmFyIHBpeGVsV2lkdGggPSBNYXRoLmNlaWwod2luZG93LmlubmVyV2lkdGggLyA0MCAvIDgpO1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHBpeGVsV2lkdGhcbiAgICB9O1xuICB9O1xuICBjb25zdCBbZGltZW5zaW9ucywgc2V0RGltZW5zaW9uc10gPSB1c2VTdGF0ZShtYWtlRGltZW5zaW9ucygpKTtcblxuICB2YXIgemVyb1JlZHVjZXIgPSAoc3RhdGUsIGFjdGlvbikgPT4ge1xuICAgIGNvbnN0IG9mZnNldCA9IGdldFBvcyhhY3Rpb24uZS50YXJnZXQuZ2V0U3RhZ2UoKS5hdHRycy5jb250YWluZXIpO1xuICAgIGNvbnN0IFtzX3gsIHNfeV0gPSB4X3lfZm9yX2V2dChhY3Rpb24uZS5ldnQsIG9mZnNldCk7XG5cbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIFwiZHJhZ19ncmlkX3N0YXJ0XCI6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgZ3JpZF94OiBzX3gsXG4gICAgICAgICAgZ3JpZF95OiBzX3ksXG4gICAgICAgICAgc3RhcnRfb2Zmc2V0OiB7IHplcm9feDogc3RhdGUuemVyb194LCB6ZXJvX3k6IHN0YXRlLnplcm9feSB9XG4gICAgICAgIH07XG4gICAgICBjYXNlIFwiZHJhZ19ncmlkXCI6XG4gICAgICAgIHZhciBkaWZmeCA9IHN0YXRlLmdyaWRfeCAtIHNfeDtcbiAgICAgICAgdmFyIGRpZmZ5ID0gc3RhdGUuZ3JpZF95IC0gc195O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIHplcm9feDogc3RhdGUuc3RhcnRfb2Zmc2V0Lnplcm9feCAtIGRpZmZ4LFxuICAgICAgICAgIHplcm9feTogc3RhdGUuc3RhcnRfb2Zmc2V0Lnplcm9feSAtIGRpZmZ5XG4gICAgICAgIH07XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZXZlbnQgJHthY3Rpb24udHlwZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHdpZHRoID0gZGltZW5zaW9ucy53aWR0aDtcbiAgdmFyIGhlaWdodCA9IGRpbWVuc2lvbnMuaGVpZ2h0O1xuXG4gIHZhciB6ZXJvX3ggPSBNYXRoLmZsb29yKHdpZHRoIC8gMik7XG4gIHZhciB6ZXJvX3kgPSBNYXRoLmZsb29yKGhlaWdodCAvIDIpO1xuXG4gIGNvbnN0IFt6ZXJvc1N0YXRlLCBkaXNwYXRjaFplcm9zXSA9IHVzZVJlZHVjZXIoemVyb1JlZHVjZXIsIHtcbiAgICB6ZXJvX3gsXG4gICAgemVyb195LFxuICAgIGdyaWRfeDogMCxcbiAgICBncmlkX3k6IDAsXG4gICAgc3RhcnRfb2Zmc2V0OiB7IHplcm9feCwgemVyb195IH1cbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBoYW5kbGVSZXNpemUoKSB7XG4gICAgICBzZXREaW1lbnNpb25zKG1ha2VEaW1lbnNpb25zKCkpO1xuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gIH0sIFtdKTtcblxuICB2YXIgemVyb194ID0gTWF0aC5mbG9vcih3aWR0aCAvIDIpO1xuICB2YXIgemVyb195ID0gTWF0aC5mbG9vcihoZWlnaHQgLyAyKSAtIDEwMDtcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdFJlZHV4Q29udGV4dC5Db25zdW1lcj5cbiAgICAgIHsoeyBzdG9yZSB9KSA9PiAoXG4gICAgICAgIDxTdGFnZSB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBmaWxsPVwicmVkXCI+XG4gICAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gICAgICAgICAgICA8TGF5ZXI+XG4gICAgICAgICAgICAgIDxSZWN0XG4gICAgICAgICAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICAgICAgICAgIGhlaWdodD17aGVpZ2h0fVxuICAgICAgICAgICAgICAgIGZpbGw9XCIjZTZlNmU2XCJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e3RydWV9XG4gICAgICAgICAgICAgICAgZHJhZ0JvdW5kRnVuYz17XyA9PiAoeyB4OiAwLCB5OiAwIH0pfVxuICAgICAgICAgICAgICAgIG9uRHJhZ01vdmU9e2UgPT4gZGlzcGF0Y2haZXJvcyh7IHR5cGU6IFwiZHJhZ19ncmlkXCIsIGUgfSl9XG4gICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9e2UgPT4gZGlzcGF0Y2haZXJvcyh7IHR5cGU6IFwiZHJhZ19ncmlkX3N0YXJ0XCIsIGUgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0xheWVyPlxuICAgICAgICAgICAgPExheWVyPnttYWtlR3JpZChkaW1lbnNpb25zLCB6ZXJvc1N0YXRlKX08L0xheWVyPlxuICAgICAgICAgICAgPFBhcnRzXG4gICAgICAgICAgICAgIHplcm9feD17emVyb3NTdGF0ZS56ZXJvX3h9XG4gICAgICAgICAgICAgIHplcm9feT17emVyb3NTdGF0ZS56ZXJvX3l9XG4gICAgICAgICAgICAgIHBpeGVsV2lkdGg9e2RpbWVuc2lvbnMucGl4ZWxXaWR0aH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Qcm92aWRlcj5cbiAgICAgICAgPC9TdGFnZT5cbiAgICAgICl9XG4gICAgPC9SZWFjdFJlZHV4Q29udGV4dC5Db25zdW1lcj5cbiAgKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/page.js\n");

/***/ }),

/***/ "./js/parts.js":
/*!*********************!*\
  !*** ./js/parts.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(React) {/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-konva */ \"./node_modules/react-konva/lib/ReactKonva.js\");\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_konva__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./state.js */ \"./js/state.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\nvar PartPixels = function PartPixels(_ref) {\n  var part = _ref.part,\n      pixelWidth = _ref.pixelWidth,\n      lineWidth = _ref.lineWidth;\n\n  var x = function x(col) {\n    return col * pixelWidth;\n  };\n\n  var y = function y(row) {\n    return row * pixelWidth;\n  };\n\n  return /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_0__[\"Group\"], null, part.pixels.map(function (pixel) {\n    return /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_0__[\"Rect\"], {\n      key: pixel.key,\n      width: pixelWidth,\n      height: pixelWidth,\n      x: x(pixel.col),\n      y: y(pixel.row),\n      fill: pixel.color\n    });\n  }), /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_0__[\"Line\"], {\n    stroke: \"white\",\n    strokeWidth: lineWidth,\n    points: [x(0), y(0), x(part.width), y(0), x(part.width), y(part.height), x(0), y(part.height), x(0), y(0)]\n  }));\n};\n\nvar Part = function Part(_ref2) {\n  var part = _ref2.part,\n      zero_x = _ref2.zero_x,\n      zero_y = _ref2.zero_y,\n      pixelWidth = _ref2.pixelWidth,\n      partWidth = _ref2.partWidth;\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useDispatch\"])();\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])({\n    x: 0,\n    y: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var start_x = zero_x + part.user_x * pixelWidth;\n  var start_y = zero_y - part.user_y * pixelWidth;\n  var lineWidth = Math.max(Math.floor(pixelWidth / 2), 1);\n\n  var onDragEnd = function onDragEnd() {\n    var user_x = (position.x - zero_x) / pixelWidth;\n    var user_y = (zero_y - position.y) / pixelWidth;\n    dispatch(_state_js__WEBPACK_IMPORTED_MODULE_3__[\"PartState\"].ChangePosition({\n      serial: part.serial,\n      part_number: part.part_number,\n      user_x: user_x,\n      user_y: user_y\n    }));\n  };\n\n  var dragBound = function dragBound(pos) {\n    var newpos = {\n      x: pos.x - (pos.x - zero_x) % pixelWidth,\n      y: pos.y - (pos.y - zero_y) % pixelWidth\n    };\n    setPosition(newpos);\n    return newpos;\n  };\n\n  return /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_0__[\"Group\"], {\n    x: start_x,\n    y: start_y,\n    draggable: true,\n    onDragEnd: onDragEnd,\n    dragBoundFunc: dragBound,\n    onClick: function onClick() {\n      return dispatch(_state_js__WEBPACK_IMPORTED_MODULE_3__[\"PartState\"].Highlight(part.serial, part.part_number));\n    },\n    onTap: function onTap() {\n      return dispatch(_state_js__WEBPACK_IMPORTED_MODULE_3__[\"PartState\"].Highlight(part.serial, part.part_number));\n    }\n  }, /*#__PURE__*/React.createElement(PartPixels, {\n    serial: part.serial,\n    part: part,\n    pixelWidth: pixelWidth,\n    lineWidth: lineWidth,\n    partWidth: partWidth\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var parts = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useSelector\"])(function (state) {\n    return state.parts.parts;\n  });\n  return /*#__PURE__*/React.createElement(react_konva__WEBPACK_IMPORTED_MODULE_0__[\"Layer\"], null, parts.map(function (part) {\n    return /*#__PURE__*/React.createElement(Part, _extends({\n      key: part.key,\n      part: part\n    }, props));\n  }));\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! react */ \"./node_modules/react/index.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9wYXJ0cy5qcz8wMjJmIl0sIm5hbWVzIjpbIlBhcnRQaXhlbHMiLCJwYXJ0IiwicGl4ZWxXaWR0aCIsImxpbmVXaWR0aCIsIngiLCJjb2wiLCJ5Iiwicm93IiwicGl4ZWxzIiwibWFwIiwicGl4ZWwiLCJrZXkiLCJjb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiUGFydCIsInplcm9feCIsInplcm9feSIsInBhcnRXaWR0aCIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJ1c2VTdGF0ZSIsInBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJzdGFydF94IiwidXNlcl94Iiwic3RhcnRfeSIsInVzZXJfeSIsIk1hdGgiLCJtYXgiLCJmbG9vciIsIm9uRHJhZ0VuZCIsIlBhcnRTdGF0ZSIsIkNoYW5nZVBvc2l0aW9uIiwic2VyaWFsIiwicGFydF9udW1iZXIiLCJkcmFnQm91bmQiLCJwb3MiLCJuZXdwb3MiLCJIaWdobGlnaHQiLCJwcm9wcyIsInBhcnRzIiwidXNlU2VsZWN0b3IiLCJzdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBRUEsSUFBSUEsVUFBVSxHQUFHLFNBQWJBLFVBQWEsT0FBcUM7QUFBQSxNQUFsQ0MsSUFBa0MsUUFBbENBLElBQWtDO0FBQUEsTUFBNUJDLFVBQTRCLFFBQTVCQSxVQUE0QjtBQUFBLE1BQWhCQyxTQUFnQixRQUFoQkEsU0FBZ0I7O0FBQ3BELE1BQUlDLENBQUMsR0FBRyxTQUFKQSxDQUFJLENBQUFDLEdBQUc7QUFBQSxXQUFJQSxHQUFHLEdBQUdILFVBQVY7QUFBQSxHQUFYOztBQUNBLE1BQUlJLENBQUMsR0FBRyxTQUFKQSxDQUFJLENBQUFDLEdBQUc7QUFBQSxXQUFJQSxHQUFHLEdBQUdMLFVBQVY7QUFBQSxHQUFYOztBQUVBLHNCQUNFLG9CQUFDLGlEQUFELFFBQ0dELElBQUksQ0FBQ08sTUFBTCxDQUFZQyxHQUFaLENBQWdCLFVBQUFD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Q0FBQ1UsR0FBaEI7QUFBcUIsVUFBSSxFQUFFVjtBQUEzQixPQUFxQ3VDLEtBQXJDLEVBRGE7QUFBQSxHQUFkLENBREgsQ0FERjtBQU9ELENBVkQsRSIsImZpbGUiOiIuL2pzL3BhcnRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5ZXIsIEdyb3VwLCBSZWN0LCBMaW5lIH0gZnJvbSBcInJlYWN0LWtvbnZhXCI7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IFBhcnRTdGF0ZSB9IGZyb20gXCIuL3N0YXRlLmpzXCI7XG5cbnZhciBQYXJ0UGl4ZWxzID0gKHsgcGFydCwgcGl4ZWxXaWR0aCwgbGluZVdpZHRoIH0pID0+IHtcbiAgbGV0IHggPSBjb2wgPT4gY29sICogcGl4ZWxXaWR0aDtcbiAgbGV0IHkgPSByb3cgPT4gcm93ICogcGl4ZWxXaWR0aDtcblxuICByZXR1cm4gKFxuICAgIDxHcm91cD5cbiAgICAgIHtwYXJ0LnBpeGVscy5tYXAocGl4ZWwgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWN0XG4gICAgICAgICAgICBrZXk9e3BpeGVsLmtleX1cbiAgICAgICAgICAgIHdpZHRoPXtwaXhlbFdpZHRofVxuICAgICAgICAgICAgaGVpZ2h0PXtwaXhlbFdpZHRofVxuICAgICAgICAgICAgeD17eChwaXhlbC5jb2wpfVxuICAgICAgICAgICAgeT17eShwaXhlbC5yb3cpfVxuICAgICAgICAgICAgZmlsbD17cGl4ZWwuY29sb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgICAgPExpbmVcbiAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxuICAgICAgICBzdHJva2VXaWR0aD17bGluZVdpZHRofVxuICAgICAgICBwb2ludHM9e1tcbiAgICAgICAgICB4KDApLFxuICAgICAgICAgIHkoMCksXG4gICAgICAgICAgeChwYXJ0LndpZHRoKSxcbiAgICAgICAgICB5KDApLFxuICAgICAgICAgIHgocGFydC53aWR0aCksXG4gICAgICAgICAgeShwYXJ0LmhlaWdodCksXG4gICAgICAgICAgeCgwKSxcbiAgICAgICAgICB5KHBhcnQuaGVpZ2h0KSxcbiAgICAgICAgICB4KDApLFxuICAgICAgICAgIHkoMClcbiAgICAgICAgXX1cbiAgICAgIC8+XG4gICAgPC9Hcm91cD5cbiAgKTtcbn07XG5cbnZhciBQYXJ0ID0gKHsgcGFydCwgemVyb194LCB6ZXJvX3ksIHBpeGVsV2lkdGgsIHBhcnRXaWR0aCB9KSA9PiB7XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG5cbiAgdmFyIFtwb3NpdGlvbiwgc2V0UG9zaXRpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xuXG4gIHZhciBzdGFydF94ID0gemVyb194ICsgcGFydC51c2VyX3ggKiBwaXhlbFdpZHRoO1xuICB2YXIgc3RhcnRfeSA9IHplcm9feSAtIHBhcnQudXNlcl95ICogcGl4ZWxXaWR0aDtcbiAgdmFyIGxpbmVXaWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IocGl4ZWxXaWR0aCAvIDIpLCAxKTtcblxuICB2YXIgb25EcmFnRW5kID0gKCkgPT4ge1xuICAgIHZhciB1c2VyX3ggPSAocG9zaXRpb24ueCAtIHplcm9feCkgLyBwaXhlbFdpZHRoO1xuICAgIHZhciB1c2VyX3kgPSAoemVyb195IC0gcG9zaXRpb24ueSkgLyBwaXhlbFdpZHRoO1xuICAgIGRpc3BhdGNoKFxuICAgICAgUGFydFN0YXRlLkNoYW5nZVBvc2l0aW9uKHtcbiAgICAgICAgc2VyaWFsOiBwYXJ0LnNlcmlhbCxcbiAgICAgICAgcGFydF9udW1iZXI6IHBhcnQucGFydF9udW1iZXIsXG4gICAgICAgIHVzZXJfeCxcbiAgICAgICAgdXNlcl95XG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGRyYWdCb3VuZCA9IHBvcyA9PiB7XG4gICAgdmFyIG5ld3BvcyA9IHtcbiAgICAgIHg6IHBvcy54IC0gKChwb3MueCAtIHplcm9feCkgJSBwaXhlbFdpZHRoKSxcbiAgICAgIHk6IHBvcy55IC0gKChwb3MueSAtIHplcm9feSkgJSBwaXhlbFdpZHRoKVxuICAgIH07XG4gICAgc2V0UG9zaXRpb24obmV3cG9zKTtcbiAgICByZXR1cm4gbmV3cG9zO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEdyb3VwXG4gICAgICB4PXtzdGFydF94fVxuICAgICAgeT17c3RhcnRfeX1cbiAgICAgIGRyYWdnYWJsZT17dHJ1ZX1cbiAgICAgIG9uRHJhZ0VuZD17b25EcmFnRW5kfVxuICAgICAgZHJhZ0JvdW5kRnVuYz17ZHJhZ0JvdW5kfVxuICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgZGlzcGF0Y2goUGFydFN0YXRlLkhpZ2hsaWdodChwYXJ0LnNlcmlhbCwgcGFydC5wYXJ0X251bWJlcikpXG4gICAgICB9XG4gICAgICBvblRhcD17KCkgPT4gZGlzcGF0Y2goUGFydFN0YXRlLkhpZ2hsaWdodChwYXJ0LnNlcmlhbCwgcGFydC5wYXJ0X251bWJlcikpfVxuICAgID5cbiAgICAgIDxQYXJ0UGl4ZWxzXG4gICAgICAgIHNlcmlhbD17cGFydC5zZXJpYWx9XG4gICAgICAgIHBhcnQ9e3BhcnR9XG4gICAgICAgIHBpeGVsV2lkdGg9e3BpeGVsV2lkdGh9XG4gICAgICAgIGxpbmVXaWR0aD17bGluZVdpZHRofVxuICAgICAgICBwYXJ0V2lkdGg9e3BhcnRXaWR0aH1cbiAgICAgIC8+XG4gICAgPC9Hcm91cD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHByb3BzID0+IHtcbiAgdmFyIHBhcnRzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUucGFydHMucGFydHMpO1xuXG4gIHJldHVybiAoXG4gICAgPExheWVyPlxuICAgICAge3BhcnRzLm1hcChwYXJ0ID0+IChcbiAgICAgICAgPFBhcnQga2V5PXtwYXJ0LmtleX0gcGFydD17cGFydH0gey4uLnByb3BzfSAvPlxuICAgICAgKSl9XG4gICAgPC9MYXllcj5cbiAgKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/parts.js\n");

/***/ }),

/***/ "./js/state.js":
/*!*********************!*\
  !*** ./js/state.js ***!
  \*********************/
/*! exports provided: PartState, partsSaga */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PartState\", function() { return PartState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"partsSaga\", function() { return partsSaga; });\n/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ \"./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js\");\n/* harmony import */ var redux_act__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux-act */ \"./node_modules/redux-act/esm/index.js\");\n/* harmony import */ var _wsclient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wsclient.js */ \"./js/wsclient.js\");\nvar _marked = /*#__PURE__*/regeneratorRuntime.mark(wsConnectedSaga),\n    _marked2 = /*#__PURE__*/regeneratorRuntime.mark(changePositionSaga),\n    _marked3 = /*#__PURE__*/regeneratorRuntime.mark(highlightSaga),\n    _marked4 = /*#__PURE__*/regeneratorRuntime.mark(makePartStreamSaga),\n    _marked5 = /*#__PURE__*/regeneratorRuntime.mark(streamProgressSaga),\n    _marked6 = /*#__PURE__*/regeneratorRuntime.mark(partsSaga);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar combine_parts = function combine_parts(parts, existing) {\n  var by_key = {};\n  existing.map(function (part) {\n    by_key[part.key] = part;\n  });\n  var result = [];\n  var anyDifferent = false;\n  parts.map(function (part) {\n    if (!by_key[part.key]) {\n      by_key[part.key] = {};\n    }\n\n    var nxt = _objectSpread(_objectSpread({}, by_key[part.key]), part);\n\n    var different = false;\n    Object.keys(nxt).map(function (attr) {\n      if (by_key[part.key][attr] != nxt[attr]) {\n        different = true;\n      }\n    });\n\n    if (different) {\n      result.push(nxt);\n      anyDifferent = true;\n    } else {\n      result.push(by_key[part.key]);\n    }\n  });\n\n  if (anyDifferent) {\n    return result;\n  } else {\n    return existing;\n  }\n};\n\nvar PartsStateKls = /*#__PURE__*/function () {\n  function PartsStateKls() {\n    _classCallCheck(this, PartsStateKls);\n\n    this.Error = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Failed to interact with the server\", function (_ref) {\n      var namespace = _ref.namespace,\n          error = _ref.error,\n          error_code = _ref.error_code,\n          reason = _ref.reason,\n          original = _ref.original;\n\n      if (!reason) {\n        reason = original.type.substr(original.type.indexOf(\"] \") + 2);\n\n        if (original.reason) {\n          reason = original.reason;\n        }\n      }\n\n      reason = \"\".concat(error_code, \": Failure while \").concat(reason);\n\n      if (typeof error !== \"string\" && !(error instanceof String)) {\n        error = JSON.stringify(error);\n      }\n\n      return {\n        namespace: namespace,\n        reason: reason,\n        error: error,\n        original: original\n      };\n    });\n    this.ClearError = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Clear error\");\n    this.MakeStream = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Make a stream\");\n    this.StartedStream = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Started a stream\", function (messageId) {\n      return {\n        messageId: messageId\n      };\n    });\n    this.LoadingStream = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Loading a stream\");\n    this.StreamProgress = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Progress from a stream\");\n    this.Highlight = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"highlight a part\", function (serial, part_number) {\n      return {\n        serial: serial,\n        part_number: part_number\n      };\n    });\n    this.GotParts = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Got parts\");\n    this.ChangePosition = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Change Position\");\n  }\n\n  _createClass(PartsStateKls, [{\n    key: \"reducer\",\n    value: function reducer() {\n      var _createReducer;\n\n      return Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createReducer\"])((_createReducer = {}, _defineProperty(_createReducer, this.Error, function (state, error) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          error: error\n        });\n      }), _defineProperty(_createReducer, this.ClearError, function (state, _) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          error: undefined\n        });\n      }), _defineProperty(_createReducer, this.StartedStream, function (state, _ref2) {\n        var messageId = _ref2.messageId;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          loading: false,\n          messageId: messageId\n        });\n      }), _defineProperty(_createReducer, _wsclient_js__WEBPACK_IMPORTED_MODULE_2__[\"WSState\"].Error, function (state, _) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          loading: false,\n          parts: []\n        });\n      }), _defineProperty(_createReducer, this.LoadingStream, function (state, _) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          loading: true,\n          error: undefined,\n          parts: [],\n          messageId: undefined\n        });\n      }), _defineProperty(_createReducer, this.GotParts, function (state, parts) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          parts: combine_parts(parts, state.parts),\n          waiting: false\n        });\n      }), _createReducer), {\n        parts: [],\n        error: undefined,\n        waiting: true,\n        loading: false,\n        messageId: undefined\n      });\n    }\n  }]);\n\n  return PartsStateKls;\n}();\n\nvar PartState = new PartsStateKls();\n\nfunction wsConnectedSaga() {\n  return regeneratorRuntime.wrap(function wsConnectedSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(PartState.MakeStream());\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction changePositionSaga(original) {\n  var messageId;\n  return regeneratorRuntime.wrap(function changePositionSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"select\"])(function (state) {\n            return state.parts.messageId;\n          });\n\n        case 2:\n          messageId = _context2.sent;\n\n          if (messageId) {\n            _context2.next = 5;\n            break;\n          }\n\n          return _context2.abrupt(\"return\");\n\n        case 5:\n          _context2.next = 7;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(Object(_wsclient_js__WEBPACK_IMPORTED_MODULE_2__[\"WSCommand\"])(\"/v1/lifx/command\", {\n            command: \"change_position\",\n            args: original.payload\n          }, {\n            onerror: PartState.Error,\n            original: original,\n            parentMessageIds: [messageId]\n          }));\n\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction highlightSaga(original) {\n  var messageId;\n  return regeneratorRuntime.wrap(function highlightSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"select\"])(function (state) {\n            return state.parts.messageId;\n          });\n\n        case 2:\n          messageId = _context3.sent;\n\n          if (messageId) {\n            _context3.next = 5;\n            break;\n          }\n\n          return _context3.abrupt(\"return\");\n\n        case 5:\n          _context3.next = 7;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(Object(_wsclient_js__WEBPACK_IMPORTED_MODULE_2__[\"WSCommand\"])(\"/v1/lifx/command\", {\n            command: \"highlight\",\n            args: original.payload\n          }, {\n            onerror: PartState.Error,\n            original: original,\n            parentMessageIds: [messageId]\n          }));\n\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}\n\nfunction makePartStreamSaga(original) {\n  var loading, onsuccess, onerror, onprogress;\n  return regeneratorRuntime.wrap(function makePartStreamSaga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"select\"])(function (state) {\n            return state.parts.loading;\n          });\n\n        case 2:\n          loading = _context4.sent;\n\n          if (!loading) {\n            _context4.next = 5;\n            break;\n          }\n\n          return _context4.abrupt(\"return\");\n\n        case 5:\n          onsuccess = PartState.LoadingStream;\n          onerror = PartState.Error;\n          onprogress = PartState.StreamProgress;\n          _context4.next = 10;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(PartState.LoadingStream());\n\n        case 10:\n          _context4.next = 12;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(Object(_wsclient_js__WEBPACK_IMPORTED_MODULE_2__[\"WSCommand\"])(\"/v1/lifx/command\", {\n            command: \"parts/store\"\n          }, {\n            onsuccess: onsuccess,\n            onprogress: onprogress,\n            onerror: onerror,\n            original: original\n          }));\n\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction streamProgressSaga(command) {\n  var payload, instruction;\n  return regeneratorRuntime.wrap(function streamProgressSaga$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          payload = command.payload;\n\n          if (!payload.progress.error) {\n            _context5.next = 5;\n            break;\n          }\n\n          _context5.next = 4;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(PartState.Error(_objectSpread(_objectSpread({}, payload.progress), {}, {\n            original: {\n              type: \"[] processing device discovery\"\n            }\n          })));\n\n        case 4:\n          return _context5.abrupt(\"return\");\n\n        case 5:\n          instruction = payload.progress.instruction;\n\n          if (!(instruction == \"started\")) {\n            _context5.next = 11;\n            break;\n          }\n\n          _context5.next = 9;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(PartState.StartedStream(payload.messageId));\n\n        case 9:\n          _context5.next = 14;\n          break;\n\n        case 11:\n          if (!(instruction == \"parts\")) {\n            _context5.next = 14;\n            break;\n          }\n\n          _context5.next = 14;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(PartState.GotParts(payload.progress.parts));\n\n        case 14:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}\n\nfunction partsSaga() {\n  return regeneratorRuntime.wrap(function partsSaga$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"takeEvery\"])(PartState.StreamProgress, streamProgressSaga);\n\n        case 2:\n          _context6.next = 4;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"takeEvery\"])(PartState.Highlight, highlightSaga);\n\n        case 4:\n          _context6.next = 6;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"takeEvery\"])(PartState.ChangePosition, changePositionSaga);\n\n        case 6:\n          _context6.next = 8;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"takeLatest\"])(PartState.MakeStream, makePartStreamSaga);\n\n        case 8:\n          _context6.next = 10;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"takeLatest\"])(_wsclient_js__WEBPACK_IMPORTED_MODULE_2__[\"WSState\"].Connected, wsConnectedSaga);\n\n        case 10:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9zdGF0ZS5qcz9lMTA5Il0sIm5hbWVzIjpbIndzQ29ubmVjdGVkU2FnYSIsImNoYW5nZVBvc2l0aW9uU2FnYSIsImhpZ2hsaWdodFNhZ2EiLCJtYWtlUGFydFN0cmVhbVNhZ2EiLCJzdHJlYW1Qcm9ncmVzc1NhZ2EiLCJwYXJ0c1NhZ2EiLCJjb21iaW5lX3BhcnRzIiwicGFydHMiLCJleGlzdGluZyIsImJ5X2tleSIsIm1hcCIsInBhcnQiLCJrZXkiLCJyZXN1bHQiLCJhbnlEaWZmZXJlbnQiLCJueHQiLCJkaWZmZXJlbnQiLCJPYmplY3QiLCJrZXlzIiwiYXR0ciIsInB1c2giLCJQYXJ0c1N0YXRlS2xzIiwiRXJyb3IiLCJjcmVhdGVBY3Rpb24iLCJuYW1lc3BhY2UiLCJlcnJvciIsImVycm9yX2NvZGUiLCJyZWFzb24iLCJvcmlnaW5hbCIsInR5cGUiLCJzdWJzdHIiLCJpbmRleE9mIiwiU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsIkNsZWFyRXJyb3IiLCJNYWtlU3RyZWFtIiwiU3RhcnRlZFN0cmVhbSIsIm1lc3NhZ2VJZCIsIkxvYWRpbmdTdHJlYW0iLCJTdHJlYW1Qcm9ncmVzcyIsIkhpZ2hsaWdodCIsInNlcmlhbCIsInBhcnRfbnVtYmVyIiwiR290UGFydHMiLCJDaGFuZ2VQb3NpdGlvbiIsImNyZWF0ZVJlZHVjZXIiLCJzdGF0ZSIsIl8iLCJ1bmRlZmluZWQiLCJsb2FkaW5nIiwiV1NTdGF0ZSIsIndhaXRpbmciLCJQYXJ0U3RhdGUiLCJwdXQiLCJzZWxlY3QiLCJXU0NvbW1hbmQiLCJjb21tYW5kIiwiYXJncyIsInBheWxvYWQiLCJvbmVycm9yIiwicGFyZW50TWVzc2FnZUlkcyIsIm9uc3VjY2VzcyIsIm9ucHJvZ3Jlc3MiLCJwcm9ncmVzcyIsImluc3RydWN0aW9uIiwidGFrZUV2ZXJ5IiwidGFrZUxhdGVzdCIsIkNvbm5lY3RlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O21EQThIVUEsZTtvREFJQUMsa0I7b0RB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QUFHLENBQUNELFNBQVMsQ0FBQ2hCLGFBQVYsQ0FBd0JzQixPQUFPLENBQUNyQixTQUFoQyxDQUFELENBQVQ7O0FBaEJKO0FBQUE7QUFBQTs7QUFBQTtBQUFBLGdCQWlCYTJCLFdBQVcsSUFBSSxPQWpCNUI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFrQkksaUJBQU1YLDhEQUFHLENBQUNELFNBQVMsQ0FBQ1QsUUFBVixDQUFtQmUsT0FBTyxDQUFDSyxRQUFSLENBQWlCekQsS0FBcEMsQ0FBRCxDQUFUOztBQWxCSjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFzQk8sU0FBVUYsU0FBVjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDTCxpQkFBTTZELG9FQUFTLENBQUNiLFNBQVMsQ0FBQ2IsY0FBWCxFQUEyQnBDLGtCQUEzQixDQUFmOztBQURLO0FBQUE7QUFFTCxpQkFBTThELG9FQUFTLENBQUNiLFNBQVMsQ0FBQ1osU0FBWCxFQUFzQnZDLGFBQXRCLENBQWY7O0FBRks7QUFBQTtBQUdMLGlCQUFNZ0Usb0VBQVMsQ0FBQ2IsU0FBUyxDQUFDUixjQUFYLEVBQTJCNUMsa0JBQTNCLENBQWY7O0FBSEs7QUFBQTtBQUtMLGlCQUFNa0UscUVBQVUsQ0FBQ2QsU0FBUyxDQUFDakIsVUFBWCxFQUF1QmpDLGtCQUF2QixDQUFoQjs7QUFMSztBQUFBO0FBTUwsaUJBQU1nRSxxRUFBVSxDQUFDaEIsb0RBQU8sQ0FBQ2lCLFNBQVQsRUFBb0JwRSxlQUFwQixDQUFoQjs7QUFOSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsImZpbGUiOiIuL2pzL3N0YXRlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGFrZUV2ZXJ5LCBzZWxlY3QsIHRha2VMYXRlc3QsIHB1dCB9IGZyb20gXCJyZWR1eC1zYWdhL2VmZmVjdHNcIjtcbmltcG9ydCB7IGNyZWF0ZUFjdGlvbiwgY3JlYXRlUmVkdWNlciB9IGZyb20gXCJyZWR1eC1hY3RcIjtcblxuaW1wb3J0IHsgV1NTdGF0ZSwgV1NDb21tYW5kIH0gZnJvbSBcIi4vd3NjbGllbnQuanNcIjtcblxudmFyIGNvbWJpbmVfcGFydHMgPSAocGFydHMsIGV4aXN0aW5nKSA9PiB7XG4gIHZhciBieV9rZXkgPSB7fTtcbiAgZXhpc3RpbmcubWFwKHBhcnQgPT4ge1xuICAgIGJ5X2tleVtwYXJ0LmtleV0gPSBwYXJ0O1xuICB9KTtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBhbnlEaWZmZXJlbnQgPSBmYWxzZTtcblxuICBwYXJ0cy5tYXAocGFydCA9PiB7XG4gICAgaWYgKCFieV9rZXlbcGFydC5rZXldKSB7XG4gICAgICBieV9rZXlbcGFydC5rZXldID0ge307XG4gICAgfVxuXG4gICAgdmFyIG54dCA9IHsgLi4uYnlfa2V5W3BhcnQua2V5XSwgLi4ucGFydCB9O1xuXG4gICAgdmFyIGRpZmZlcmVudCA9IGZhbHNlO1xuICAgIE9iamVjdC5rZXlzKG54dCkubWFwKGF0dHIgPT4ge1xuICAgICAgaWYgKGJ5X2tleVtwYXJ0LmtleV1bYXR0cl0gIT0gbnh0W2F0dHJdKSB7XG4gICAgICAgIGRpZmZlcmVudCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZGlmZmVyZW50KSB7XG4gICAgICByZXN1bHQucHVzaChueHQpO1xuICAgICAgYW55RGlmZmVyZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2goYnlfa2V5W3BhcnQua2V5XSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoYW55RGlmZmVyZW50KSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXhpc3Rpbmc7XG4gIH1cbn07XG5cbmNsYXNzIFBhcnRzU3RhdGVLbHMge1xuICBFcnJvciA9IGNyZWF0ZUFjdGlvbihcbiAgICBcIkZhaWxlZCB0byBpbnRlcmFjdCB3aXRoIHRoZSBzZXJ2ZXJcIixcbiAgICAoeyBuYW1lc3BhY2UsIGVycm9yLCBlcnJvcl9jb2RlLCByZWFzb24sIG9yaWdpbmFsIH0pID0+IHtcbiAgICAgIGlmICghcmVhc29uKSB7XG4gICAgICAgIHJlYXNvbiA9IG9yaWdpbmFsLnR5cGUuc3Vic3RyKG9yaWdpbmFsLnR5cGUuaW5kZXhPZihcIl0gXCIpICsgMik7XG4gICAgICAgIGlmIChvcmlnaW5hbC5yZWFzb24pIHtcbiAgICAgICAgICByZWFzb24gPSBvcmlnaW5hbC5yZWFzb247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVhc29uID0gYCR7ZXJyb3JfY29kZX06IEZhaWx1cmUgd2hpbGUgJHtyZWFzb259YDtcblxuICAgICAgaWYgKHR5cGVvZiBlcnJvciAhPT0gXCJzdHJpbmdcIiAmJiAhKGVycm9yIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICBlcnJvciA9IEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgbmFtZXNwYWNlLCByZWFzb24sIGVycm9yLCBvcmlnaW5hbCB9O1xuICAgIH1cbiAgKTtcblxuICBDbGVhckVycm9yID0gY3JlYXRlQWN0aW9uKFwiQ2xlYXIgZXJyb3JcIik7XG5cbiAgTWFrZVN0cmVhbSA9IGNyZWF0ZUFjdGlvbihcIk1ha2UgYSBzdHJlYW1cIik7XG4gIFN0YXJ0ZWRTdHJlYW0gPSBjcmVhdGVBY3Rpb24oXCJTdGFydGVkIGEgc3RyZWFtXCIsIG1lc3NhZ2VJZCA9PiAoe1xuICAgIG1lc3NhZ2VJZFxuICB9KSk7XG4gIExvYWRpbmdTdHJlYW0gPSBjcmVhdGVBY3Rpb24oXCJMb2FkaW5nIGEgc3RyZWFtXCIpO1xuICBTdHJlYW1Qcm9ncmVzcyA9IGNyZWF0ZUFjdGlvbihcIlByb2dyZXNzIGZyb20gYSBzdHJlYW1cIik7XG5cbiAgSGlnaGxpZ2h0ID0gY3JlYXRlQWN0aW9uKFwiaGlnaGxpZ2h0IGEgcGFydFwiLCAoc2VyaWFsLCBwYXJ0X251bWJlcikgPT4gKHtcbiAgICBzZXJpYWwsXG4gICAgcGFydF9udW1iZXJcbiAgfSkpO1xuXG4gIEdvdFBhcnRzID0gY3JlYXRlQWN0aW9uKFwiR290IHBhcnRzXCIpO1xuICBDaGFuZ2VQb3NpdGlvbiA9IGNyZWF0ZUFjdGlvbihcIkNoYW5nZSBQb3NpdGlvblwiKTtcblxuICByZWR1Y2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVSZWR1Y2VyKFxuICAgICAge1xuICAgICAgICBbdGhpcy5FcnJvcl06IChzdGF0ZSwgZXJyb3IpID0+IHtcbiAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgZXJyb3IgfTtcbiAgICAgICAgfSxcbiAgICAgICAgW3RoaXMuQ2xlYXJFcnJvcl06IChzdGF0ZSwgXykgPT4ge1xuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBlcnJvcjogdW5kZWZpbmVkIH07XG4gICAgICAgIH0sXG4gICAgICAgIFt0aGlzLlN0YXJ0ZWRTdHJlYW1dOiAoc3RhdGUsIHsgbWVzc2FnZUlkIH0pID0+IHtcbiAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIG1lc3NhZ2VJZCB9O1xuICAgICAgICB9LFxuICAgICAgICBbV1NTdGF0ZS5FcnJvcl06IChzdGF0ZSwgXykgPT4ge1xuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBsb2FkaW5nOiBmYWxzZSwgcGFydHM6IFtdIH07XG4gICAgICAgIH0sXG4gICAgICAgIFt0aGlzLkxvYWRpbmdTdHJlYW1dOiAoc3RhdGUsIF8pID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBhcnRzOiBbXSxcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogdW5kZWZpbmVkXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgW3RoaXMuR290UGFydHNdOiAoc3RhdGUsIHBhcnRzKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgcGFydHM6IGNvbWJpbmVfcGFydHMocGFydHMsIHN0YXRlLnBhcnRzKSxcbiAgICAgICAgICAgIHdhaXRpbmc6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGFydHM6IFtdLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICB3YWl0aW5nOiB0cnVlLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZUlkOiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBQYXJ0U3RhdGUgPSBuZXcgUGFydHNTdGF0ZUtscygpO1xuXG5mdW5jdGlvbiogd3NDb25uZWN0ZWRTYWdhKCkge1xuICB5aWVsZCBwdXQoUGFydFN0YXRlLk1ha2VTdHJlYW0oKSk7XG59XG5cbmZ1bmN0aW9uKiBjaGFuZ2VQb3NpdGlvblNhZ2Eob3JpZ2luYWwpIHtcbiAgbGV0IG1lc3NhZ2VJZCA9IHlpZWxkIHNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5wYXJ0cy5tZXNzYWdlSWQpO1xuICBpZiAoIW1lc3NhZ2VJZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHlpZWxkIHB1dChcbiAgICBXU0NvbW1hbmQoXG4gICAgICBcIi92MS9saWZ4L2NvbW1hbmRcIixcbiAgICAgIHtcbiAgICAgICAgY29tbWFuZDogXCJjaGFuZ2VfcG9zaXRpb25cIixcbiAgICAgICAgYXJnczogb3JpZ2luYWwucGF5bG9hZFxuICAgICAgfSxcbiAgICAgIHsgb25lcnJvcjogUGFydFN0YXRlLkVycm9yLCBvcmlnaW5hbCwgcGFyZW50TWVzc2FnZUlkczogW21lc3NhZ2VJZF0gfVxuICAgIClcbiAgKTtcbn1cblxuZnVuY3Rpb24qIGhpZ2hsaWdodFNhZ2Eob3JpZ2luYWwpIHtcbiAgbGV0IG1lc3NhZ2VJZCA9IHlpZWxkIHNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5wYXJ0cy5tZXNzYWdlSWQpO1xuICBpZiAoIW1lc3NhZ2VJZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHlpZWxkIHB1dChcbiAgICBXU0NvbW1hbmQoXG4gICAgICBcIi92MS9saWZ4L2NvbW1hbmRcIixcbiAgICAgIHtcbiAgICAgICAgY29tbWFuZDogXCJoaWdobGlnaHRcIixcbiAgICAgICAgYXJnczogb3JpZ2luYWwucGF5bG9hZFxuICAgICAgfSxcbiAgICAgIHsgb25lcnJvcjogUGFydFN0YXRlLkVycm9yLCBvcmlnaW5hbCwgcGFyZW50TWVzc2FnZUlkczogW21lc3NhZ2VJZF0gfVxuICAgIClcbiAgKTtcbn1cblxuZnVuY3Rpb24qIG1ha2VQYXJ0U3RyZWFtU2FnYShvcmlnaW5hbCkge1xuICBsZXQgbG9hZGluZyA9IHlpZWxkIHNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5wYXJ0cy5sb2FkaW5nKTtcbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgb25zdWNjZXNzID0gUGFydFN0YXRlLkxvYWRpbmdTdHJlYW07XG4gIGxldCBvbmVycm9yID0gUGFydFN0YXRlLkVycm9yO1xuICBsZXQgb25wcm9ncmVzcyA9IFBhcnRTdGF0ZS5TdHJlYW1Qcm9ncmVzcztcblxuICB5aWVsZCBwdXQoUGFydFN0YXRlLkxvYWRpbmdTdHJlYW0oKSk7XG5cbiAgeWllbGQgcHV0KFxuICAgIFdTQ29tbWFuZChcbiAgICAgIFwiL3YxL2xpZngvY29tbWFuZFwiLFxuICAgICAge1xuICAgICAgICBjb21tYW5kOiBcInBhcnRzL3N0b3JlXCJcbiAgICAgIH0sXG4gICAgICB7IG9uc3VjY2Vzcywgb25wcm9ncmVzcywgb25lcnJvciwgb3JpZ2luYWwgfVxuICAgIClcbiAgKTtcbn1cblxuZnVuY3Rpb24qIHN0cmVhbVByb2dyZXNzU2FnYShjb21tYW5kKSB7XG4gIGxldCB7IHBheWxvYWQgfSA9IGNvbW1hbmQ7XG5cbiAgaWYgKHBheWxvYWQucHJvZ3Jlc3MuZXJyb3IpIHtcbiAgICB5aWVsZCBwdXQoXG4gICAgICBQYXJ0U3RhdGUuRXJyb3Ioe1xuICAgICAgICAuLi5wYXlsb2FkLnByb2dyZXNzLFxuICAgICAgICBvcmlnaW5hbDogeyB0eXBlOiBcIltdIHByb2Nlc3NpbmcgZGV2aWNlIGRpc2NvdmVyeVwiIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaW5zdHJ1Y3Rpb24gPSBwYXlsb2FkLnByb2dyZXNzLmluc3RydWN0aW9uO1xuXG4gIGlmIChpbnN0cnVjdGlvbiA9PSBcInN0YXJ0ZWRcIikge1xuICAgIHlpZWxkIHB1dChQYXJ0U3RhdGUuU3RhcnRlZFN0cmVhbShwYXlsb2FkLm1lc3NhZ2VJZCkpO1xuICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwicGFydHNcIikge1xuICAgIHlpZWxkIHB1dChQYXJ0U3RhdGUuR290UGFydHMocGF5bG9hZC5wcm9ncmVzcy5wYXJ0cykpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogcGFydHNTYWdhKCkge1xuICB5aWVsZCB0YWtlRXZlcnkoUGFydFN0YXRlLlN0cmVhbVByb2dyZXNzLCBzdHJlYW1Qcm9ncmVzc1NhZ2EpO1xuICB5aWVsZCB0YWtlRXZlcnkoUGFydFN0YXRlLkhpZ2hsaWdodCwgaGlnaGxpZ2h0U2FnYSk7XG4gIHlpZWxkIHRha2VFdmVyeShQYXJ0U3RhdGUuQ2hhbmdlUG9zaXRpb24sIGNoYW5nZVBvc2l0aW9uU2FnYSk7XG5cbiAgeWllbGQgdGFrZUxhdGVzdChQYXJ0U3RhdGUuTWFrZVN0cmVhbSwgbWFrZVBhcnRTdHJlYW1TYWdhKTtcbiAgeWllbGQgdGFrZUxhdGVzdChXU1N0YXRlLkNvbm5lY3RlZCwgd3NDb25uZWN0ZWRTYWdhKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/state.js\n");

/***/ }),

/***/ "./js/store.js":
/*!*********************!*\
  !*** ./js/store.js ***!
  \*********************/
/*! exports provided: makeReducer, makeSagaMiddleware, makeStore, runSagaMiddleware */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeReducer\", function() { return makeReducer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeSagaMiddleware\", function() { return makeSagaMiddleware; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeStore\", function() { return makeStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"runSagaMiddleware\", function() { return runSagaMiddleware; });\n/* harmony import */ var redux_devtools_extension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-devtools-extension */ \"./node_modules/redux-devtools-extension/index.js\");\n/* harmony import */ var redux_devtools_extension__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redux_devtools_extension__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux */ \"./node_modules/redux/es/redux.js\");\n/* harmony import */ var redux_saga__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux-saga */ \"./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js\");\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./state.js */ \"./js/state.js\");\n/* harmony import */ var _wsclient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./wsclient.js */ \"./js/wsclient.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\nvar makeReducer = function makeReducer(extra) {\n  return Object(redux__WEBPACK_IMPORTED_MODULE_1__[\"combineReducers\"])(_objectSpread(_objectSpread({}, extra), {}, {\n    wsclient: _wsclient_js__WEBPACK_IMPORTED_MODULE_4__[\"WSState\"].reducer(),\n    parts: _state_js__WEBPACK_IMPORTED_MODULE_3__[\"PartState\"].reducer()\n  }));\n};\nvar makeSagaMiddleware = function makeSagaMiddleware() {\n  return Object(redux_saga__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n};\nvar makeStore = function makeStore(reducer, sagaMiddleware) {\n  var creator = Object(redux__WEBPACK_IMPORTED_MODULE_1__[\"applyMiddleware\"])(sagaMiddleware)(redux__WEBPACK_IMPORTED_MODULE_1__[\"createStore\"]);\n  return creator(reducer, Object(redux_devtools_extension__WEBPACK_IMPORTED_MODULE_0__[\"devToolsEnhancer\"])());\n};\nvar runSagaMiddleware = function runSagaMiddleware(sagaMiddleware) {\n  sagaMiddleware.run(_state_js__WEBPACK_IMPORTED_MODULE_3__[\"partsSaga\"]);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9zdG9yZS5qcz80NWE1Il0sIm5hbWVzIjpbIm1ha2VSZWR1Y2VyIiwiZXh0cmEiLCJjb21iaW5lUmVkdWNlcnMiLCJ3c2NsaWVudCIsIldTU3RhdGUiLCJyZWR1Y2VyIiwicGFydHMiLCJQYXJ0U3RhdGUiLCJtYWtlU2FnYU1pZGRsZXdhcmUiLCJjcmVhdGVTYWdhTWlkZGxld2FyZSIsIm1ha2VTdG9yZSIsInNhZ2FNaWRkbGV3YXJlIiwiY3JlYXRvciIsImFwcGx5TWlkZGxld2FyZSIsImNyZWF0ZVN0b3JlIiwiZGV2VG9vbHNFbmhhbmNlciIsInJ1blNhZ2FNaWRkbGV3YXJlIiwicnVuIiwicGFydHNTYWdhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVPLElBQU1BLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUFDLEtBQUssRUFBSTtBQUNsQyxTQUFPQyw2REFBZSxpQ0FDakJELEtBRGlCO0FBRXBCRSxZQUFRLEVBQUVDLG9EQUFPLENBQUNDLE9BQVIsRUFGVTtBQUdwQkMsU0FBSyxFQUFFQyxtREFBUyxDQUFDRixPQUFWO0FBSGEsS0FBdEI7QUFLRCxDQU5NO0FBUUEsSUFBTUcsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixHQUFNO0FBQ3RDLFNBQU9DLDBEQUFvQixFQUEzQjtBQUNELENBRk07QUFJQSxJQUFNQyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFDTCxPQUFELEVBQVVNLGNBQVYsRUFBNkI7QUFDcEQsTUFBTUMsT0FBTyxHQUFHQyw2REFBZSxDQUFDRixjQUFELENBQWYsQ0FBZ0NHLGlEQUFoQyxDQUFoQjtBQUNBLFNBQU9GLE9BQU8sQ0FBQ1AsT0FBRCxFQUFVVSxpRkFBZ0IsRUFBMUIsQ0FBZDtBQUNELENBSE07QUFLQSxJQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLENBQUFMLGNBQWMsRUFBSTtBQUNqREEsZ0JBQWMsQ0FBQ00sR0FBZixDQUFtQkMsbURBQW5CO0FBQ0QsQ0FGTSIsImZpbGUiOiIuL2pzL3N0b3JlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGV2VG9vbHNFbmhhbmNlciB9IGZyb20gXCJyZWR1eC1kZXZ0b29scy1leHRlbnNpb25cIjtcbmltcG9ydCB7IGFwcGx5TWlkZGxld2FyZSwgY3JlYXRlU3RvcmUgfSBmcm9tIFwicmVkdXhcIjtcbmltcG9ydCBjcmVhdGVTYWdhTWlkZGxld2FyZSBmcm9tIFwicmVkdXgtc2FnYVwiO1xuaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSBcInJlZHV4XCI7XG5cbmltcG9ydCB7IFBhcnRTdGF0ZSwgcGFydHNTYWdhIH0gZnJvbSBcIi4vc3RhdGUuanNcIjtcbmltcG9ydCB7IFdTU3RhdGUgfSBmcm9tIFwiLi93c2NsaWVudC5qc1wiO1xuXG5leHBvcnQgY29uc3QgbWFrZVJlZHVjZXIgPSBleHRyYSA9PiB7XG4gIHJldHVybiBjb21iaW5lUmVkdWNlcnMoe1xuICAgIC4uLmV4dHJhLFxuICAgIHdzY2xpZW50OiBXU1N0YXRlLnJlZHVjZXIoKSxcbiAgICBwYXJ0czogUGFydFN0YXRlLnJlZHVjZXIoKVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYWtlU2FnYU1pZGRsZXdhcmUgPSAoKSA9PiB7XG4gIHJldHVybiBjcmVhdGVTYWdhTWlkZGxld2FyZSgpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VTdG9yZSA9IChyZWR1Y2VyLCBzYWdhTWlkZGxld2FyZSkgPT4ge1xuICBjb25zdCBjcmVhdG9yID0gYXBwbHlNaWRkbGV3YXJlKHNhZ2FNaWRkbGV3YXJlKShjcmVhdGVTdG9yZSk7XG4gIHJldHVybiBjcmVhdG9yKHJlZHVjZXIsIGRldlRvb2xzRW5oYW5jZXIoKSk7XG59O1xuXG5leHBvcnQgY29uc3QgcnVuU2FnYU1pZGRsZXdhcmUgPSBzYWdhTWlkZGxld2FyZSA9PiB7XG4gIHNhZ2FNaWRkbGV3YXJlLnJ1bihwYXJ0c1NhZ2EpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/store.js\n");

/***/ }),

/***/ "./js/wsclient.js":
/*!************************!*\
  !*** ./js/wsclient.js ***!
  \************************/
/*! exports provided: WSState, WSCommand, getWSCommands, listen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WSState\", function() { return WSState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WSCommand\", function() { return WSCommand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWSCommands\", function() { return getWSCommands; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"listen\", function() { return listen; });\n/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ \"./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js\");\n/* harmony import */ var redux_act__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux-act */ \"./node_modules/redux-act/esm/index.js\");\n/* harmony import */ var redux_saga__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux-saga */ \"./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar _marked = /*#__PURE__*/regeneratorRuntime.mark(maybeTimeoutMessage),\n    _marked2 = /*#__PURE__*/regeneratorRuntime.mark(sendToSocket),\n    _marked3 = /*#__PURE__*/regeneratorRuntime.mark(tickMessages),\n    _marked4 = /*#__PURE__*/regeneratorRuntime.mark(startWS),\n    _marked5 = /*#__PURE__*/regeneratorRuntime.mark(processWsSend),\n    _marked6 = /*#__PURE__*/regeneratorRuntime.mark(processWsReceive),\n    _marked7 = /*#__PURE__*/regeneratorRuntime.mark(getWSCommands),\n    _marked8 = /*#__PURE__*/regeneratorRuntime.mark(listen);\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar WSStateKls = /*#__PURE__*/function () {\n  function WSStateKls() {\n    _classCallCheck(this, WSStateKls);\n\n    this.Loading = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Starting to open connection\");\n    this.Error = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Got an error connecting to the websocket\");\n    this.Connected = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Successfully connected to the websocket\");\n    this.ServerTime = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Got a new server time from the server\", function (time) {\n      return {\n        time: time\n      };\n    });\n  }\n\n  _createClass(WSStateKls, [{\n    key: \"disabledSelector\",\n    value: function disabledSelector(state) {\n      return state.ws.loading || state.ws.error;\n    }\n  }, {\n    key: \"reducer\",\n    value: function reducer() {\n      var _createReducer;\n\n      return Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createReducer\"])((_createReducer = {}, _defineProperty(_createReducer, this.Loading, function (state, payload) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          loading: true\n        });\n      }), _defineProperty(_createReducer, this.Error, function (state, _ref) {\n        var error = _ref.error;\n        var errorStr = \"Unknown error\";\n\n        try {\n          errorStr = \"\".concat(error.error_code, \": \").concat(error.error);\n        } catch (e) {\n          try {\n            errorStr = JSON.stringify(error);\n          } catch (e) {\n            try {\n              errorStr = error.toString();\n            } catch (e) {\n              errorStr = String(error);\n            }\n          }\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          error: error,\n          errorStr: errorStr,\n          loading: true\n        });\n      }), _defineProperty(_createReducer, this.Connected, function (state, payload) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          error: undefined,\n          errorStr: undefined,\n          loading: false\n        });\n      }), _createReducer), {\n        error: undefined,\n        errorStr: undefined,\n        devices: {},\n        loading: true\n      });\n    }\n  }]);\n\n  return WSStateKls;\n}();\n\nvar WSState = new WSStateKls();\nvar WSCommand = Object(redux_act__WEBPACK_IMPORTED_MODULE_1__[\"createAction\"])(\"Command to the websocket server\", function (path, body, _ref2) {\n  var onreply = _ref2.onreply,\n      onerror = _ref2.onerror,\n      onprogress = _ref2.onprogress,\n      timeout = _ref2.timeout,\n      original = _ref2.original,\n      parentMessageIds = _ref2.parentMessageIds;\n  return {\n    path: path,\n    body: body,\n    onreply: onreply,\n    onerror: onerror,\n    onprogress: onprogress,\n    timeout: timeout,\n    original: original,\n    parentMessageIds: parentMessageIds\n  };\n});\n\nfunction maybeTimeoutMessage(actions, messageId) {\n  var action, response;\n  return regeneratorRuntime.wrap(function maybeTimeoutMessage$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          action = actions[messageId];\n          _context.next = 3;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"delay\"])(action.timeout || 5000);\n\n        case 3:\n          _context.prev = 3;\n          response = action.onerror({\n            error: \"Timedout waiting for a reply to the message\",\n            error_code: \"Timedout\"\n          });\n\n        case 5:\n          _context.prev = 5;\n\n          if (!response) {\n            _context.next = 10;\n            break;\n          }\n\n          _context.next = 9;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(response);\n\n        case 9:\n          delete actions[messageId];\n\n        case 10:\n          return _context.finish(5);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[3,, 5, 11]]);\n}\n\nfunction sendToSocket(socket, sendch, actions) {\n  var action, response;\n  return regeneratorRuntime.wrap(function sendToSocket$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          if (false) {}\n\n          _context2.next = 3;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"take\"])(sendch);\n\n        case 3:\n          action = _context2.sent;\n\n          if (!(socket.readyState === 1)) {\n            _context2.next = 8;\n            break;\n          }\n\n          socket.send(JSON.stringify(action.data));\n          _context2.next = 16;\n          break;\n\n        case 8:\n          _context2.prev = 8;\n          response = action.onerror({\n            error: \"Connection to the server wasn't active\",\n            error_code: \"InactiveConnection\"\n          });\n\n        case 10:\n          _context2.prev = 10;\n\n          if (!response) {\n            _context2.next = 15;\n            break;\n          }\n\n          _context2.next = 14;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(response);\n\n        case 14:\n          delete actions[action.messageId];\n\n        case 15:\n          return _context2.finish(10);\n\n        case 16:\n          _context2.next = 0;\n          break;\n\n        case 18:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[8,, 10, 16]]);\n}\n\nfunction tickMessages(socket) {\n  return regeneratorRuntime.wrap(function tickMessages$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (false) {}\n\n          _context3.next = 3;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"delay\"])(15000);\n\n        case 3:\n          if (socket.readyState === 1) {\n            socket.send(JSON.stringify({\n              path: \"__tick__\"\n            }));\n          }\n\n          _context3.next = 0;\n          break;\n\n        case 6:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}\n\nfunction startWS(url, count, sendch, receivech, actions) {\n  var socket, onerrors, oncloses, ws, start, _yield$race, timeout, w, diff, waiter, ticker, sender;\n\n  return regeneratorRuntime.wrap(function startWS$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          socket = new WebSocket(url);\n          onerrors = [];\n          oncloses = [];\n          ws = new Promise(function (resolve, reject) {\n            socket.onopen = function () {\n              resolve(socket);\n            };\n\n            socket.onmessage = function (event) {\n              return receivech.put(event);\n            };\n\n            socket.onerror = function (evt) {\n              console.error(\"Websocket got error\", evt);\n              reject(evt);\n            };\n\n            socket.onclose = function (evt) {\n              console.error(\"Websocket closed\", evt);\n              reject(evt);\n              oncloses.map(function (cb) {\n                try {\n                  cb(evt);\n                } catch (e) {\n                  console.error(e);\n                }\n              });\n            };\n          });\n          start = Date.now();\n          _context4.prev = 5;\n          _context4.next = 8;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"race\"])({\n            timeout: Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"delay\"])(2000),\n            w: ws\n          });\n\n        case 8:\n          _yield$race = _context4.sent;\n          timeout = _yield$race.timeout;\n          w = _yield$race.w;\n          _context4.next = 23;\n          break;\n\n        case 13:\n          _context4.prev = 13;\n          _context4.t0 = _context4[\"catch\"](5);\n          console.error(\"Failed to start websocket connection\", _context4.t0);\n          _context4.next = 18;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(WSState.Error({\n            error: {\n              error: \"Could not connect to server\",\n              error_code: \"FailedToConnected\"\n            }\n          }));\n\n        case 18:\n          diff = Date.now() - start;\n\n          if (!(diff < 1000)) {\n            _context4.next = 22;\n            break;\n          }\n\n          _context4.next = 22;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"delay\"])(1000 - diff);\n\n        case 22:\n          return _context4.abrupt(\"return\");\n\n        case 23:\n          if (!timeout) {\n            _context4.next = 27;\n            break;\n          }\n\n          console.error(\"timed out waiting for websocket\");\n          socket.close();\n          return _context4.abrupt(\"return\", false);\n\n        case 27:\n          _context4.next = 29;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"call\"])(redux_saga__WEBPACK_IMPORTED_MODULE_2__[\"channel\"]);\n\n        case 29:\n          waiter = _context4.sent;\n          _context4.next = 32;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"fork\"])(tickMessages, w);\n\n        case 32:\n          ticker = _context4.sent;\n          _context4.next = 35;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"fork\"])(sendToSocket, w, sendch, actions);\n\n        case 35:\n          sender = _context4.sent;\n          oncloses.push(function () {\n            waiter.put(redux_saga__WEBPACK_IMPORTED_MODULE_2__[\"END\"]);\n          });\n          _context4.prev = 37;\n          _context4.next = 40;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(WSState.Connected());\n\n        case 40:\n          _context4.next = 42;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"take\"])(waiter);\n\n        case 42:\n          _context4.prev = 42;\n          _context4.next = 45;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(WSState.Error({\n            error: {\n              error: \"Server went away\",\n              error_code: \"ServerWentAway\"\n            }\n          }));\n\n        case 45:\n          waiter.close();\n          _context4.next = 48;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"cancel\"])(ticker);\n\n        case 48:\n          _context4.next = 50;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"cancel\"])(sender);\n\n        case 50:\n          return _context4.finish(42);\n\n        case 51:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, null, [[5, 13], [37,, 42, 51]]);\n}\n\nfunction processWsSend(commandch, sendch, actions, defaultonerror) {\n  var normalise, _yield$take, payload, messageId, normalised;\n\n  return regeneratorRuntime.wrap(function processWsSend$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          normalise = function normalise(messageId, _ref3) {\n            var path = _ref3.path,\n                body = _ref3.body,\n                onerror = _ref3.onerror,\n                onreply = _ref3.onreply,\n                onprogress = _ref3.onprogress,\n                original = _ref3.original,\n                timeout = _ref3.timeout;\n            var done = false;\n\n            var create = function create(cb, msg) {\n              try {\n                return cb(msg);\n              } catch (e) {\n                console.error(e);\n\n                try {\n                  return defaultonerror({\n                    error_code: \"INTERNAL_ERROR\",\n                    error: e.toString()\n                  });\n                } catch (e2) {\n                  console.error(e2);\n                }\n              }\n            };\n\n            var data = {\n              path: path,\n              body: body,\n              message_id: messageId\n            };\n\n            var doerror = function doerror(error) {\n              if (done) {\n                return;\n              }\n\n              done = true;\n\n              if (onerror) {\n                return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(create(onerror, _objectSpread(_objectSpread({}, error), {}, {\n                  messageId: messageId,\n                  original: original\n                })));\n              }\n            };\n\n            var doreply = function doreply(data, msgid) {\n              if (done || !data) {\n                return;\n              }\n\n              done = true;\n              var payloads = [];\n\n              if (data.error_code && onerror) {\n                payloads.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(create(onerror, _objectSpread(_objectSpread({}, data), {}, {\n                  namespace: \"\",\n                  messageId: messageId,\n                  original: original\n                }))));\n              } else if (data.error && onerror) {\n                payloads.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(create(onerror, _objectSpread(_objectSpread({}, data.error.msg), {}, {\n                  namespace: data.error.namespace,\n                  messageId: messageId,\n                  original: original\n                }))));\n              }\n\n              if (data.result && onreply) {\n                payloads.push(Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(create(onreply, {\n                  messageId: messageId,\n                  data: data.result,\n                  original: original\n                })));\n              }\n\n              return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"all\"])(payloads);\n            };\n\n            var doprogress = function doprogress(progress) {\n              if (onprogress) {\n                return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(create(onprogress, {\n                  messageId: messageId,\n                  progress: progress,\n                  original: original\n                }));\n              }\n            };\n\n            return {\n              data: data,\n              messageId: messageId,\n              timeout: timeout,\n              onreply: doreply,\n              onerror: doerror,\n              onprogress: doprogress\n            };\n          };\n\n        case 1:\n          if (false) {}\n\n          _context5.next = 4;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"take\"])(commandch);\n\n        case 4:\n          _yield$take = _context5.sent;\n          payload = _yield$take.payload;\n          messageId = Object(uuid__WEBPACK_IMPORTED_MODULE_3__[\"v4\"])();\n\n          if (payload.parentMessageIds) {\n            messageId = [].concat(_toConsumableArray(payload.parentMessageIds), [messageId]);\n          }\n\n          normalised = normalise(messageId, payload);\n          actions[messageId] = normalised;\n          _context5.next = 12;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"spawn\"])(maybeTimeoutMessage, actions, messageId);\n\n        case 12:\n          normalised.timeouter = _context5.sent;\n          _context5.next = 15;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(sendch, normalised);\n\n        case 15:\n          _context5.next = 1;\n          break;\n\n        case 17:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}\n\nfunction processWsReceive(receivech, actions) {\n  var makeResponse, _yield$take2, data, action, response;\n\n  return regeneratorRuntime.wrap(function processWsReceive$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          makeResponse = function makeResponse(action, data) {\n            if (data.reply) {\n              if (data.reply.progress) {\n                return action.onprogress(data.reply.progress);\n              } else {\n                return action.onreply(data.reply, data.message_id);\n              }\n            }\n\n            if (data.error) {\n              return action.onerror(data.error);\n            }\n          };\n\n        case 1:\n          if (false) {}\n\n          _context6.next = 4;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"take\"])(receivech);\n\n        case 4:\n          _yield$take2 = _context6.sent;\n          data = _yield$take2.data;\n          _context6.prev = 6;\n          data = JSON.parse(data);\n          _context6.next = 14;\n          break;\n\n        case 10:\n          _context6.prev = 10;\n          _context6.t0 = _context6[\"catch\"](6);\n          console.error(\"failed to parse json from the server\", _context6.t0);\n          return _context6.abrupt(\"continue\", 1);\n\n        case 14:\n          if (data.message_id) {\n            _context6.next = 17;\n            break;\n          }\n\n          console.error(\"Got a message from the server without a message id\", data);\n          return _context6.abrupt(\"continue\", 1);\n\n        case 17:\n          if (!(data.message_id == \"__tick__\")) {\n            _context6.next = 19;\n            break;\n          }\n\n          return _context6.abrupt(\"continue\", 1);\n\n        case 19:\n          if (!(data.message_id == \"__server_time__\")) {\n            _context6.next = 23;\n            break;\n          }\n\n          _context6.next = 22;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(WSState.ServerTime(data.reply));\n\n        case 22:\n          return _context6.abrupt(\"continue\", 1);\n\n        case 23:\n          action = actions[data.message_id];\n\n          if (action) {\n            _context6.next = 27;\n            break;\n          }\n\n          console.error(\"Got a message from the server with unknown message id\", data.message_id, data);\n          return _context6.abrupt(\"continue\", 1);\n\n        case 27:\n          if (!action.timeouter) {\n            _context6.next = 30;\n            break;\n          }\n\n          _context6.next = 30;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"cancel\"])(action.timeouter);\n\n        case 30:\n          response = undefined;\n          _context6.prev = 31;\n          response = makeResponse(action, data);\n\n        case 33:\n          _context6.prev = 33;\n\n          if (!response) {\n            _context6.next = 37;\n            break;\n          }\n\n          _context6.next = 37;\n          return response;\n\n        case 37:\n          return _context6.finish(33);\n\n        case 38:\n          // Finished with this message if not a progress message\n          if (response && (!data.reply || !data.reply.progress)) {\n            delete actions[data.message_id];\n          }\n\n          _context6.next = 1;\n          break;\n\n        case 41:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, null, [[6, 10], [31,, 33, 38]]);\n}\n\nfunction getWSCommands(commandch) {\n  var nxt;\n  return regeneratorRuntime.wrap(function getWSCommands$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          if (false) {}\n\n          _context7.next = 3;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"take\"])(WSCommand);\n\n        case 3:\n          nxt = _context7.sent;\n          _context7.next = 6;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(commandch, nxt);\n\n        case 6:\n          _context7.next = 0;\n          break;\n\n        case 8:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7);\n}\nfunction listen(url, defaultonerror, delayMS) {\n  var count, messages, sendch, receivech, commandch, actions, sendprocess, receiveprocess, ids, i, action, response;\n  return regeneratorRuntime.wrap(function listen$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          count = 0;\n          messages = {};\n          _context8.next = 4;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"call\"])(redux_saga__WEBPACK_IMPORTED_MODULE_2__[\"channel\"]);\n\n        case 4:\n          sendch = _context8.sent;\n          _context8.next = 7;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"call\"])(redux_saga__WEBPACK_IMPORTED_MODULE_2__[\"channel\"]);\n\n        case 7:\n          receivech = _context8.sent;\n          _context8.next = 10;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"call\"])(redux_saga__WEBPACK_IMPORTED_MODULE_2__[\"channel\"]);\n\n        case 10:\n          commandch = _context8.sent;\n\n          if (defaultonerror === undefined) {\n            defaultonerror = function defaultonerror(e) {\n              return console.error(e);\n            };\n          } // This is outside the while true so that we don't miss messages\n          // when the server goes away and before we've started processWsSend again\n\n\n          _context8.next = 14;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"fork\"])(getWSCommands, commandch);\n\n        case 14:\n          if (false) {}\n\n          _context8.next = 17;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(WSState.Loading());\n\n        case 17:\n          count += 1;\n          actions = {};\n          messages[count] = actions;\n          _context8.next = 22;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"fork\"])(processWsSend, commandch, sendch, actions, defaultonerror);\n\n        case 22:\n          sendprocess = _context8.sent;\n          _context8.next = 25;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"fork\"])(processWsReceive, receivech, actions);\n\n        case 25:\n          receiveprocess = _context8.sent;\n          _context8.next = 28;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"call\"])(startWS, url, count, sendch, receivech, actions);\n\n        case 28:\n          _context8.next = 30;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"cancel\"])(sendprocess);\n\n        case 30:\n          _context8.next = 32;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"cancel\"])(receiveprocess);\n\n        case 32:\n          ids = Object.keys(actions);\n          i = 0;\n\n        case 34:\n          if (!(i < ids.length)) {\n            _context8.next = 46;\n            break;\n          }\n\n          action = actions[ids[i]];\n\n          if (!action.timeouter) {\n            _context8.next = 39;\n            break;\n          }\n\n          _context8.next = 39;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"cancel\"])(action.timeouter);\n\n        case 39:\n          response = action.onerror({\n            error: \"Lost connection to the server\",\n            error_code: \"LostConnection\"\n          });\n\n          if (!response) {\n            _context8.next = 43;\n            break;\n          }\n\n          _context8.next = 43;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"put\"])(response);\n\n        case 43:\n          i++;\n          _context8.next = 34;\n          break;\n\n        case 46:\n          delete messages[count];\n          _context8.next = 49;\n          return Object(redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__[\"delay\"])(delayMS || 5000);\n\n        case 49:\n          _context8.next = 14;\n          break;\n\n        case 51:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy93c2NsaWVudC5qcz9hNzI3Il0sIm5hbWVzIjpbIm1heWJlVGltZW91dE1lc3NhZ2UiLCJzZW5kVG9Tb2NrZXQiLCJ0aWNrTWVzc2FnZXMiLCJzdGFydFdTIiwicHJvY2Vzc1dzU2VuZCIsInByb2Nlc3NXc1JlY2VpdmUiLCJnZXRXU0NvbW1hbmRzIiwibGlzdGVuIiwiV1NTdGF0ZUtscyIsIkxvYWRpbmciLCJjcmVhdGVBY3Rpb24iLCJFcnJvciIsIkNvbm5lY3RlZCIsIlNlcnZlclRpbWUiLCJ0aW1lIiwic3RhdGUiLCJ3cyIsImxvYWRpbmciLCJlcnJvciIsImNyZWF0ZVJlZHVjZXIiLCJwYXlsb2FkIiwiZXJyb3JTdHIiLCJlcnJvcl9jb2RlIiwiZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsIlN0cmluZyIsInVuZGVmaW5lZCIsImRldmljZXMiLCJXU1N0YXRlIiwiV1NDb21tYW5kIiwicGF0aCIsImJvZHkiLCJvbnJlcGx5Iiwib25lcnJvciIsIm9ucHJvZ3Jlc3MiLCJ0aW1lb3V0Iiwib3JpZ2luYWwiLCJwYXJlbnRNZXNzYWdlSWRzIiwiYWN0aW9ucyIsIm1lc3NhZ2VJZCIsImFjdGlvbiIsImRlbGF5IiwicmVzcG9uc2UiLCJwdXQiLCJzb2NrZXQiLCJzZW5kY2giLCJ0YWtlIiwicmVhZHlTdGF0ZSIsInNlbmQiLCJkYXRhIiwidXJsIiwiY291bnQiLCJyZWNlaXZlY2giLCJXZWJTb2NrZXQiLCJvbmVycm9ycyIsIm9uY2xvc2VzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJldmVudCIsImV2dCIsImNvbnNvbGUiLCJvbmNsb3NlIiwibWFwIiwiY2IiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJyYWNlIiwidyIsImRpZmYiLCJjbG9zZSIsImNhbGwiLCJjaGFubmVsIiwid2FpdGVyIiwiZm9yayIsInRpY2tlciIsInNlbmRlciIsInB1c2giLCJFTkQiLCJjYW5jZWwiLCJjb21tYW5kY2giLCJkZWZhdWx0b25lcnJvciIsIm5vcm1hbGlzZSIsImRvbmUiLCJjcmVhdGUiLCJtc2ciLCJlMiIsIm1lc3NhZ2VfaWQiLCJkb2Vycm9yIiwiZG9yZXBseSIsIm1zZ2lkIiwicGF5bG9hZHMiLCJuYW1lc3BhY2UiLCJyZXN1bHQiLCJhbGwiLCJkb3Byb2dyZXNzIiwicHJvZ3Jlc3MiLCJ1dWlkdjQiLCJub3JtYWxpc2VkIiwic3Bhd24iLCJ0aW1lb3V0ZXIiLCJtYWtlUmVzcG9uc2UiLCJyZXBseSIsInBhcnNlIiwibnh0IiwiZGVsYXlNUyIsIm1lc3NhZ2VzIiwic2VuZHByb2Nlc3MiLCJyZWNlaXZlcHJvY2VzcyIsImlkcyIsIk9iamVjdCIsImtleXMiLCJpIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bURBMEZVQSxtQjtvREFpQkFDLFk7b0RBdUJBQyxZO29EQVNBQyxPO29EQWlGQUMsYTtvREF5R0FDLGdCO29EQXdFT0MsYTtvREFPQUMsTTs7Ozs7Ozs7Ozs7Ozs7QUFwWmpCO0FBV0E7QUFDQTtBQUNBOztJQUVNQyxVOzs7O1NBQ0pDLE8sR0FBVUMsOERBQVksQ0FBQyw2QkFBRCxDO1NBQ3RCQyxLLEdBQVFELDhEQUFZLENBQUMsMENBQUQsQztTQUNwQkUsUyxHQUFZRiw4REFBWSxDQUFDLHlDQUFELEM7U0FDeEJHLFUsR0FBYUgsOERBQVksQ0FBQyx1Q0FBRCxFQUEwQyxVQUFBSSxJQUFJO0FBQUEsYUFBSztBQUMxRUEsWUFBSSxFQUFKQTtBQUQwRSxPQUFMO0FBQUEsS0FBOUMsQzs7Ozs7cUNBSVJDLEssRUFBTztBQUN0QixhQUFPQSxLQUFLLENBQUNDLEVBQU4sQ0FBU0MsT0FBVCxJQUFvQkYsS0FBSyxDQUFDQyxFQUFOLENBQVNFLEtBQXBDO0FBQ0Q7Ozs4QkFFUztBQUFBOztBQUNSLGFBQU9DLCtEQUFhLHVEQUVmLEtBQUtWLE9BRlUsRUFFQSxVQUFDTSxLQUFELEVBQVFLLE9BQVIsRUFBb0I7QUFDbEMsK0NBQVlMLEtB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LENBQUNtRSxPQUFPLElBQUksSUFBWixDQUFYOztBQWxERztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJmaWxlIjoiLi9qcy93c2NsaWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNhbGwsXG4gIGFsbCxcbiAgY2FuY2VsLFxuICBmb3JrLFxuICBwdXQsXG4gIHJhY2UsXG4gIHNwYXduLFxuICB0YWtlLFxuICBkZWxheVxufSBmcm9tIFwicmVkdXgtc2FnYS9lZmZlY3RzXCI7XG5pbXBvcnQgeyBjcmVhdGVBY3Rpb24sIGNyZWF0ZVJlZHVjZXIgfSBmcm9tIFwicmVkdXgtYWN0XCI7XG5pbXBvcnQgeyBFTkQsIGNoYW5uZWwgfSBmcm9tIFwicmVkdXgtc2FnYVwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcblxuY2xhc3MgV1NTdGF0ZUtscyB7XG4gIExvYWRpbmcgPSBjcmVhdGVBY3Rpb24oXCJTdGFydGluZyB0byBvcGVuIGNvbm5lY3Rpb25cIik7XG4gIEVycm9yID0gY3JlYXRlQWN0aW9uKFwiR290IGFuIGVycm9yIGNvbm5lY3RpbmcgdG8gdGhlIHdlYnNvY2tldFwiKTtcbiAgQ29ubmVjdGVkID0gY3JlYXRlQWN0aW9uKFwiU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byB0aGUgd2Vic29ja2V0XCIpO1xuICBTZXJ2ZXJUaW1lID0gY3JlYXRlQWN0aW9uKFwiR290IGEgbmV3IHNlcnZlciB0aW1lIGZyb20gdGhlIHNlcnZlclwiLCB0aW1lID0+ICh7XG4gICAgdGltZVxuICB9KSk7XG5cbiAgZGlzYWJsZWRTZWxlY3RvcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS53cy5sb2FkaW5nIHx8IHN0YXRlLndzLmVycm9yO1xuICB9XG5cbiAgcmVkdWNlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVkdWNlcihcbiAgICAgIHtcbiAgICAgICAgW3RoaXMuTG9hZGluZ106IChzdGF0ZSwgcGF5bG9hZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBsb2FkaW5nOiB0cnVlIH07XG4gICAgICAgIH0sXG4gICAgICAgIFt0aGlzLkVycm9yXTogKHN0YXRlLCB7IGVycm9yIH0pID0+IHtcbiAgICAgICAgICBsZXQgZXJyb3JTdHIgPSBcIlVua25vd24gZXJyb3JcIjtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXJyb3JTdHIgPSBgJHtlcnJvci5lcnJvcl9jb2RlfTogJHtlcnJvci5lcnJvcn1gO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGVycm9yU3RyID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVycm9yU3RyID0gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9yU3RyID0gU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBlcnJvciwgZXJyb3JTdHIsIGxvYWRpbmc6IHRydWUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgW3RoaXMuQ29ubmVjdGVkXTogKHN0YXRlLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVycm9yU3RyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgICAgIGVycm9yU3RyOiB1bmRlZmluZWQsXG4gICAgICAgIGRldmljZXM6IHt9LFxuICAgICAgICBsb2FkaW5nOiB0cnVlXG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgV1NTdGF0ZSA9IG5ldyBXU1N0YXRlS2xzKCk7XG5cbmV4cG9ydCBjb25zdCBXU0NvbW1hbmQgPSBjcmVhdGVBY3Rpb24oXG4gIFwiQ29tbWFuZCB0byB0aGUgd2Vic29ja2V0IHNlcnZlclwiLFxuICAoXG4gICAgcGF0aCxcbiAgICBib2R5LFxuICAgIHsgb25yZXBseSwgb25lcnJvciwgb25wcm9ncmVzcywgdGltZW91dCwgb3JpZ2luYWwsIHBhcmVudE1lc3NhZ2VJZHMgfVxuICApID0+ICh7XG4gICAgcGF0aCxcbiAgICBib2R5LFxuICAgIG9ucmVwbHksXG4gICAgb25lcnJvcixcbiAgICBvbnByb2dyZXNzLFxuICAgIHRpbWVvdXQsXG4gICAgb3JpZ2luYWwsXG4gICAgcGFyZW50TWVzc2FnZUlkc1xuICB9KVxuKTtcblxuZnVuY3Rpb24qIG1heWJlVGltZW91dE1lc3NhZ2UoYWN0aW9ucywgbWVzc2FnZUlkKSB7XG4gIHZhciBhY3Rpb24gPSBhY3Rpb25zW21lc3NhZ2VJZF07XG4gIHlpZWxkIGRlbGF5KGFjdGlvbi50aW1lb3V0IHx8IDUwMDApO1xuICB0cnkge1xuICAgIHZhciByZXNwb25zZSA9IGFjdGlvbi5vbmVycm9yKHtcbiAgICAgIGVycm9yOiBcIlRpbWVkb3V0IHdhaXRpbmcgZm9yIGEgcmVwbHkgdG8gdGhlIG1lc3NhZ2VcIixcbiAgICAgIGVycm9yX2NvZGU6IFwiVGltZWRvdXRcIlxuICAgIH0pO1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgLy8gZmluYWxseSBibG9jayB0byBtYWtlIHN1cmUgdGhlIHJlc3BvbnNlIHdlIG1hZGUgaXMgc2VudCBpZiB3ZSBnZXQgY2FuY2VsbGVkXG4gICAgICB5aWVsZCBwdXQocmVzcG9uc2UpO1xuICAgICAgZGVsZXRlIGFjdGlvbnNbbWVzc2FnZUlkXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24qIHNlbmRUb1NvY2tldChzb2NrZXQsIHNlbmRjaCwgYWN0aW9ucykge1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBhY3Rpb24gPSB5aWVsZCB0YWtlKHNlbmRjaCk7XG4gICAgaWYgKHNvY2tldC5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShhY3Rpb24uZGF0YSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBhY3Rpb24ub25lcnJvcih7XG4gICAgICAgICAgZXJyb3I6IFwiQ29ubmVjdGlvbiB0byB0aGUgc2VydmVyIHdhc24ndCBhY3RpdmVcIixcbiAgICAgICAgICBlcnJvcl9jb2RlOiBcIkluYWN0aXZlQ29ubmVjdGlvblwiXG4gICAgICAgIH0pO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gV2UgdXNlIGEgZmluYWxseSBibG9jayB0byBtYWtlIHN1cmUgdGhlIHJlc3BvbnNlIGlzIGRpc3BhdGNoZWRcbiAgICAgICAgLy8gaWYgdGhpcyBzYWdhIGdldHMgY2FuY2VsbGVkXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIHlpZWxkIHB1dChyZXNwb25zZSk7XG4gICAgICAgICAgZGVsZXRlIGFjdGlvbnNbYWN0aW9uLm1lc3NhZ2VJZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24qIHRpY2tNZXNzYWdlcyhzb2NrZXQpIHtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB5aWVsZCBkZWxheSgxNTAwMCk7XG4gICAgaWYgKHNvY2tldC5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHBhdGg6IFwiX190aWNrX19cIiB9KSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uKiBzdGFydFdTKHVybCwgY291bnQsIHNlbmRjaCwgcmVjZWl2ZWNoLCBhY3Rpb25zKSB7XG4gIHZhciBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHVybCk7XG5cbiAgdmFyIG9uZXJyb3JzID0gW107XG4gIHZhciBvbmNsb3NlcyA9IFtdO1xuXG4gIHZhciB3cyA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBzb2NrZXQub25vcGVuID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShzb2NrZXQpO1xuICAgIH07XG5cbiAgICBzb2NrZXQub25tZXNzYWdlID0gZXZlbnQgPT4gcmVjZWl2ZWNoLnB1dChldmVudCk7XG5cbiAgICBzb2NrZXQub25lcnJvciA9IGV2dCA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiV2Vic29ja2V0IGdvdCBlcnJvclwiLCBldnQpO1xuICAgICAgcmVqZWN0KGV2dCk7XG4gICAgfTtcblxuICAgIHNvY2tldC5vbmNsb3NlID0gZXZ0ID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJzb2NrZXQgY2xvc2VkXCIsIGV2dCk7XG4gICAgICByZWplY3QoZXZ0KTtcbiAgICAgIG9uY2xvc2VzLm1hcChjYiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2IoZXZ0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIHZhciBzdGFydCA9IERhdGUubm93KCk7XG5cbiAgdHJ5IHtcbiAgICB2YXIgeyB0aW1lb3V0LCB3IH0gPSB5aWVsZCByYWNlKHsgdGltZW91dDogZGVsYXkoMjAwMCksIHc6IHdzIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzdGFydCB3ZWJzb2NrZXQgY29ubmVjdGlvblwiLCBlKTtcbiAgICB5aWVsZCBwdXQoXG4gICAgICBXU1N0YXRlLkVycm9yKHtcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byBzZXJ2ZXJcIixcbiAgICAgICAgICBlcnJvcl9jb2RlOiBcIkZhaWxlZFRvQ29ubmVjdGVkXCJcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICAgIHZhciBkaWZmID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICAgIGlmIChkaWZmIDwgMTAwMCkge1xuICAgICAgeWllbGQgZGVsYXkoMTAwMCAtIGRpZmYpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGltZW91dCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJ0aW1lZCBvdXQgd2FpdGluZyBmb3Igd2Vic29ja2V0XCIpO1xuICAgIHNvY2tldC5jbG9zZSgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciB3YWl0ZXIgPSB5aWVsZCBjYWxsKGNoYW5uZWwpO1xuICB2YXIgdGlja2VyID0geWllbGQgZm9yayh0aWNrTWVzc2FnZXMsIHcpO1xuICB2YXIgc2VuZGVyID0geWllbGQgZm9yayhzZW5kVG9Tb2NrZXQsIHcsIHNlbmRjaCwgYWN0aW9ucyk7XG5cbiAgb25jbG9zZXMucHVzaCgoKSA9PiB7XG4gICAgd2FpdGVyLnB1dChFTkQpO1xuICB9KTtcblxuICB0cnkge1xuICAgIHlpZWxkIHB1dChXU1N0YXRlLkNvbm5lY3RlZCgpKTtcbiAgICB5aWVsZCB0YWtlKHdhaXRlcik7XG4gIH0gZmluYWxseSB7XG4gICAgeWllbGQgcHV0KFxuICAgICAgV1NTdGF0ZS5FcnJvcih7XG4gICAgICAgIGVycm9yOiB7IGVycm9yOiBcIlNlcnZlciB3ZW50IGF3YXlcIiwgZXJyb3JfY29kZTogXCJTZXJ2ZXJXZW50QXdheVwiIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICB3YWl0ZXIuY2xvc2UoKTtcbiAgICB5aWVsZCBjYW5jZWwodGlja2VyKTtcbiAgICB5aWVsZCBjYW5jZWwoc2VuZGVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogcHJvY2Vzc1dzU2VuZChjb21tYW5kY2gsIHNlbmRjaCwgYWN0aW9ucywgZGVmYXVsdG9uZXJyb3IpIHtcbiAgdmFyIG5vcm1hbGlzZSA9IChcbiAgICBtZXNzYWdlSWQsXG4gICAgeyBwYXRoLCBib2R5LCBvbmVycm9yLCBvbnJlcGx5LCBvbnByb2dyZXNzLCBvcmlnaW5hbCwgdGltZW91dCB9XG4gICkgPT4ge1xuICAgIHZhciBkb25lID0gZmFsc2U7XG5cbiAgICB2YXIgY3JlYXRlID0gKGNiLCBtc2cpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYihtc2cpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0b25lcnJvcih7XG4gICAgICAgICAgICBlcnJvcl9jb2RlOiBcIklOVEVSTkFMX0VSUk9SXCIsXG4gICAgICAgICAgICBlcnJvcjogZS50b1N0cmluZygpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGRhdGEgPSB7IHBhdGgsIGJvZHksIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCB9O1xuICAgIHZhciBkb2Vycm9yID0gZXJyb3IgPT4ge1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGlmIChvbmVycm9yKSB7XG4gICAgICAgIHJldHVybiBwdXQoY3JlYXRlKG9uZXJyb3IsIHsgLi4uZXJyb3IsIG1lc3NhZ2VJZCwgb3JpZ2luYWwgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZG9yZXBseSA9IChkYXRhLCBtc2dpZCkgPT4ge1xuICAgICAgaWYgKGRvbmUgfHwgIWRhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGxldCBwYXlsb2FkcyA9IFtdO1xuXG4gICAgICBpZiAoZGF0YS5lcnJvcl9jb2RlICYmIG9uZXJyb3IpIHtcbiAgICAgICAgcGF5bG9hZHMucHVzaChcbiAgICAgICAgICBwdXQoXG4gICAgICAgICAgICBjcmVhdGUob25lcnJvciwge1xuICAgICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgICBuYW1lc3BhY2U6IFwiXCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChkYXRhLmVycm9yICYmIG9uZXJyb3IpIHtcbiAgICAgICAgcGF5bG9hZHMucHVzaChcbiAgICAgICAgICBwdXQoXG4gICAgICAgICAgICBjcmVhdGUob25lcnJvciwge1xuICAgICAgICAgICAgICAuLi5kYXRhLmVycm9yLm1zZyxcbiAgICAgICAgICAgICAgbmFtZXNwYWNlOiBkYXRhLmVycm9yLm5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgbWVzc2FnZUlkLFxuICAgICAgICAgICAgICBvcmlnaW5hbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLnJlc3VsdCAmJiBvbnJlcGx5KSB7XG4gICAgICAgIHBheWxvYWRzLnB1c2goXG4gICAgICAgICAgcHV0KGNyZWF0ZShvbnJlcGx5LCB7IG1lc3NhZ2VJZCwgZGF0YTogZGF0YS5yZXN1bHQsIG9yaWdpbmFsIH0pKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxsKHBheWxvYWRzKTtcbiAgICB9O1xuXG4gICAgdmFyIGRvcHJvZ3Jlc3MgPSBwcm9ncmVzcyA9PiB7XG4gICAgICBpZiAob25wcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gcHV0KGNyZWF0ZShvbnByb2dyZXNzLCB7IG1lc3NhZ2VJZCwgcHJvZ3Jlc3MsIG9yaWdpbmFsIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGEsXG4gICAgICBtZXNzYWdlSWQsXG4gICAgICB0aW1lb3V0OiB0aW1lb3V0LFxuICAgICAgb25yZXBseTogZG9yZXBseSxcbiAgICAgIG9uZXJyb3I6IGRvZXJyb3IsXG4gICAgICBvbnByb2dyZXNzOiBkb3Byb2dyZXNzXG4gICAgfTtcbiAgfTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciB7IHBheWxvYWQgfSA9IHlpZWxkIHRha2UoY29tbWFuZGNoKTtcbiAgICBsZXQgbWVzc2FnZUlkID0gdXVpZHY0KCk7XG4gICAgaWYgKHBheWxvYWQucGFyZW50TWVzc2FnZUlkcykge1xuICAgICAgbWVzc2FnZUlkID0gWy4uLnBheWxvYWQucGFyZW50TWVzc2FnZUlkcywgbWVzc2FnZUlkXTtcbiAgICB9XG4gICAgdmFyIG5vcm1hbGlzZWQgPSBub3JtYWxpc2UobWVzc2FnZUlkLCBwYXlsb2FkKTtcbiAgICBhY3Rpb25zW21lc3NhZ2VJZF0gPSBub3JtYWxpc2VkO1xuICAgIG5vcm1hbGlzZWQudGltZW91dGVyID0geWllbGQgc3Bhd24obWF5YmVUaW1lb3V0TWVzc2FnZSwgYWN0aW9ucywgbWVzc2FnZUlkKTtcbiAgICB5aWVsZCBwdXQoc2VuZGNoLCBub3JtYWxpc2VkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogcHJvY2Vzc1dzUmVjZWl2ZShyZWNlaXZlY2gsIGFjdGlvbnMpIHtcbiAgdmFyIG1ha2VSZXNwb25zZSA9IChhY3Rpb24sIGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YS5yZXBseSkge1xuICAgICAgaWYgKGRhdGEucmVwbHkucHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5vbnByb2dyZXNzKGRhdGEucmVwbHkucHJvZ3Jlc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5vbnJlcGx5KGRhdGEucmVwbHksIGRhdGEubWVzc2FnZV9pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgIHJldHVybiBhY3Rpb24ub25lcnJvcihkYXRhLmVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgeyBkYXRhIH0gPSB5aWVsZCB0YWtlKHJlY2VpdmVjaCk7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gcGFyc2UganNvbiBmcm9tIHRoZSBzZXJ2ZXJcIiwgZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGEubWVzc2FnZV9pZCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkdvdCBhIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyIHdpdGhvdXQgYSBtZXNzYWdlIGlkXCIsIGRhdGEpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEubWVzc2FnZV9pZCA9PSBcIl9fdGlja19fXCIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChkYXRhLm1lc3NhZ2VfaWQgPT0gXCJfX3NlcnZlcl90aW1lX19cIikge1xuICAgICAgeWllbGQgcHV0KFdTU3RhdGUuU2VydmVyVGltZShkYXRhLnJlcGx5KSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIgYWN0aW9uID0gYWN0aW9uc1tkYXRhLm1lc3NhZ2VfaWRdO1xuXG4gICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiR290IGEgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2ZXIgd2l0aCB1bmtub3duIG1lc3NhZ2UgaWRcIixcbiAgICAgICAgZGF0YS5tZXNzYWdlX2lkLFxuICAgICAgICBkYXRhXG4gICAgICApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbi50aW1lb3V0ZXIpIHtcbiAgICAgIHlpZWxkIGNhbmNlbChhY3Rpb24udGltZW91dGVyKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gbWFrZVJlc3BvbnNlKGFjdGlvbiwgZGF0YSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIFJlYWxseSBtYWtlIHN1cmUgd2UgcHV0IG91ciByZXNwb25zZVxuICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIG9uY2UgdGhlIHJlc3BvbnNlIGlzIG1hZGUsXG4gICAgICAvLyBubyBvdGhlciByZXNwb25zZSBjYW4gYmUgbWFkZVxuICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgIHlpZWxkIHJlc3BvbnNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbmlzaGVkIHdpdGggdGhpcyBtZXNzYWdlIGlmIG5vdCBhIHByb2dyZXNzIG1lc3NhZ2VcbiAgICBpZiAocmVzcG9uc2UgJiYgKCFkYXRhLnJlcGx5IHx8ICFkYXRhLnJlcGx5LnByb2dyZXNzKSkge1xuICAgICAgZGVsZXRlIGFjdGlvbnNbZGF0YS5tZXNzYWdlX2lkXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uKiBnZXRXU0NvbW1hbmRzKGNvbW1hbmRjaCkge1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBueHQgPSB5aWVsZCB0YWtlKFdTQ29tbWFuZCk7XG4gICAgeWllbGQgcHV0KGNvbW1hbmRjaCwgbnh0KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24qIGxpc3Rlbih1cmwsIGRlZmF1bHRvbmVycm9yLCBkZWxheU1TKSB7XG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBtZXNzYWdlcyA9IHt9O1xuICB2YXIgc2VuZGNoID0geWllbGQgY2FsbChjaGFubmVsKTtcbiAgdmFyIHJlY2VpdmVjaCA9IHlpZWxkIGNhbGwoY2hhbm5lbCk7XG4gIHZhciBjb21tYW5kY2ggPSB5aWVsZCBjYWxsKGNoYW5uZWwpO1xuXG4gIGlmIChkZWZhdWx0b25lcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZGVmYXVsdG9uZXJyb3IgPSBlID0+IGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cblxuICAvLyBUaGlzIGlzIG91dHNpZGUgdGhlIHdoaWxlIHRydWUgc28gdGhhdCB3ZSBkb24ndCBtaXNzIG1lc3NhZ2VzXG4gIC8vIHdoZW4gdGhlIHNlcnZlciBnb2VzIGF3YXkgYW5kIGJlZm9yZSB3ZSd2ZSBzdGFydGVkIHByb2Nlc3NXc1NlbmQgYWdhaW5cbiAgeWllbGQgZm9yayhnZXRXU0NvbW1hbmRzLCBjb21tYW5kY2gpO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgeWllbGQgcHV0KFdTU3RhdGUuTG9hZGluZygpKTtcblxuICAgIGNvdW50ICs9IDE7XG4gICAgdmFyIGFjdGlvbnMgPSB7fTtcbiAgICBtZXNzYWdlc1tjb3VudF0gPSBhY3Rpb25zO1xuICAgIHZhciBzZW5kcHJvY2VzcyA9IHlpZWxkIGZvcmsoXG4gICAgICBwcm9jZXNzV3NTZW5kLFxuICAgICAgY29tbWFuZGNoLFxuICAgICAgc2VuZGNoLFxuICAgICAgYWN0aW9ucyxcbiAgICAgIGRlZmF1bHRvbmVycm9yXG4gICAgKTtcbiAgICB2YXIgcmVjZWl2ZXByb2Nlc3MgPSB5aWVsZCBmb3JrKHByb2Nlc3NXc1JlY2VpdmUsIHJlY2VpdmVjaCwgYWN0aW9ucyk7XG4gICAgeWllbGQgY2FsbChzdGFydFdTLCB1cmwsIGNvdW50LCBzZW5kY2gsIHJlY2VpdmVjaCwgYWN0aW9ucyk7XG4gICAgeWllbGQgY2FuY2VsKHNlbmRwcm9jZXNzKTtcbiAgICB5aWVsZCBjYW5jZWwocmVjZWl2ZXByb2Nlc3MpO1xuXG4gICAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKGFjdGlvbnMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYWN0aW9uID0gYWN0aW9uc1tpZHNbaV1dO1xuICAgICAgaWYgKGFjdGlvbi50aW1lb3V0ZXIpIHtcbiAgICAgICAgeWllbGQgY2FuY2VsKGFjdGlvbi50aW1lb3V0ZXIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzcG9uc2UgPSBhY3Rpb24ub25lcnJvcih7XG4gICAgICAgIGVycm9yOiBcIkxvc3QgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyXCIsXG4gICAgICAgIGVycm9yX2NvZGU6IFwiTG9zdENvbm5lY3Rpb25cIlxuICAgICAgfSk7XG4gICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgeWllbGQgcHV0KHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZWxldGUgbWVzc2FnZXNbY291bnRdO1xuICAgIHlpZWxkIGRlbGF5KGRlbGF5TVMgfHwgNTAwMCk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/wsclient.js\n");

/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./js/index.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./js/index.js */"./js/index.js");


/***/ })

/******/ });