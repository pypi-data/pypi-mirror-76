[tox]
envlist = py{35,36,37,38}-django{22,30,31},flake8

[testenv]
skip_install = True
deps = pipenv
commands =
  pipenv install --dev
  django22: pip install "Django>=2.2,<2.3"
  django30: pip install "Django>=3.0,<3.1"
  django31: pip install "Django>=3.1,<3.2"
  coverage run tests/manage.py test testapp
  coverage report
setenv =
  PYTHONWARNINGS = all

[testenv:flake8]
skip_install = True
commands =
  pipenv install --dev
  flake8
