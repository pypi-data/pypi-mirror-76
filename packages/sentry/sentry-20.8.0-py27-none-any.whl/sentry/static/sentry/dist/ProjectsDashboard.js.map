{"version":3,"sources":["webpack:///./app/components/sentryDocumentTitle.tsx","webpack:///./app/components/avatar/avatarList.tsx","webpack:///./images/spot/releases.svg","webpack:///./images/spot/breadcrumbs-generic.svg","webpack:///./images/spot/code-arguments-tags-mirrored.svg","webpack:///./app/utils/withTeamsForUser.tsx","webpack:///./app/utils/getProjectsByTeams.tsx","webpack:///./app/components/resourceCard.tsx","webpack:///./app/views/projectsDashboard/resources.tsx","webpack:///./app/views/projectsDashboard/teamMembers.tsx","webpack:///./app/views/projectsDashboard/chart.tsx","webpack:///./app/views/projectsDashboard/deploys.tsx","webpack:///./app/views/projectsDashboard/noEvents.tsx","webpack:///./app/views/projectsDashboard/projectCard.tsx","webpack:///./app/views/projectsDashboard/teamSection.tsx","webpack:///./app/views/projectsDashboard/index.tsx"],"names":["SentryDocumentTitle","props","_title","title","objSlug","children","AvatarList","this","className","users","avatarSize","maxVisibleAvatars","renderTooltip","typeMembers","tooltipOptions","visibleUsers","slice","numCollapsedUsers","length","position","AvatarListWrapper","CollapsedUsers","size","Plus","map","user","StyledAvatar","key","id","email","hasTooltip","React","Component","defaultProps","Circle","UserAvatar","p","theme","gray300","gray500","Math","floor","module","exports","withTeamsForUser","WrappedComponent","state","teams","loadingTeams","error","fetchTeams","setState","metric","mark","name","api","requestPromise","getUsersTeamsEndpoint","teamsWithProjects","measure","start","data","route","organization_id","parseInt","organization","projects","projectsByTeam","isSuperuser","teamlessProjects","usersTeams","Set","filter","team","isMember","slug","forEach","project","push","has","hasOwnProperty","getProjectsByTeams","ConfigStore","get","displayName","getDisplayName","ResourceCard","link","imgUrl","ResourceCardWrapper","onClick","analytics","StyledLink","href","StyledImg","src","alt","StyledTitle","Panel","space","ExternalLink","gray700","fontSizeLarge","Resources","trackAnalyticsEvent","eventKey","eventName","ResourcesWrapper","data-test-id","withMargins","t","ResourceCards","releasesImg","breadcrumbsImg","docsImg","borderLight","breakpoints","TeamMembers","orgId","teamId","renderBody","members","AsyncComponent","Chart","stats","d","x","y","StyledBarChart","points","label","height","gap","BarChart","Deploys","deploys","Object","entries","latestDeploys","environment","sort","a","b","Date","dateFinished","getTime","DeployContainer","deploy","version","Deploy","DeployRow","Environment","StyledTextOverflow","projectId","tooltipRawVersion","truncate","DeployTimeWrapper","getDynamicText","fixed","value","date","NoDeploys","Background","external","fontSizeSmall","TextOverflow","fontSizeExtraSmall","gray100","borderRadius","NoEvents","Container","EmptyText","ProjectCard","loadStatsForProject","hasProjectAccess","firstEvent","StyledProjectCard","StyledProjectCardHeader","StyledIdBadge","to","ChartContainer","LoadingCard","ProjectCardContainer","createReactClass","mixins","Reflux","listenTo","ProjectsStatsStore","getInitialState","projectDetails","onProjectStoreUpdate","itemsBySlug","render","borderDark","dropShadowLight","IdBadge","withOrganization","withApi","TeamSection","showBorder","access","hasTeamAccess","TeamSectionWrapper","TeamTitleBar","TeamName","ProjectCards","PageHeading","Dashboard","reset","params","message","filteredTeams","team1","team2","localeCompare","uniqBy","flatten","teamObj","favorites","isBookmarked","canCreateProjects","hasTeamAdminAccess","showEmptyMessage","showResources","Fragment","ProjectsHeader","disabled","undefined","icon","isCircled","index","once","debounce","offset","TeamLink","sortProjects","OrganizationDashboard","OrganizationDashboardWrapper","Link","withProfiler"],"mappings":"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","file":"ProjectsDashboard.js","sourcesContent":["import React, {FunctionComponent} from 'react';\nimport DocumentTitle from 'react-document-title';\n\ntype DocumentTitleProps = {\n  // Main page title\n  title: string;\n  // Organization or project slug to give title some context\n  objSlug: string;\n  children?: React.ReactNode;\n};\n\nconst SentryDocumentTitle: FunctionComponent<DocumentTitleProps> = (\n  props: DocumentTitleProps\n) => {\n  const _title = `${props.title} - ${props.objSlug} - Sentry`;\n  return <DocumentTitle title={_title}>{props.children}</DocumentTitle>;\n};\n\nexport default SentryDocumentTitle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@emotion/styled';\nimport {css} from '@emotion/core';\n\nimport {AvatarUser} from 'app/types';\nimport SentryTypes from 'app/sentryTypes';\nimport UserAvatar from 'app/components/avatar/userAvatar';\nimport Tooltip from 'app/components/tooltip';\n\nconst defaultProps = {\n  avatarSize: 28,\n  maxVisibleAvatars: 5,\n  typeMembers: 'users',\n  tooltipOptions: {},\n};\n\ntype DefaultProps = Readonly<typeof defaultProps>;\ntype Mutable<T> = {-readonly [P in keyof T]: T[P]};\n\ntype Props = {\n  className?: string;\n  users: AvatarUser[];\n  renderTooltip?: UserAvatar['props']['renderTooltip'];\n  tooltipOptions: Mutable<UserAvatar['props']['tooltipOptions']>;\n} & DefaultProps;\n\nexport default class AvatarList extends React.Component<Props> {\n  static propTypes = {\n    users: PropTypes.arrayOf(SentryTypes.User).isRequired,\n    avatarSize: PropTypes.number,\n    maxVisibleAvatars: PropTypes.number,\n    renderTooltip: PropTypes.func,\n    tooltipOptions: PropTypes.object,\n    typeMembers: PropTypes.string,\n  };\n\n  static defaultProps = defaultProps;\n\n  render() {\n    const {\n      className,\n      users,\n      avatarSize,\n      maxVisibleAvatars,\n      renderTooltip,\n      typeMembers,\n      tooltipOptions,\n    } = this.props;\n\n    const visibleUsers = users.slice(0, maxVisibleAvatars);\n    const numCollapsedUsers = users.length - visibleUsers.length;\n\n    if (!tooltipOptions.position) {\n      tooltipOptions.position = 'top';\n    }\n\n    return (\n      <AvatarListWrapper className={className}>\n        {!!numCollapsedUsers && (\n          <Tooltip title={`${numCollapsedUsers} other ${typeMembers}`}>\n            <CollapsedUsers size={avatarSize}>\n              {numCollapsedUsers < 99 && <Plus>+</Plus>}\n              {numCollapsedUsers}\n            </CollapsedUsers>\n          </Tooltip>\n        )}\n        {visibleUsers.map(user => (\n          <StyledAvatar\n            key={`${user.id}-${user.email}`}\n            user={user}\n            size={avatarSize}\n            renderTooltip={renderTooltip}\n            tooltipOptions={tooltipOptions}\n            hasTooltip\n          />\n        ))}\n      </AvatarListWrapper>\n    );\n  }\n}\n\n// used in releases list page to do some alignment\nexport const AvatarListWrapper = styled('div')`\n  display: flex;\n  flex-direction: row-reverse;\n`;\n\nconst Circle = css`\n  border-radius: 50%;\n  border: 2px solid white;\n  margin-left: -8px;\n  cursor: default;\n\n  &:hover {\n    z-index: 1;\n  }\n`;\n\nconst StyledAvatar = styled(UserAvatar)`\n  overflow: hidden;\n  ${Circle};\n`;\n\nconst CollapsedUsers = styled('div')<{size: number}>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n  font-weight: 600;\n  background-color: ${p => p.theme.gray300};\n  color: ${p => p.theme.gray500};\n  font-size: ${p => Math.floor(p.size / 2.3)}px;\n  width: ${p => p.size}px;\n  height: ${p => p.size}px;\n  ${Circle};\n`;\n\nconst Plus = styled('span')`\n  font-size: 10px;\n  margin-left: 1px;\n  margin-right: -1px;\n`;\n","module.exports = __webpack_public_path__ + \"releases.07d461.svg\";","module.exports = __webpack_public_path__ + \"breadcrumbs-generic.f48299.svg\";","module.exports = __webpack_public_path__ + \"code-arguments-tags-mirrored.83a400.svg\";","import React from 'react';\n\nimport {Client} from 'app/api';\nimport {Organization, Project, Team, TeamWithProjects} from 'app/types';\nimport getDisplayName from 'app/utils/getDisplayName';\nimport getProjectsByTeams from 'app/utils/getProjectsByTeams';\nimport ConfigStore from 'app/stores/configStore';\n\nimport {metric} from './analytics';\n\n// We require these props when using this HOC\ntype DependentProps = {\n  api: Client;\n  organization: Organization;\n};\n\ntype InjectedTeamsProps = {\n  teams: TeamWithProjects[];\n  loadingTeams: boolean;\n  error: Error | null;\n};\n\nconst withTeamsForUser = <P extends InjectedTeamsProps>(\n  WrappedComponent: React.ComponentType<P>\n) =>\n  class extends React.Component<\n    Omit<P, keyof InjectedTeamsProps> & Partial<InjectedTeamsProps> & DependentProps,\n    InjectedTeamsProps\n  > {\n    static displayName = `withUsersTeams(${getDisplayName(WrappedComponent)})`;\n\n    state = {\n      teams: [],\n      loadingTeams: true,\n      error: null,\n    };\n\n    componentDidMount() {\n      this.fetchTeams();\n    }\n\n    async fetchTeams() {\n      this.setState({\n        loadingTeams: true,\n      });\n\n      try {\n        metric.mark({name: 'user-teams-fetch-start'});\n        const teamsWithProjects: TeamWithProjects[] = await this.props.api.requestPromise(\n          this.getUsersTeamsEndpoint()\n        );\n        this.setState(\n          {\n            teams: teamsWithProjects,\n            loadingTeams: false,\n          },\n          () => {\n            metric.measure({\n              name: 'app.component.perf',\n              start: 'user-teams-fetch-start',\n              data: {\n                name: 'user-teams',\n                route: '/organizations/:orgid/user-teams',\n                organization_id: parseInt(this.props.organization.id, 10),\n              },\n            });\n          }\n        );\n      } catch (error) {\n        this.setState({\n          error,\n          loadingTeams: false,\n        });\n      }\n    }\n\n    populateTeamsWithProjects(teams: Team[], projects: Project[]) {\n      const {isSuperuser} = ConfigStore.get('user');\n      const {projectsByTeam} = getProjectsByTeams(teams, projects, isSuperuser);\n      const teamsWithProjects: TeamWithProjects[] = teams.map(team => {\n        const teamProjects = projectsByTeam[team.slug] || [];\n        return {...team, projects: teamProjects};\n      });\n      this.setState({\n        teams: teamsWithProjects,\n        loadingTeams: false,\n      });\n    }\n\n    getUsersTeamsEndpoint() {\n      return `/organizations/${this.props.organization.slug}/user-teams/`;\n    }\n\n    render() {\n      return <WrappedComponent {...(this.props as P & DependentProps)} {...this.state} />;\n    }\n  };\n\nexport default withTeamsForUser;\n","import {Project, Team} from 'app/types';\n\nexport default function getProjectsByTeams(\n  teams: Team[],\n  projects: Project[],\n  isSuperuser: boolean = false\n): {projectsByTeam: {[teamSlug: string]: Project[]}; teamlessProjects: Project[]} {\n  const projectsByTeam = {};\n  const teamlessProjects: Project[] = [];\n  let usersTeams = new Set(teams.filter(team => team.isMember).map(team => team.slug));\n\n  if (usersTeams.size === 0 && isSuperuser) {\n    usersTeams = new Set(teams.map(team => team.slug));\n  }\n\n  projects.forEach(project => {\n    if (!project.teams.length && project.isMember) {\n      teamlessProjects.push(project);\n    } else {\n      project.teams.forEach(team => {\n        if (!usersTeams.has(team.slug)) {\n          return;\n        }\n        if (!projectsByTeam.hasOwnProperty(team.slug)) {\n          projectsByTeam[team.slug] = [];\n        }\n        projectsByTeam[team.slug].push(project);\n      });\n    }\n  });\n\n  return {projectsByTeam, teamlessProjects};\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {analytics} from 'app/utils/analytics';\nimport ExternalLink from 'app/components/links/externalLink';\nimport {Panel} from 'app/components/panels';\nimport space from 'app/styles/space';\n\ntype Props = {\n  title: string;\n  link: string;\n  imgUrl: string;\n};\n\nconst ResourceCard = ({title, link, imgUrl}: Props) => (\n  <ResourceCardWrapper\n    onClick={() => analytics('orgdash.resource_clicked', {link, title})}\n  >\n    <StyledLink href={link}>\n      <StyledImg src={imgUrl} alt={title} />\n      <StyledTitle>{title}</StyledTitle>\n    </StyledLink>\n  </ResourceCardWrapper>\n);\n\nexport default ResourceCard;\n\nconst ResourceCardWrapper = styled(Panel)`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  padding: ${space(3)};\n  margin-bottom: 0;\n`;\n\nconst StyledLink = styled(ExternalLink)`\n  flex: 1;\n`;\n\nconst StyledImg = styled('img')`\n  display: block;\n  margin: 0 auto ${space(3)} auto;\n  height: 160px;\n`;\n\nconst StyledTitle = styled('div')`\n  color: ${p => p.theme.gray700};\n  font-size: ${p => p.theme.fontSizeLarge};\n  text-align: center;\n  font-weight: bold;\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {Organization} from 'app/types';\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport PageHeading from 'app/components/pageHeading';\nimport ResourceCard from 'app/components/resourceCard';\nimport space from 'app/styles/space';\nimport {t} from 'app/locale';\n\nimport releasesImg from '../../../images/spot/releases.svg';\nimport breadcrumbsImg from '../../../images/spot/breadcrumbs-generic.svg';\nimport docsImg from '../../../images/spot/code-arguments-tags-mirrored.svg';\n\ntype Props = {\n  organization: Organization;\n};\n\nclass Resources extends React.Component<Props> {\n  componentDidMount() {\n    const {organization} = this.props;\n    trackAnalyticsEvent({\n      eventKey: 'orgdash.resources_shown',\n      eventName: 'Projects Dashboard: Resources Shown',\n      organization: organization.id,\n    });\n  }\n\n  render() {\n    return (\n      <ResourcesWrapper data-test-id=\"resources\">\n        <PageHeading withMargins>{t('Resources')}</PageHeading>\n        <ResourceCards>\n          <ResourceCard\n            link=\"https://blog.sentry.io/2018/03/06/the-sentry-workflow\"\n            imgUrl={releasesImg}\n            title={t('The Sentry Workflow')}\n          />\n          <ResourceCard\n            link=\"https://sentry.io/vs/logging/\"\n            imgUrl={breadcrumbsImg}\n            title={t('Sentry vs Logging')}\n          />\n          <ResourceCard\n            link=\"https://docs.sentry.io/\"\n            imgUrl={docsImg}\n            title={t('Docs')}\n          />\n        </ResourceCards>\n      </ResourcesWrapper>\n    );\n  }\n}\n\nexport default Resources;\n\nconst ResourcesWrapper = styled('div')`\n  border-top: 1px solid ${p => p.theme.borderLight};\n  padding: 25px 30px 10px 30px;\n`;\n\nconst ResourceCards = styled('div')`\n  display: grid;\n  grid-template-columns: minmax(100px, 1fr);\n  grid-gap: ${space(3)};\n\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Member} from 'app/types';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport AvatarList from 'app/components/avatar/avatarList';\n\ntype Props = AsyncComponent['props'] & {\n  teamId: string;\n  orgId: string;\n};\n\ntype State = AsyncComponent['state'] & {\n  members?: Member[];\n};\n\nclass TeamMembers extends AsyncComponent<Props, State> {\n  static propTypes = {\n    teamId: PropTypes.string.isRequired,\n    orgId: PropTypes.string.isRequired,\n  };\n\n  getEndpoints(): Array<[string, string]> {\n    const {orgId, teamId} = this.props;\n    return [['members', `/teams/${orgId}/${teamId}/members/`]];\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderBody(): React.ReactNode {\n    const {members} = this.state;\n    if (!members) {\n      return null;\n    }\n\n    const users = members.filter(({user}) => !!user).map(({user}) => user);\n    return <AvatarList users={users} />;\n  }\n}\n\nexport default TeamMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@emotion/styled';\n\nimport {Project} from 'app/types';\nimport BarChart from 'app/components/barChart';\n\ntype Props = {\n  stats: Required<Project>['stats'];\n};\n\nconst Chart = ({stats = []}: Props) => {\n  const data = stats.map(d => ({x: d[0], y: d[1]}));\n  return <StyledBarChart points={data} label=\"events\" height={60} gap={1.5} />;\n};\n\nChart.propTypes = {\n  stats: PropTypes.array,\n};\n\nexport default Chart;\n\nconst StyledBarChart = styled(BarChart)`\n  a {\n    &:not(:first-child) {\n      border-left: 2px solid transparent;\n    }\n    &:not(:last-child) {\n      border-right: 2px solid transparent;\n    }\n    > span {\n      left: 0;\n      right: 0;\n    }\n  }\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {Project, Deploy as DeployType} from 'app/types';\nimport {t} from 'app/locale';\nimport Button from 'app/components/button';\nimport SentryTypes from 'app/sentryTypes';\nimport TextOverflow from 'app/components/textOverflow';\nimport TimeSince from 'app/components/timeSince';\nimport Version from 'app/components/version';\nimport space from 'app/styles/space';\nimport getDynamicText from 'app/utils/getDynamicText';\n\nconst DEPLOY_COUNT = 2;\n\ntype Props = {\n  project: Project;\n};\n\nconst Deploys = ({project}: Props) => {\n  const flattenedDeploys = Object.entries(project.latestDeploys || {}).map(\n    ([environment, value]): Pick<\n      DeployType,\n      'version' | 'dateFinished' | 'environment'\n    > => ({environment, ...value})\n  );\n\n  const deploys = (flattenedDeploys || [])\n    .sort(\n      (a, b) => new Date(b.dateFinished).getTime() - new Date(a.dateFinished).getTime()\n    )\n    .slice(0, DEPLOY_COUNT);\n\n  if (!deploys.length) {\n    return <NoDeploys />;\n  }\n\n  return (\n    <DeployContainer>\n      {deploys.map(deploy => (\n        <Deploy\n          key={`${deploy.environment}-${deploy.version}`}\n          deploy={deploy}\n          project={project}\n        />\n      ))}\n    </DeployContainer>\n  );\n};\n\nDeploys.propTypes = {\n  project: SentryTypes.Project.isRequired,\n};\n\nexport default Deploys;\n\ntype DeployProps = Props & {\n  deploy: Pick<DeployType, 'version' | 'dateFinished' | 'environment'>;\n};\n\nconst Deploy = ({deploy, project}: DeployProps) => (\n  <DeployRow>\n    <Environment>{deploy.environment}</Environment>\n\n    <StyledTextOverflow>\n      <Version\n        version={deploy.version}\n        projectId={project.id}\n        tooltipRawVersion\n        truncate\n      />\n    </StyledTextOverflow>\n\n    <DeployTimeWrapper>\n      {getDynamicText({\n        fixed: '3 hours ago',\n        value: <TimeSince date={deploy.dateFinished} />,\n      })}\n    </DeployTimeWrapper>\n  </DeployRow>\n);\n\nDeploy.propTypes = {\n  deploy: SentryTypes.Deploy.isRequired,\n  project: SentryTypes.Project.isRequired,\n};\n\nconst NoDeploys = () => (\n  <DeployContainer>\n    <Background>\n      <Button size=\"xsmall\" href=\"https://docs.sentry.io/learn/releases/\" external>\n        {t('Track deploys')}\n      </Button>\n    </Background>\n  </DeployContainer>\n);\n\nconst DeployRow = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  color: ${p => p.theme.gray500};\n  font-size: ${p => p.theme.fontSizeSmall};\n\n  &:not(:last-of-type) {\n    margin-top: ${space(1)};\n  }\n`;\n\nconst Environment = styled(TextOverflow)`\n  font-size: ${p => p.theme.fontSizeExtraSmall};\n  text-transform: uppercase;\n  width: 80px;\n  border: 1px solid ${p => p.theme.borderLight};\n  margin-right: ${space(1)};\n  background-color: ${p => p.theme.gray100};\n  text-align: center;\n  border-radius: ${p => p.theme.borderRadius};\n  flex-shrink: 0;\n`;\n\nconst StyledTextOverflow = styled(TextOverflow)`\n  margin-right: ${space(1)};\n`;\n\nconst DeployTimeWrapper = styled('div')`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 90px;\n  flex-grow: 1;\n  flex-shrink: 0;\n  text-align: right;\n`;\n\nconst DeployContainer = styled('div')`\n  height: 92px;\n  padding: ${space(2)};\n`;\n\nconst Background = styled('div')`\n  display: flex;\n  height: 100%;\n  background-color: ${p => p.theme.gray100};\n  align-items: center;\n  justify-content: center;\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {t} from 'app/locale';\n\nconst NoEvents = () => (\n  <Container>\n    <EmptyText>{t('No activity yet.')}</EmptyText>\n  </Container>\n);\n\nexport default NoEvents;\n\nconst Container = styled('div')`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst EmptyText = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 4px;\n  margin-right: 4px;\n  height: 68px;\n  color: ${p => p.theme.gray500};\n`;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Reflux from 'reflux';\nimport createReactClass from 'create-react-class';\nimport styled from '@emotion/styled';\n\nimport {Organization, Project} from 'app/types';\nimport BookmarkStar from 'app/components/projects/bookmarkStar';\nimport {Client} from 'app/api';\nimport {loadStatsForProject} from 'app/actionCreators/projects';\nimport IdBadge from 'app/components/idBadge';\nimport Link from 'app/components/links/link';\nimport ProjectsStatsStore from 'app/stores/projectsStatsStore';\nimport SentryTypes from 'app/sentryTypes';\nimport space from 'app/styles/space';\nimport withOrganization from 'app/utils/withOrganization';\nimport withApi from 'app/utils/withApi';\n\nimport Chart from './chart';\nimport Deploys from './deploys';\nimport NoEvents from './noEvents';\n\ntype Props = {\n  api: Client;\n  organization: Organization;\n  project: Project;\n  hasProjectAccess: boolean;\n};\n\nclass ProjectCard extends React.Component<Props> {\n  static propTypes = {\n    organization: SentryTypes.Organization.isRequired,\n    project: SentryTypes.Project.isRequired,\n    hasProjectAccess: PropTypes.bool,\n  };\n\n  componentDidMount() {\n    const {organization, project, api} = this.props;\n\n    // fetch project stats\n    loadStatsForProject(api, project.id, {\n      orgId: organization.slug,\n      projectId: project.id,\n    });\n  }\n\n  render() {\n    const {organization, project, hasProjectAccess} = this.props;\n    const {id, firstEvent, stats, slug} = project;\n\n    return (\n      <div data-test-id={slug}>\n        {stats ? (\n          <StyledProjectCard>\n            <StyledProjectCardHeader>\n              <StyledIdBadge\n                project={project}\n                avatarSize={18}\n                displayName={\n                  hasProjectAccess ? (\n                    <Link\n                      to={`/organizations/${organization.slug}/issues/?project=${id}`}\n                    >\n                      <strong>{slug}</strong>\n                    </Link>\n                  ) : (\n                    <span>{slug}</span>\n                  )\n                }\n              />\n              <BookmarkStar organization={organization} project={project} />\n            </StyledProjectCardHeader>\n            <ChartContainer>\n              <Chart stats={stats} />\n              {!firstEvent && <NoEvents />}\n            </ChartContainer>\n            <Deploys project={project} />\n          </StyledProjectCard>\n        ) : (\n          <LoadingCard />\n        )}\n      </div>\n    );\n  }\n}\n\ntype ContainerProps = {\n  api: Client;\n  project: Project;\n  organization: Organization;\n  hasProjectAccess: boolean;\n};\n\ntype ContainerState = {\n  projectDetails: Project | null;\n};\n\nconst ProjectCardContainer = createReactClass<ContainerProps, ContainerState>({\n  propTypes: {\n    project: SentryTypes.Project,\n  },\n  mixins: [Reflux.listenTo(ProjectsStatsStore, 'onProjectStoreUpdate') as any],\n  getInitialState(): ContainerState {\n    const {project} = this.props;\n    const initialState = ProjectsStatsStore.getInitialState() || {};\n    return {\n      projectDetails: initialState[project.slug] || null,\n    };\n  },\n  onProjectStoreUpdate(itemsBySlug: typeof ProjectsStatsStore['itemsBySlug']) {\n    const {project} = this.props;\n\n    // Don't update state if we already have stats\n    if (!itemsBySlug[project.slug]) {\n      return;\n    }\n    if (itemsBySlug[project.slug] === this.state.projectDetails) {\n      return;\n    }\n\n    this.setState({\n      projectDetails: itemsBySlug[project.slug],\n    });\n  },\n  render() {\n    const {project, ...props} = this.props;\n    const {projectDetails} = this.state;\n    return (\n      <ProjectCard\n        {...props}\n        project={{\n          ...project,\n          ...(projectDetails || {}),\n        }}\n      />\n    );\n  },\n});\n\nconst ChartContainer = styled('div')`\n  position: relative;\n  background: ${p => p.theme.gray100};\n  padding-top: ${space(1)};\n`;\n\nconst StyledProjectCardHeader = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 12px ${space(2)};\n`;\n\nconst StyledProjectCard = styled('div')`\n  background-color: white;\n  border: 1px solid ${p => p.theme.borderDark};\n  border-radius: ${p => p.theme.borderRadius};\n  box-shadow: ${p => p.theme.dropShadowLight};\n`;\n\nconst LoadingCard = styled('div')`\n  border: 1px solid transparent;\n  background-color: ${p => p.theme.gray100};\n  height: 210px;\n`;\n\nconst StyledIdBadge = styled(IdBadge)`\n  overflow: hidden;\n  white-space: nowrap;\n`;\n\nexport {ProjectCard};\nexport default withOrganization(withApi(ProjectCardContainer));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@emotion/styled';\n\nimport {Team, Project, Scope} from 'app/types';\nimport SentryTypes from 'app/sentryTypes';\nimport space from 'app/styles/space';\nimport PageHeading from 'app/components/pageHeading';\n\nimport TeamMembers from './teamMembers';\nimport ProjectCard from './projectCard';\n\ntype Props = {\n  team: Team;\n  orgId: string;\n  showBorder: boolean;\n  access: Set<Scope>;\n  title: React.ReactNode;\n  projects: Project[];\n};\n\nconst TeamSection = ({team, projects, title, showBorder, orgId, access}: Props) => {\n  const hasTeamAccess = access.has('team:read');\n  const hasProjectAccess = access.has('project:read');\n\n  return (\n    <TeamSectionWrapper data-test-id=\"team\" showBorder={showBorder}>\n      <TeamTitleBar>\n        <TeamName>{title}</TeamName>\n        {hasTeamAccess && team && <TeamMembers teamId={team.slug} orgId={orgId} />}\n      </TeamTitleBar>\n      <ProjectCards>\n        {projects.map(project => (\n          <ProjectCard\n            data-test-id={project.slug}\n            key={project.slug}\n            project={project}\n            hasProjectAccess={hasProjectAccess}\n          />\n        ))}\n      </ProjectCards>\n    </TeamSectionWrapper>\n  );\n};\n\nTeamSection.propTypes = {\n  team: SentryTypes.Team,\n  orgId: PropTypes.string,\n  showBorder: PropTypes.bool,\n  access: PropTypes.object,\n  title: PropTypes.node,\n  projects: PropTypes.array,\n};\n\nconst ProjectCards = styled('div')`\n  display: grid;\n  grid-template-columns: minmax(100px, 1fr);\n  grid-gap: ${space(3)};\n\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[2]}) {\n    grid-template-columns: repeat(3, minmax(100px, 1fr));\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[3]}) {\n    grid-template-columns: repeat(4, minmax(100px, 1fr));\n  }\n`;\n\nconst TeamSectionWrapper = styled('div')<{showBorder: boolean}>`\n  border-bottom: ${p => (p.showBorder ? '1px solid ' + p.theme.borderLight : 0)};\n  padding: 0 ${space(4)} ${space(4)};\n`;\n\nconst TeamTitleBar = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: ${space(3)} 0 ${space(2)};\n`;\n\nconst TeamName = styled(PageHeading)`\n  font-size: 20px;\n  line-height: 24px; /* We need this so that header doesn't flicker when lazy loading because avatarList height > this */\n`;\n\nexport default TeamSection;\n","import {Link} from 'react-router';\nimport LazyLoad from 'react-lazyload';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport uniqBy from 'lodash/uniqBy';\nimport flatten from 'lodash/flatten';\nimport {withProfiler} from '@sentry/react';\nimport {RouteComponentProps} from 'react-router/lib/Router';\n\nimport {Client} from 'app/api';\nimport {TeamWithProjects, Organization} from 'app/types';\nimport {sortProjects} from 'app/utils';\nimport {t} from 'app/locale';\nimport LoadingError from 'app/components/loadingError';\nimport Button from 'app/components/button';\nimport IdBadge from 'app/components/idBadge';\nimport NoProjectMessage from 'app/components/noProjectMessage';\nimport PageHeading from 'app/components/pageHeading';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport ProjectsStatsStore from 'app/stores/projectsStatsStore';\nimport SentryTypes from 'app/sentryTypes';\nimport space from 'app/styles/space';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport withApi from 'app/utils/withApi';\nimport withOrganization from 'app/utils/withOrganization';\nimport withTeamsForUser from 'app/utils/withTeamsForUser';\nimport {IconAdd} from 'app/icons';\n\nimport Resources from './resources';\nimport TeamSection from './teamSection';\n\ntype Props = {\n  api: Client;\n  organization: Organization;\n  teams: TeamWithProjects[];\n  loadingTeams: boolean;\n  error: Error | null;\n} & RouteComponentProps<{orgId: string}, {}>;\n\nclass Dashboard extends React.Component<Props> {\n  static propTypes = {\n    teams: PropTypes.array,\n    organization: SentryTypes.Organization,\n    loadingTeams: PropTypes.bool,\n    error: PropTypes.instanceOf(Error),\n  };\n\n  componentWillUnmount() {\n    ProjectsStatsStore.reset();\n  }\n\n  render() {\n    const {teams, params, organization, loadingTeams, error} = this.props;\n\n    if (loadingTeams) {\n      return <LoadingIndicator />;\n    }\n\n    if (error) {\n      return <LoadingError message=\"An error occurred while fetching your projects\" />;\n    }\n\n    const filteredTeams = teams.filter(team => team.projects.length);\n    filteredTeams.sort((team1, team2) => team1.slug.localeCompare(team2.slug));\n\n    const projects = uniqBy(flatten(teams.map(teamObj => teamObj.projects)), 'id');\n    const favorites = projects.filter(project => project.isBookmarked);\n\n    const access = new Set(organization.access);\n    const canCreateProjects = access.has('project:admin');\n    const hasTeamAdminAccess = access.has('team:admin');\n\n    const showEmptyMessage = projects.length === 0 && favorites.length === 0;\n    const showResources = projects.length === 1 && !projects[0].firstEvent;\n\n    if (showEmptyMessage) {\n      return (\n        <NoProjectMessage organization={organization} projects={projects}>\n          {null}\n        </NoProjectMessage>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <SentryDocumentTitle\n          title={t('Projects Dashboard')}\n          objSlug={organization.slug}\n        />\n        {projects.length > 0 && (\n          <ProjectsHeader>\n            <PageHeading>Projects</PageHeading>\n            <Button\n              size=\"small\"\n              disabled={!canCreateProjects}\n              title={\n                !canCreateProjects\n                  ? t('You do not have permission to create projects')\n                  : undefined\n              }\n              to={`/organizations/${organization.slug}/projects/new/`}\n              icon={<IconAdd size=\"xs\" isCircled />}\n              data-test-id=\"create-project\"\n            >\n              {t('Create Project')}\n            </Button>\n          </ProjectsHeader>\n        )}\n\n        {filteredTeams.map((team, index) => {\n          const showBorder = index !== teams.length - 1;\n          return (\n            <LazyLoad key={team.slug} once debounce={50} height={300} offset={300}>\n              <TeamSection\n                orgId={params.orgId}\n                team={team}\n                showBorder={showBorder}\n                title={\n                  hasTeamAdminAccess ? (\n                    <TeamLink to={`/settings/${organization.slug}/teams/${team.slug}/`}>\n                      <IdBadge team={team} avatarSize={22} />\n                    </TeamLink>\n                  ) : (\n                    <IdBadge team={team} avatarSize={22} />\n                  )\n                }\n                projects={sortProjects(team.projects)}\n                access={access}\n              />\n            </LazyLoad>\n          );\n        })}\n\n        {showResources && <Resources organization={organization} />}\n      </React.Fragment>\n    );\n  }\n}\n\nconst OrganizationDashboard = (props: Props) => (\n  <OrganizationDashboardWrapper>\n    <Dashboard {...props} />\n  </OrganizationDashboardWrapper>\n);\n\nconst TeamLink = styled(Link)`\n  display: flex;\n  align-items: center;\n`;\n\nconst ProjectsHeader = styled('div')`\n  padding: ${space(3)} ${space(4)} 0 ${space(4)};\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst OrganizationDashboardWrapper = styled('div')`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n`;\n\nexport {Dashboard};\nexport default withApi(\n  withOrganization(withTeamsForUser(withProfiler(OrganizationDashboard)))\n);\n"],"sourceRoot":""}