(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[187],{1586:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(9),a=r.n(n),i=r(10),c=r.n(i),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(278),b=r.n(p),h=(r(1),r(1587)),m=r(0);function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var j=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(g()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return c()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(m.f)(b.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(h.a);j.displayName="AsyncView"},1618:function(e,t,r){"use strict";var n=r(9),a=r.n(n),i=r(10),c=r.n(i),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(4),b=r(1),h=r.n(b),m=r(46),g=r.n(m),j=r(382),y=r(63),O=r(17),v=r(0);function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(w()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=r.call.apply(r,[this].concat(i))).state={query:e.props.query||e.props.defaultQuery,dropdownVisible:!1},e.searchInputRef=h.a.createRef(),e.blur=function(){e.searchInputRef.current&&e.searchInputRef.current.blur()},e.onSubmit=function(t){t.preventDefault(),e.blur(),e.props.onSearch(e.state.query)},e.clearSearch=function(){e.setState({query:e.props.defaultQuery},(function(){e.props.onSearch(e.state.query),Object(y.a)(e.props.onChange,e.state.query)}))},e.onQueryFocus=function(){e.setState({dropdownVisible:!0})},e.onQueryBlur=function(){e.setState({dropdownVisible:!1})},e.onQueryChange=function(t){var r=t.target.value;e.setState({query:r}),Object(y.a)(e.props.onChange,r)},e}return c()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.query!==this.props.query&&this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.width;return Object(v.f)("div",{className:g()("search",t)},Object(v.f)("form",{className:"form-horizontal",onSubmit:this.onSubmit},Object(v.f)("div",null,Object(v.f)(S,{type:"text",className:"search-input form-control",placeholder:this.props.placeholder,name:"query",ref:this.searchInputRef,autoComplete:"off",value:this.state.query,onBlur:this.onQueryBlur,onChange:this.onQueryChange,width:r}),Object(v.f)(k,{className:"search-input-icon",size:"sm",color:"gray500"}),this.state.query!==this.props.defaultQuery&&Object(v.f)("div",null,Object(v.f)("a",{className:"search-clear-form",onClick:this.clearSearch},Object(v.f)(j.a,null))))))}}]),n}(h.a.PureComponent);x.displayName="SearchBar",x.defaultProps={query:"",defaultQuery:"",onSearch:function(){}};var S=Object(p.a)("input",{target:"e5a9jdx0",label:"Input"})("width:",(function(e){return e.width?e.width:void 0}),";"),k=Object(p.a)(O.nb,{target:"e5a9jdx1",label:"StyledIconSearch"})({name:"nte755",styles:"position:absolute;top:50%;transform:translateY(-50%);left:14px;"});t.a=x},1621:function(e,t,r){"use strict";var n=r(4),a=(r(1),r(8)),i=r(0),c=Object(n.a)((function(e){var t=e.className,r=e.children,n=e.error;return Object(i.f)("div",{"data-test-id":"loading-placeholder",className:t},n||r)}),{target:"e1xygdhp0",label:"Placeholder"})("display:flex;flex-direction:column;flex-shrink:0;justify-content:center;background-color:",(function(e){return e.error?e.theme.red100:e.theme.gray200}),";",(function(e){return e.error&&"color: ".concat(e.theme.red300,";")})," width:",(function(e){return e.width}),";height:",(function(e){return e.height}),";",(function(e){return"circle"===e.shape?"border-radius: 100%;":""})," ",(function(e){return"number"==typeof e.bottomGutter&&e.bottomGutter>0?"margin-bottom: ".concat(Object(a.a)(e.bottomGutter),";"):""}));c.defaultProps={shape:"rect",bottomGutter:0,width:"100%",height:"60px"},t.a=c},1690:function(e,t,r){"use strict";r.d(t,"b",(function(){return O})),r.d(t,"a",(function(){return v}));var n=r(9),a=r.n(n),i=r(10),c=r.n(i),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(4),b=r(1),h=r.n(b),m=r(0),g=r(186),j=r(39);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(y()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.users,n=e.avatarSize,a=e.maxVisibleAvatars,i=e.renderTooltip,c=e.typeMembers,o=e.tooltipOptions,s=r.slice(0,a),l=r.length-s.length;return o.position||(o.position="top"),Object(m.f)(v,{className:t},!!l&&Object(m.f)(j.a,{title:"".concat(l," other ").concat(c)},Object(m.f)(S,{size:n},l<99&&Object(m.f)(k,null,"+"),l)),s.map((function(e){return Object(m.f)(x,{key:"".concat(e.id,"-").concat(e.email),user:e,size:n,renderTooltip:i,tooltipOptions:o,hasTooltip:!0})})))}}]),n}(h.a.Component);O.displayName="AvatarList",O.defaultProps={avatarSize:28,maxVisibleAvatars:5,typeMembers:"users",tooltipOptions:{}};var v=Object(p.a)("div",{target:"e1mtf41h0",label:"AvatarListWrapper"})({name:"l256j9",styles:"display:flex;flex-direction:row-reverse;"}),w={name:"1truf70-Circle",styles:"border-radius:50%;border:2px solid white;margin-left:-8px;cursor:default;&:hover{z-index:1;};label:Circle;"},x=Object(p.a)(g.a,{target:"e1mtf41h1",label:"StyledAvatar"})("overflow:hidden;",w,";"),S=Object(p.a)("div",{target:"e1mtf41h2",label:"CollapsedUsers"})("display:flex;align-items:center;justify-content:center;position:relative;text-align:center;font-weight:600;background-color:",(function(e){return e.theme.gray300}),";color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return Math.floor(e.size/2.3)}),"px;width:",(function(e){return e.size}),"px;height:",(function(e){return e.size}),"px;",w,";"),k=Object(p.a)("span",{target:"e1mtf41h3",label:"Plus"})({name:"3427wc",styles:"font-size:10px;margin-left:1px;margin-right:-1px;"})},1758:function(e,t,r){"use strict";function n(e,t){return e.requestPromise("/promptsactivity/",{method:"PUT",data:{organization_id:t.organizationId,project_id:t.projectId,feature:t.feature,status:t.status}})}r.d(t,"a",(function(){return n}))},1786:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(44),a=r.n(n);function i(e){var t=a.a.utc(),r=a.a.unix(e).utc();return t.diff(r,"days")}},1838:function(e,t,r){"use strict";var n=r(4),a=r(83),i=Object(n.a)("span",{target:"e7g7u6w0",label:"RepoLabel"})("font-weight:700;color:",(function(e){return e.theme.white}),";text-align:center;white-space:nowrap;border-radius:0.25em;",a.a,";display:inline-block;vertical-align:text-bottom;line-height:1;background:",(function(e){return e.theme.gray400}),";padding:3px;max-width:86px;font-size:",(function(e){return e.theme.fontSizeSmall}),";");t.a=i},1847:function(e,t,r){"use strict";var n=r(4),a=(r(1),r(277)),i=r(8),c=r(0);function o(e){var t=e.className,r=e.image,n=e.children;return Object(c.f)(a.a,{className:t},Object(c.f)(s,null,Object(c.f)(u,null,r),Object(c.f)(l,null,n)))}o.displayName="OnboardingPanel";var s=Object(n.a)("div",{target:"eipqko00",label:"Container"})("padding:",Object(i.a)(3),";position:relative;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){min-height:350px;}"),l=Object(n.a)("div",{target:"eipqko01",label:"StyledBox"})("z-index:1;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){flex:2;}"),u=Object(n.a)(l,{target:"eipqko02",label:"IlloBox"})("position:relative;min-height:100px;max-width:300px;margin:",Object(i.a)(2)," auto;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){flex:1;margin:",Object(i.a)(3),";max-width:auto;}");t.a=o},1848:function(e,t,r){"use strict";r(1);var n=r(3),a=r(29),i=r(17),c=r(196),o=r(0),s=function(e){var t=e.orgId,r=e.version,s=function(){Object(c.g)(r,t)};return"2"===r?Object(o.f)(a.a,{priority:"primary",size:"small",icon:Object(o.f)(i.lb,{size:"sm"}),onClick:s},Object(n.b)("Go to New Releases")):Object(o.f)("div",null,Object(o.f)(a.a,{priority:"link",size:"small",onClick:s},Object(n.b)("Go to Legacy Releases")))};s.displayName="SwitchReleasesButton",t.a=s},1938:function(e,t,r){"use strict";var n=r(4),a=(r(1),r(1690)),i=r(3),c=r(8),o=r(0),s=function(e){var t=e.release,r=e.withHeading,n=void 0===r||r,c=t.commitCount||0,s=t.authors&&t.authors.length||0;if(0===c)return null;var u=[Object(i.d)("%s commit","%s commits",c),Object(i.b)("by"),Object(i.d)("%s author","%s authors",s)].join(" ");return Object(o.f)("div",{className:"release-stats"},n&&Object(o.f)(l,null,u),Object(o.f)("span",{style:{display:"inline-block"}},Object(o.f)(a.b,{users:t.authors,avatarSize:25,typeMembers:"authors"})))};s.displayName="ReleaseStats";var l=Object(n.a)("div",{target:"e1j648yn0",label:"ReleaseSummaryHeading"})("color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";line-height:1.2;font-weight:600;text-transform:uppercase;margin-bottom:",Object(c.a)(.5),";");t.a=s},2099:function(e,t,r){"use strict";var n=r(9),a=r.n(n),i=r(10),c=r.n(i),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(1),b=r.n(p),h=r(3),m=r(33),g=r(1621),j=r(78),y=r(631),O=r(4),v=r(1847),w=r(8),x=r(29),S=r(0);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var R=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(k()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=r.call.apply(r,[this].concat(i))).getMessage=function(){var t=e.props,r=t.cardsLength,n=t.step;return 0===n?Object(h.b)("Tell Me More"):n<r-1?Object(h.b)("Next"):Object(h.b)("See Docs for Setup")},e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.card,r=e.cardsLength,n=e.step===r-1;return Object(S.f)(v.a,{image:t.svg},Object(S.f)("h3",null,t.title),t.disclaimer&&Object(S.f)(z,null,t.disclaimer),Object(S.f)("p",null,t.message),n?Object(S.f)(x.a,{href:"https://docs.sentry.io/learn/releases/",onClick:this.props.onClick},this.getMessage()):Object(S.f)(x.a,{onClick:this.props.onClick},this.getMessage()))}}]),n}(b.a.Component);R.displayName="ReleaseLandingCard";var z=Object(O.a)("div",{target:"e1wqji5c0",label:"Disclaimer"})("margin-top:-",Object(w.a)(3),";margin-bottom:",Object(w.a)(2),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),N=R;function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function P(e){var t=e.children;return Object(S.f)(b.a.Suspense,{fallback:Object(S.f)(g.a,null)},t)}P.displayName="Illustration";var I=b.a.lazy((function(){return r.e(88).then(r.bind(null,2812))})),q=b.a.lazy((function(){return r.e(92).then(r.bind(null,2813))})),D=b.a.lazy((function(){return r.e(90).then(r.bind(null,2814))})),L=b.a.lazy((function(){return r.e(91).then(r.bind(null,2815))})),_=b.a.lazy((function(){return r.e(89).then(r.bind(null,2816))})),A=[{title:Object(h.b)("You Haven't Set Up Releases!"),disclaimer:Object(h.b)("(you made no releases in 30 days)"),message:Object(h.b)("Releases provide additional context, with rich commits, so you know which errors were addressed and which were introduced in a release"),svg:Object(S.f)(P,null,Object(S.f)(I,null))},{title:Object(h.b)("Suspect Commits"),message:Object(h.b)("Sentry suggests which commit caused an issue and who is likely responsible so you can triage"),svg:Object(S.f)(P,null,Object(S.f)(q,null))},{title:Object(h.b)("Release Stats"),message:Object(h.b)("See the commits in each release, and which issues were introduced or fixed in the release"),svg:Object(S.f)(P,null,Object(S.f)(D,null))},{title:Object(h.b)("Easy Resolution"),message:Object(h.b)("Automatically resolve issues by including the issue number in your commit message"),svg:Object(S.f)(P,null,Object(S.f)(L,null))},{title:Object(h.b)("Deploy Emails"),message:Object(h.b)("Receive email notifications when your code gets deployed"),svg:Object(S.f)(P,null,Object(S.f)(_,null))}],B=Object(j.a)(Object(y.a)(function(e){s()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(C()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=r.call.apply(r,[this].concat(i))).state={stepId:0},e.handleClick=function(){var t=e.state.stepId,r=e.props,n=r.organization,a=r.project,i=A[t].title;t>=A.length-1||(e.setState((function(e){return{stepId:e.stepId+1}})),Object(m.a)("releases.landing_card_clicked",{org_id:parseInt(n.id,10),project_id:a&&parseInt(a.id,10),step_id:t,step_title:i}))},e.getCard=function(e){return A[e]},e}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.organization,r=e.project;Object(m.a)("releases.landing_card_viewed",{org_id:parseInt(t.id,10),project_id:r&&parseInt(r.id,10)})}},{key:"render",value:function(){var e=this.state.stepId,t=this.getCard(e);return Object(S.f)(N,{onClick:this.handleClick,card:t,step:e,cardsLength:A.length})}}]),n}(b.a.Component)));t.a=B},2829:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),i=r(10),c=r.n(i),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(4),b=r(7),h=r(1),m=r.n(h),g=r(369),j=r(74),y=r(221),O=r(277),v=r(3),w=r(1586),x=r(378),S=r(632),k=r(50),R=r(633),z=r(383),N=r(619),C=r(1618),P=r(384),I=r(78),q=r(184),D=r(1848),L=r(25),_=r(8),A=r(16),B=r.n(A),M=r(30),E=r.n(M),Q=r(330),T=r.n(Q);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){var t=[].concat(E()(Object.values(j.e)),["cursor","query"]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},T()(e,t),{per_page:50})}var F=r(2099),G=r(397),H=r.n(G),U=r(873),Y=r.n(U),J=r(381),K=r(1938),X=r(249),Z=r(625),$=r(83),ee=r(285),te=Object(p.a)("div",{target:"e12souvn0",label:"Layout"})("display:grid;grid-template-columns:1.25fr 1fr minmax(0,1fr) 1fr 1fr;grid-column-gap:",Object(_.a)(1.5),";width:100%;align-items:center;grid-template-areas:'release-name stats projects new-count last-event';@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:2fr minmax(0,2fr) 1fr;grid-template-areas:'release-name projects new-count';}"),re=Object(p.a)("div",{target:"e12souvn1",label:"VersionColumn"})({name:"1x0mzj0",styles:"grid-area:release-name;overflow:hidden;"}),ne=Object(p.a)("div",{target:"e12souvn2",label:"ProjectsColumn"})("grid-area:projects;font-size:",(function(e){return e.theme.fontSizeMedium}),";"),ae=Object(p.a)("div",{target:"e12souvn3",label:"StatsColumn"})("grid-area:stats;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){display:none;}"),ie=Object(p.a)("div",{target:"e12souvn4",label:"CountColumn"})({name:"afjs7u",styles:"grid-area:new-count;"}),ce=Object(p.a)("div",{target:"e12souvn5",label:"LastEventColumn"})("grid-area:last-event;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){display:none;}"),oe=r(15),se=r.n(oe),le=r(17),ue=r(1838),fe=r(39),de=r(0),pe=function(e){var t=e.release,r=t.totalDeploys-1,n=t.lastDeploy;return Object(de.f)("div",null,n&&n.dateFinished?Object(de.f)("div",{className:"deploy"},Object(de.f)("p",{className:"m-b-0 text-light"},Object(de.f)(he,{style:{padding:3,width:70,maxWidth:86,fontSize:12}},n.environment+" ")," ",Object(de.f)(me,{date:n.dateFinished}),r>0&&Object(de.f)(fe.a,{title:Object(v.b)("%s earlier deploys",r)},Object(de.f)("span",{className:"badge"},r)))):Object(de.f)(me,{date:t.dateCreated}))};pe.displayName="LatestDeployOrReleaseTime";var be=pe,he=Object(p.a)(ue.a,{target:"e14ei9yo0",label:"ReleaseRepoLabel"})({name:"1eqmq6c",styles:"width:70px;"}),me=Object(p.a)((function(e){var t=e.date,r=se()(e,["date"]);return Object(de.f)("span",r,Object(de.f)(le.n,{size:"11px"})," ",Object(de.f)(X.a,{date:t}))}),{target:"e14ei9yo1",label:"TimeWithIcon"})("display:inline-flex;align-items:center;color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";& > svg{margin-right:",Object(_.a)(.25),";}"),ge=r(390),je=r(387),ye=r(332),Oe=function e(t){var r,n,a=t.projects,i=t.orgId,c=t.version,o=t.maxLines,s=void 0===o?2:o;a.length<=s?(r=a,n=[]):(r=a.slice(0,s-1),n=a.slice(s-1,a.length));var l=Object(v.b)("Release Projects"),u=Object(de.f)(xe,null,Object(de.f)(e,{projects:n,orgId:i,version:c,maxLines:5}));return Object(de.f)(m.a.Fragment,null,r.map((function(e){return Object(de.f)(ve,{project:e,avatarSize:14,key:e.slug})})),n.length>0&&Object(de.f)(we,{header:l,body:u,show:n.length<=5&&void 0},Object(de.f)(je.a,{to:"/organizations/".concat(i,"/releases/").concat(encodeURIComponent(c),"/")},Object(v.c)("and [count] more",{count:n.length}))))};Oe.displayName="ProjectList";var ve=Object(p.a)(ge.a,{target:"e568jqd0",label:"StyledProjectBadge"})("&:not(:last-child){margin-bottom:",Object(_.a)(.5),";}"),we=Object(p.a)(ye.b,{target:"e568jqd1",label:"StyledHovercard"})("width:auto;max-width:295px;",ye.a,"{padding-bottom:0;}"),xe=Object(p.a)("div",{target:"e568jqd2",label:"HovercardContentWrapper"})("display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;font-size:",(function(e){return e.theme.fontSizeMedium}),";",ve,"{margin-right:",Object(_.a)(3),";margin-bottom:",Object(_.a)(2),";}"),Se=Oe,ke=function(e){var t=e.orgId,r=e.releaseList,n=H()(Y()(r.map((function(e){return e.projects.map((function(e){return e.slug}))}))));return Object(de.f)("div",null,Object(de.f)(ee.a,{orgId:t,slugs:n},(function(e){var n=e.projects;return r.map((function(e){return Object(de.f)(ze,{key:e.version},Object(de.f)(te,null,Object(de.f)(re,null,Object(de.f)(Ne,null,Object(de.f)(Z.a,{version:e.version,preserveGlobalSelection:!0,tooltipRawVersion:!0,truncate:!0})),Object(de.f)(be,{orgId:t,release:e})),Object(de.f)(ae,null,Object(de.f)(K.a,{release:e})),Object(de.f)(ne,null,Object(de.f)(Se,{projects:n.filter((function(t){return e.projects.map((function(e){return e.slug})).includes(t.slug)})),orgId:t,version:e.version})),Object(de.f)(ie,null,Object(de.f)(J.a,{className:"release-count",value:e.newGroups||0})),Object(de.f)(ce,null,e.lastEvent?Object(de.f)(X.a,{date:e.lastEvent}):Object(de.f)("span",null,"â€”"))))}))})))};ke.displayName="ReleaseList";var Re=ke,ze=Object(p.a)(O.f,{target:"e1d6bfaw0",label:"ReleasePanelItem"})("align-items:center;padding:",Object(_.a)(1)," ",Object(_.a)(2),";"),Ne=Object(p.a)("div",{target:"e1d6bfaw1",label:"VersionWrapper"})("font-weight:bold;margin-bottom:",Object(_.a)(.25),";",$.a,";display:inline-block;max-width:100%;width:auto;"),Ce=function(){return Object(de.f)(O.e,null,Object(de.f)(te,null,Object(de.f)(re,null,Object(v.b)("Version")),Object(de.f)(ne,null,Object(v.b)("Project")),Object(de.f)(ae,null),Object(de.f)(ie,null,Object(v.b)("New Issues")),Object(de.f)(ce,null,Object(v.b)("Last Event"))))};Ce.displayName="ReleaseListHeader";var Pe=Ce,Ie=r(33),qe=r(1587),De=r(29),Le=r(1758),_e=r(1786),Ae=function(e){return Object(de.f)(Be,null,Object(de.f)(Me,{width:e.width}))};Ae.displayName="ProgressBar";var Be=Object(p.a)("div",{target:"e7w233o0",label:"StyledBar"})({name:"x6uaem",styles:"background:#767676;width:100%;height:15px;float:right;margin-right:0px;margin-bottom:10px;border-radius:20px;position:relative;"}),Me=Object(p.a)("div",{target:"e7w233o1",label:"StyledSlider"})("height:100%;width:",(function(e){return e.width?e.width:50}),"%;background:#7ccca5;padding-right:0;border-radius:inherit;box-shadow:0 2px 1px rgba(0,0,0,0.08);position:absolute;bottom:0;left:0;"),Ee=Ae;function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var We={tag:{desc:Object(v.b)("Tag an error"),url:"configure-sdk",msg:"knowing which errors were introduced in a release, "},repo:{desc:Object(v.b)("Link to a repo"),url:"link-repository",msg:"determining which commit caused an error, "},commit:{desc:Object(v.b)("Associate commits"),url:"associate-commits-with-a-release",msg:"determining which commit caused an error, "},deploy:{desc:Object(v.b)("Tell sentry about a deploy"),url:"create-deploy",msg:"receiving notifications when your code gets deployed, "}},Ve=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(Te()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return c()(n,[{key:"getEndpoints",value:function(){var e=this.props,t=e.project,r=e.organization;return[["promptsActivity","/promptsactivity/",{data:{organization_id:r.id,project_id:t.id,feature:"releases"}}],["setupStatus","/projects/".concat(r.slug,"/").concat(t.slug,"/releases/completion/")]]}},{key:"onRequestSuccess",value:function(e){var t=e.stateKey,r=e.data;"promptsActivity"===t?this.showBar(r):"setupStatus"===t&&this.getRemainingSteps(r)}},{key:"buildMessage",value:function(e){var t=e.map((function(e){return e.step})),r="You're missing out on ";t.includes("tag")&&(r+=We.tag.msg),(t.includes("repo")||t.includes("commit"))&&(r+=We.repo.msg),t.includes("deploy")&&(r+=We.deploy.msg),r+="and more!",this.setState({message:r})}},{key:"getRemainingSteps",value:function(e){var t;if(e){var r=(t=e.filter((function(e){return!1===e.complete})))[0]&&We[t[0].step];this.buildMessage(t),this.setState({remainingSteps:Object.keys(t).length,nextStep:r}),this.recordAnalytics("viewed",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({steps:e},r&&{cta:r.desc}))}}},{key:"showBar",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data;e=r&&r.snoozed_ts?Object(_e.a)(r.snoozed_ts)>7:!r||!r.dismissed_ts,this.setState({showBar:e})}},{key:"handleClick",value:function(e){var t=this.props,r=t.project,n=t.organization,a={projectId:r.id,organizationId:n.id,feature:"releases",status:e};Object(Le.a)(this.api,a).then(this.setState({showBar:!1})),this.recordAnalytics("closed",{action:e})}},{key:"recordAnalytics",value:function(e,t){var r=this.props,n=r.project,a=r.organization;t.org_id=parseInt(a.id,10),t.project_id=parseInt(n.id,10),"next"===e?Object(Ie.a)("releases.progress_bar_clicked_next",t):"closed"===e?Object(Ie.a)("releases.progress_bar_closed",t):"viewed"===e&&Object(Ie.a)("releases.progress_bar_viewed",t)}},{key:"getWidth",value:function(){var e=this.state.remainingSteps,t=100*(Object.keys(We).length-e)/Object.keys(We).length;return 0===t?25:t}},{key:"renderBody",value:function(){var e=this,t=this.state,r=t.remainingSteps,n=t.showBar,a=t.nextStep,i=t.message;return r&&0!==r&&n?Object(de.f)(O.f,null,Object(de.f)("div",{className:"col-sm-8"},Object(de.f)("div",null,Object(de.f)(Ge,{className:"row"},Object(de.f)("span",{className:"pull-right"},Object(v.b)("Next step: "),Object(de.f)("a",{href:"https://docs.sentry.io/workflow/releases/#".concat(a.url),onClick:function(){return e.recordAnalytics("next",{cta:a.desc})}},Object(v.b)("".concat(a.desc)))),Object(de.f)("h4",{className:"text-light"}," ",Object(v.b)("Releases aren't 100% set up"))),Object(de.f)("div",{className:"row"},Object(de.f)(Ee,{width:this.getWidth()}),Object(de.f)("p",null,Object(v.b)("".concat(i)))))),Object(de.f)("div",{className:"col-sm-4"},Object(de.f)("div",{className:"pull-right"},Object(de.f)(Fe,{className:"text-light",onClick:function(){return e.handleClick("dismissed")},"data-test-id":"dismissed"},Object(v.b)("Dismiss")),Object(de.f)(Fe,{className:"text-light",onClick:function(){return e.handleClick("snoozed")},"data-test-id":"snoozed"},Object(v.b)("Remind Me Later"))))):null}}]),n}(qe.a),Fe=Object(p.a)(De.a,{target:"ewm5q2t0",label:"StyledButton"})({name:"1522hk",styles:"margin:5px;"}),Ge=Object(p.a)("div",{target:"ewm5q2t1",label:"StyledDiv"})({name:"1r2f04i",styles:"margin-bottom:10px;"}),He=Object(I.a)(Ve);function Ue(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ye=function(e){return Object(de.f)(m.a.Fragment,null,Object(de.f)(S.a,null,Object(de.f)(Je,e)))};Ye.displayName="ReleasesContainer";var Je=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(Ue()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=r.call.apply(r,[this].concat(i))).onSearch=function(t){var r=V(e.props.location).query;r.query=t;var n=e.props.params.orgId;b.browserHistory.push({pathname:"/organizations/".concat(n,"/releases/"),query:r})},e}return c()(n,[{key:"getTitle",value:function(){return"".concat(Object(v.b)("Releases")," - ").concat(this.props.organization.slug)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location.query,n=V(r);return Object(L.d)(r.start)||Object(L.d)(r.end)||(n.statsPeriod=r.statsPeriod||"14d"),[["releaseList","/organizations/".concat(t.slug,"/releases/"),{query:n}]]}},{key:"hasAnyRelease",value:function(){var e=this.props,t=e.organization.projects,r=e.selection;if(!t)return!0;var n=new Set(r.projects.length>0?r.projects:t.filter((function(e){return e.isMember})).map((function(e){return parseInt(e.id,10)})));return t.filter((function(e){return n.has(parseInt(e.id,10))})).some((function(e){return!!e.latestRelease}))}},{key:"renderStreamBody",value:function(){var e=this.props.organization,t=this.state,r=t.loading,n=t.releaseList;return r?Object(de.f)(k.default,null):0===n.length?this.hasAnyRelease()?this.renderNoQueryResults():this.renderLanding():Object(de.f)(m.a.Fragment,null,this.renderReleaseProgress(),Object(de.f)(Re,{releaseList:n,orgId:e.slug}))}},{key:"renderReleaseProgress",value:function(){var e,t=this.props,r=t.organization,n=t.selection,a=null==r?void 0:null===(e=r.projects)||void 0===e?void 0:e.filter((function(e){return e.hasAccess}));if(!a)return null;if(!(1===n.projects.length||0===n.projects.length&&1===a.length))return null;var i=a[0];return n.projects.length&&n.projects[0]!==j.a&&(i=a.find((function(e){return parseInt(e.id,10)===n.projects[0]}))),Object(de.f)(He,{project:i})}},{key:"renderNoQueryResults",value:function(){return Object(de.f)(m.a.Fragment,null,this.renderReleaseProgress(),Object(de.f)(x.a,null,Object(de.f)("p",null,Object(v.b)("Sorry, no releases match your filters."))))}},{key:"renderLanding",value:function(){return Object(de.f)(F.a,null)}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.props,t=e.location,r=e.organization;return Object(de.f)(y.b,null,Object(de.f)(R.a,{organization:r},Object(de.f)(y.c,null,Object(de.f)(z.a,null,Object(v.b)("Releases")),Object(de.f)(Ke,null,Object(de.f)(q.a,{features:["releases-v2"],organization:r},Object(de.f)(D.a,{version:"2",orgId:r.id})),Object(de.f)(C.a,{defaultQuery:"",placeholder:Object(v.b)("Search for a release"),query:t.query.query,onSearch:this.onSearch}))),Object(de.f)("div",null,Object(de.f)(O.a,null,Object(de.f)(Pe,null),Object(de.f)(O.c,null,this.renderStreamBody())),Object(de.f)(N.a,{pageLinks:this.state.releaseListPageLinks}))))}}]),n}(w.a),Ke=Object(p.a)("div",{target:"e1rcjkrr0",label:"Wrapper"})("display:grid;grid-gap:",Object(_.a)(1),";margin-left:",Object(_.a)(2),";grid-template-columns:auto auto;");t.default=Object(I.a)(Object(P.a)(Object(g.c)(Ye)))}}]);
//# sourceMappingURL=Releases.js.map