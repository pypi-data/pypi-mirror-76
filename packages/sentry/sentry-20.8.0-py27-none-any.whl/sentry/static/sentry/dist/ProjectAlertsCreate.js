(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[143],{2004:function(e,t,n){"use strict";var r=n(5),i=n.n(r),c=n(15),o=n.n(c),a=n(9),s=n.n(a),l=n(10),u=n.n(l),f=n(11),p=n.n(f),b=n(12),O=n.n(b),g=n(6),d=n.n(g),j=n(1),y=n.n(j),h=n(1796),m=n(331),v=n(0);function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=d()(t);if(w()){var r=d()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O()(this,e)});function r(){var e;s()(this,r);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).onChange=function(e,t,n,r){t(e,r),n(e,r)},e}return u()(r,[{key:"render",value:function(){var e=this;return Object(v.f)(m.a,i()({},this.props,{field:function(t){var n=t.onChange,r=t.onBlur,i=t.value,c=t.disabled,a=t.orientInline,s=o()(t,["onChange","onBlur","value","disabled","orientInline"]);return Object(v.f)(h.a,{choices:s.choices,disabled:c,orientInline:a,value:""===i?null:i,label:s.label,onChange:function(t,i){return e.onChange(t,n,r,i)}})}}))}}]),r}(y.a.Component);x.displayName="RadioField",t.a=x},2834:function(e,t,n){"use strict";n.r(t);var r=n(5),i=n.n(r),c=n(9),o=n.n(c),a=n(10),s=n.n(a),l=n(11),u=n.n(l),f=n(12),p=n.n(f),b=n(6),O=n.n(b),g=n(1),d=n.n(g),j=n(3),y=n(33),h=n(16),m=n.n(h),v=n(15),w=n.n(v),x=n(1764),k=n(1599),C=n(2269),P=n(0);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=function(e){u()(r,e);var t,n=(t=r,function(){var e,n=O()(t);if(A()){var r=O()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p()(this,e)});function r(){var e;o()(this,r);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).handleSubmitSuccess=function(){var t=e.props,n=t.params,r=t.routes,i=t.router,c=t.location;i.push(Object(k.a)("",{params:n,routes:r,location:c,stepBack:-1}))},e}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.eventView,r=e.sessionId,c=w()(e,["project","eventView","sessionId"]),o=n?Object(x.e)(n):Object(x.c)();return Object(P.f)(C.a,i()({onSubmitSuccess:this.handleSubmitSuccess,rule:S({},o,{projects:[t.slug]}),sessionId:r},c))}}]),r}(d.a.Component);I.displayName="IncidentRulesCreate";var D,z=I,F=n(2270),E=n(1598),N=n(1588),T=n(631),q=n(1610),_=n(173),L=n(4),M=n(602),V=n(8),B=n(1761),K=n(637),W=n(24),J=Object(L.a)("ul",{target:"el5f2mj0",label:"List"})("list-style:none;padding:0;margin-bottom:",Object(V.a)(2),";ol&{counter-reset:numberedList;}"),U=Object(L.a)("span",{target:"el5f2mj1",label:"IconWrapper"})("display:flex;margin-right:",Object(V.a)(1),";height:16px;align-items:center;"),G=Object(L.a)((function(e){var t=e.icon,n=e.className,r=e.children;return Object(P.f)("li",{className:n},t&&Object(P.f)(U,null,t),r)}),{target:"el5f2mj2",label:"ListItem"})("display:flex;align-items:center;position:relative;padding-left:34px;margin-bottom:",Object(V.a)(.5),";&:before,& > ",U,"{position:absolute;left:0;}ul &{color:",W.a.gray700,";&:before{content:'';width:6px;height:6px;border-radius:50%;margin-right:",Object(V.a)(2),";border:1px solid ",W.a.gray700,";background-color:transparent;left:5px;top:10px;}",(function(e){return e.icon&&"\n      & > ".concat(U," {\n        top: 4px;\n      }\n\n      &:before {\n        content: none;\n      }\n    ")}),"}ol &{&:before{counter-increment:numberedList;content:counter(numberedList);top:3px;display:flex;align-items:center;justify-content:center;text-align:center;width:18px;height:18px;font-size:10px;font-weight:600;border:1px solid ",W.a.gray700,";border-radius:50%;background-color:transparent;margin-right:",Object(V.a)(2),";}}"),H=n(391),Q=n(39),X=n(277),Y=n(2004),Z=n(184),$=n(79),ee=n(35),te=n(1775);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e.Organization="organization",e.User="user"}(D||(D={}));var re=[{key:"IntegrationDirectoryCategoryExperiment",type:D.Organization,parameter:"variant",assignments:["0","1"]},{key:"TrialEndingNotice",type:D.Organization,parameter:"exposed",assignments:[0,1]},{key:"MetricAlertsTypeChooser",type:D.Organization,parameter:"variant",assignments:["boolean","flowChoice",-1]}].reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,m()({},t.key,t))}),{});function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var oe=function(e,t){var n,r,i=t.experiment,c=t.injectLogExperiment;return r=n=function(t){u()(a,t);var n,r=(n=a,function(){var e,t=O()(n);if(ce()){var r=O()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p()(this,e)});function a(){var e;o()(this,a);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).logExperiment=function(){return Object(y.b)({key:i,organization:e.getProps().organization})},e}return s()(a,[{key:"componentDidMount",value:function(){c||this.logExperiment()}},{key:"getProps",value:function(){return this.props}},{key:"render",value:function(){var t=e,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({experimentAssignment:this.experimentAssignment},c?{logExperiment:this.logExperiment}:{},{},this.props);return Object(P.f)(t,n)}},{key:"config",get:function(){return re[i]}},{key:"experimentAssignment",get:function(){var e=this.config.type;if(e===D.Organization){var t=i;return this.getProps().organization.experiments[t]}if(e===D.User){var n=i;return ee.default.get("user").experiments[n]}return-1}}]),a}(d.a.Component),n.displayName="withExperiment[".concat(i,"](").concat(Object(te.a)(e),")"),r};function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var se=function(e){var t=e.children;return Object(P.f)(Q.a,{title:Object(j.b)("A metric is the value of an aggregate function like count() or avg()\n       applied to your events over time")},Object(P.f)("abbr",null,t))};se.displayName="MetricsTooltip";var le=function(e){var t=e.children;return Object(P.f)(Q.a,{title:Object(j.b)("Sentry groups similar events into an Issue based on their stack trace\n       and other factors.")},Object(P.f)("abbr",null,t))};le.displayName="IssuesTooltip";var ue=function(e){var t=e.onChange,n=e.organization,r=e.selected,i=function(e){Object(y.e)({eventKey:"alert_chooser_cards.select",eventName:"Alert Chooser Cards: Select",organization_id:n.id,type:e}),t(e)};return Object(P.f)(ge,null,Object(P.f)(de,{interactive:!0,onClick:function(){return i("metric")}},Object(P.f)(pe,null,Object(P.f)(B.a,{"aria-label":"metric",checked:"metric"===r,onChange:function(){return i("metric")}}),Object(j.b)("Metric Alert"),Object(P.f)(H.a,{type:"beta"})),Object(P.f)(Z.a,{requireAll:!0,features:["organizations:performance-view"]},(function(e){return e.hasFeature?Object(P.f)(d.a.Fragment,null,Object(P.f)("p",null,Object(j.c)("Notifies you when a [tooltip:metric] exceeds a threshold.",{tooltip:Object(P.f)(se,null)})),!r&&Object(P.f)(d.a.Fragment,null,Object(P.f)(be,null,Object(j.b)("For Example:")),Object(P.f)(J,null,Object(P.f)(G,null,Object(j.b)("Performance metrics like latency and apdex")),Object(P.f)(G,null,Object(j.b)("Frequency of error events or users affected in the\n                       project"))))):Object(P.f)(d.a.Fragment,null,Object(P.f)("p",null,Object(j.c)("Notifies you when a [tooltip:metric] like frequency of events or users affected in\n                   the project exceeds a threshold.",{tooltip:Object(P.f)(se,null)})),!r&&Object(P.f)(d.a.Fragment,null,Object(P.f)(be,null,Object(j.b)("For Example:")),Object(P.f)(J,null,Object(P.f)(G,null,Object(j.b)("Total events in the project exceed 1000/minute")),Object(P.f)(G,null,Object(j.c)('Events with tag [code:database] and "API" in the title exceed 100/minute',{code:Object(P.f)("code",null)})))))}))),Object(P.f)(de,{interactive:!0,onClick:function(){return i("issue")}},Object(P.f)(pe,null,Object(P.f)(B.a,{"aria-label":"issue",checked:"issue"===r,onChange:function(){return i("issue")}}),Object(j.b)("Issue Alert")),Object(P.f)("p",null,Object(j.c)("Notifies you when individual [tooltip:Sentry Issues] trigger your\n           alerting criteria.",{tooltip:Object(P.f)(le,null)})),!r&&Object(P.f)(d.a.Fragment,null,Object(P.f)(be,null,Object(j.b)("For Example:")),Object(P.f)(J,null,Object(P.f)(G,null,Object(j.b)("New Issues or regressions")),Object(P.f)(G,null,Object(j.b)("Frequency of individual Issues exceeds 100/minute"))))))};ue.displayName="TypeChooserCards";var fe=function(e){u()(r,e);var t,n=(t=r,function(){var e,n=O()(t);if(ae()){var r=O()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p()(this,e)});function r(){var e;o()(this,r);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={},e.update=function(t){return e.setState(t,(function(){var t=e.state,n=t.type,r=t.granularity,i=e.props,c=i.organization,o=i.onChange,a="frequency"===n&&"project"===r,s="issues"===n||"frequency"===n&&"issue"===r;Object(y.e)({eventKey:"alert_chooser_flow.select",eventName:"Alert Chooser Flow: Select",organization_id:c.id,type:n,granularity:r}),o(a?"metric":s?"issue":null)}))},e}return s()(r,[{key:"render",value:function(){var e=this,t=this.state,n=t.type,r=t.granularity;return Object(P.f)(X.a,null,Object(P.f)(X.e,null,Object(j.b)("Alert details")),Object(P.f)(Y.a,{label:Object(j.b)("Alert type"),help:Object(j.c)("Remember that Sentry groups similar events into an Issue based on their stack trace and other factors. [learnMore:Learn more]",{learnMore:Object(P.f)($.a,{href:"https://docs.sentry.io/data-management/event-grouping/"})}),onChange:function(t){return e.update({type:t})},value:n,choices:[["frequency",Object(j.b)("Frequency of events or users affected increasing")],["issues",Object(j.b)("New issues and regressions")]]}),"frequency"===n&&Object(P.f)(Y.a,{label:Object(j.b)("Granularity"),help:Object(j.b)("Frequency thresholds can be set per Issue or for the entire project."),onChange:function(t){return e.update({granularity:t})},value:r,choices:[["project",Object(j.b)("Frequency of events in entire project"),Object(P.f)(d.a.Fragment,{key:"list"},Object(P.f)(Oe,null,Object(j.b)("Total events in the project exceed 1000/minute")),Object(P.f)(Oe,null,Object(j.b)("Events with tag `database` and API in the title exceed 100/minute")))],["issue",Object(j.b)("Frequency of individual Issues"),Object(P.f)(d.a.Fragment,{key:"list"},Object(P.f)(Oe,null,Object(j.b)("Any single Issue on the checkout page happens more than\n                       100 times in a minute.")))]]}))}}]),r}(d.a.Component);fe.displayName="TypeChooserFlow";var pe=Object(L.a)("label",{target:"ekdiyig0",label:"RadioLabel"})("cursor:pointer;margin-bottom:",Object(V.a)(3),";display:grid;grid-auto-flow:column;grid-auto-columns:max-content;align-items:center;grid-gap:",Object(V.a)(2),";"),be=Object(L.a)("div",{target:"ekdiyig1",label:"ExampleHeading"})("text-transform:uppercase;font-size:",(function(e){return e.theme.fontSizeSmall}),";font-weight:bold;color:",(function(e){return e.theme.gray600}),";margin-bottom:",Object(V.a)(2),";"),Oe=Object(L.a)("div",{target:"ekdiyig2",label:"Example"})("font-size:",(function(e){return e.theme.fontSizeSmall}),";color:",(function(e){return e.theme.gray500}),";"),ge=Object(L.a)("div",{target:"ekdiyig3",label:"Container"})("display:grid;grid-template-columns:1fr 1fr;grid-gap:",Object(V.a)(3),";"),de=Object(L.a)(M.a,{target:"ekdiyig4",label:"TypeCard"})("cursor:pointer;padding:",Object(V.a)(4),";margin-bottom:",Object(V.a)(3),";",K.a,";"),je=oe((function(e){var t=e.experimentAssignment,n=w()(e,["experimentAssignment"]);return"flowChoice"===t?Object(P.f)(fe,n):Object(P.f)(ue,n)}),{experiment:"MetricAlertsTypeChooser"});function ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var he=function(e){u()(r,e);var t,n=(t=r,function(){var e,n=O()(t);if(ye()){var r=O()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p()(this,e)});function r(){var e;o()(this,r);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={eventView:void 0,alertType:e.props.location.pathname.includes("/alerts/rules/")?"issue":e.props.location.pathname.includes("/alerts/metric-rules/")?"metric":null},e.sessionId=Object(_.a)(),e.handleChangeAlertType=function(t){e.setState({alertType:t})},e}return s()(r,[{key:"componentDidMount",value:function(){var e,t=this.props,n=t.organization,r=t.project,i=t.location;if(Object(y.e)({eventKey:"new_alert_rule.viewed",eventName:"New Alert Rule: Viewed",organization_id:n.id,project_id:r.id,session_id:this.sessionId}),null==i?void 0:null===(e=i.query)||void 0===e?void 0:e.createFromDiscover){var c=q.a.fromLocation(i);this.setState({alertType:"metric",eventView:c})}}},{key:"render",value:function(){var e=this.props,t=e.hasMetricAlerts,n=e.organization,r=this.props.params.projectId,c=this.state,o=c.alertType,a=c.eventView,s=t,l=Object(j.b)("New Alert");return Object(P.f)(d.a.Fragment,null,Object(P.f)(E.a,{title:l,objSlug:r}),Object(P.f)(N.a,{title:l}),s&&Object(P.f)(je,{organization:n,selected:o,onChange:this.handleChangeAlertType}),(!t||"issue"===o)&&Object(P.f)(F.a,this.props),t&&"metric"===o&&Object(P.f)(z,i()({},this.props,{eventView:a,sessionId:this.sessionId})))}}]),r}(d.a.Component);he.displayName="Create";t.default=Object(T.a)(he)}}]);
//# sourceMappingURL=ProjectAlertsCreate.js.map