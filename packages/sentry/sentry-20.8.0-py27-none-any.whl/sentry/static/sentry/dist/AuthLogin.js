(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[65],{1615:function(e,t,r){"use strict";var n=r(5),a=r.n(n),o=r(15),i=r.n(o),s=(r(1),r(46)),c=r.n(s),u=r(0);function l(e){var t=e.underlined,r=e.className,n=i()(e,["underlined","className"]),o=c()("nav nav-tabs",r,{"border-bottom":t});return Object(u.f)("ul",a()({className:o},n))}l.displayName="NavTabs",t.a=l},2844:function(e,t,r){"use strict";r.r(t),r.d(t,"formFooterClass",(function(){return Oe}));var n=r(41),a=r.n(n),o=r(21),i=r.n(o),s=r(16),c=r.n(s),u=r(15),l=r.n(u),f=r(26),b=r.n(f),p=r(9),h=r.n(p),g=r(10),d=r.n(g),m=r(11),v=r.n(m),O=r(12),y=r.n(O),j=r(6),x=r.n(j),S=r(4),k=r(1),L=r.n(k),w=r(3),P=r(183),N=r(50),_=r(1615),R=r(8),D=r(56),C=r(75),J=r.n(C),M=r(0),A=r(7),z=r(29),q=r(35),T=r(178),F=r(101),H=r(400),E=r(17),W=r(389);function I(){var e=J()(["\n                ","\n              "]);return I=function(){return e},e}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var B=function(e){var t=e.vstsLoginLink,r=e.githubLoginLink,n=e.googleLoginLink;return Object(M.f)(Q,null,Object(M.f)(K,null,Object(w.b)("External Account Login")),n&&Object(M.f)(z.a,{align:"left",size:"small",icon:Object(M.f)(E.G,{size:"xs"}),href:n},Object(w.b)("Sign in with Google")),r&&Object(M.f)(z.a,{align:"left",size:"small",icon:Object(M.f)(E.E,{size:"xs"}),href:r},Object(w.b)("Sign in with GitHub")),t&&Object(M.f)(z.a,{align:"left",size:"small",icon:Object(M.f)(E.Ib,{size:"xs"}),href:t},Object(w.b)("Sign in with Azure DevOps")))};B.displayName="LoginProviders";var G=function(e){v()(n,e);var t,r=(t=n,function(){var e,r=x()(t);if(U()){var n=x()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return y()(this,e)});function n(){var e;h()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={errorMessage:null,errors:{}},e.handleSubmit=function(){var t=b()(i.a.mark((function t(r,n,a){var o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.api.requestPromise("/auth/login/",{method:"POST",data:r});case 3:o=t.sent,n(r),q.default.set("user",o.user),A.browserHistory.push({pathname:o.nextUri}),t.next=18;break;case 9:if(t.prev=9,t.t0=t.catch(0),t.t0.responseJSON&&t.t0.responseJSON.errors){t.next=14;break}return a(t.t0),t.abrupt("return");case 14:s=t.t0.responseJSON.detail,t.t0.responseJSON.errors.__all__&&(s=t.t0.responseJSON.errors.__all__),e.setState({errorMessage:s,errors:t.t0.responseJSON.errors||{}}),a(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r,n){return t.apply(this,arguments)}}(),e}return d()(n,[{key:"render",value:function(){var e=this,t=this.state,r=t.errorMessage,n=t.errors,a=this.props.authConfig,o=a.githubLoginLink,i=a.vstsLoginLink,s=o||i;return Object(M.f)(M.b,null,(function(t){var a=t.css;return Object(M.f)(Y,{hasLoginProvider:s},Object(M.f)(T.default,{submitLabel:Object(w.b)("Continue"),onSubmit:e.handleSubmit,footerClass:a(I(),Oe),errorMessage:r,extraButton:Object(M.f)(V,{to:"/account/recover/"},Object(w.b)("Lost your password?"))},Object(M.f)(W.a,{name:"username",placeholder:Object(w.b)("username or email"),label:Object(w.b)("Account"),error:n.username,required:!0}),Object(M.f)(H.a,{name:"password",placeholder:Object(w.b)("password"),label:Object(w.b)("Password"),error:n.password,required:!0})),s&&Object(M.f)(B,{vstsLoginLink:i,githubLoginLink:o}))}))}}]),n}(L.a.Component);G.displayName="LoginForm";var Y=Object(S.a)("div",{target:"ehxu6rp0",label:"FormWrapper"})("display:grid;grid-gap:60px;grid-template-columns:",(function(e){return e.hasLoginProvider?"1fr 0.8fr":"1fr"}),";"),K=Object(S.a)("div",{target:"ehxu6rp1",label:"ProviderHeading"})({name:"ihix69",styles:"margin:0;font-size:15px;font-weight:bold;line-height:24px;"}),Q=Object(S.a)("div",{target:"ehxu6rp2",label:"ProviderWrapper"})("position:relative;display:grid;grid-auto-rows:max-content;grid-gap:",Object(R.a)(1.5),";&:before{position:absolute;display:block;content:'';top:0;bottom:0;left:-30px;border-left:1px solid ",(function(e){return e.theme.borderLight}),";}"),V=Object(S.a)(F.a,{target:"ehxu6rp3",label:"LostPasswordLink"})("color:",(function(e){return e.theme.gray500}),";&:hover{color:",(function(e){return e.theme.gray800}),";}"),X=G,Z=r(79),$=r(675);function ee(){var e=J()(["\n              ","\n            "]);return ee=function(){return e},e}function te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var re=function(){return Object(M.f)($.a,{name:"subscribe",yesLabel:Object(w.b)("Yes, I would like to receive updates via email"),noLabel:Object(w.b)("No, I'd prefer not to receive these updates"),help:Object(w.c)("We'd love to keep you updated via email with product and feature\n           announcements, promotions, educational materials, and events. Our\n           updates focus on relevant information, and we'll never sell your data\n           to third parties. See our [link] for more details.",{link:Object(M.f)("a",{href:"https://sentry.io/privacy/"},"Privacy Policy")})})};re.displayName="SubscribeField";var ne=function(e){v()(n,e);var t,r=(t=n,function(){var e,r=x()(t);if(te()){var n=x()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return y()(this,e)});function n(){var e;h()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={errorMessage:null,errors:{}},e.handleSubmit=function(){var t=b()(i.a.mark((function t(r,n,a){var o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props.api,t.prev=1,t.next=4,o.requestPromise("/auth/register/",{method:"POST",data:r});case 4:s=t.sent,n(r),q.default.set("user",s.user),A.browserHistory.push({pathname:s.nextUri}),t.next=19;break;case 10:if(t.prev=10,t.t0=t.catch(1),t.t0.responseJSON&&t.t0.responseJSON.errors){t.next=15;break}return a(t.t0),t.abrupt("return");case 15:c=t.t0.responseJSON.detail,t.t0.responseJSON.errors.__all__&&(c=t.t0.responseJSON.errors.__all__),e.setState({errorMessage:c,errors:t.t0.responseJSON.errors||{}}),a(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r,n){return t.apply(this,arguments)}}(),e}return d()(n,[{key:"render",value:function(){var e=this,t=this.props.authConfig.hasNewsletter,r=this.state,n=r.errorMessage,a=r.errors;return Object(M.f)(M.b,null,(function(r){var o=r.css;return Object(M.f)(T.default,{initialData:{subscribe:!0},submitLabel:Object(w.b)("Continue"),onSubmit:e.handleSubmit,footerClass:o(ee(),Oe),errorMessage:n,extraButton:Object(M.f)(ae,{href:"https://sentry.io/privacy/"},Object(w.b)("Privacy Policy"))},Object(M.f)(W.a,{name:"name",placeholder:Object(w.b)("Jane Bloggs"),maxlength:30,label:Object(w.b)("Name"),error:a.name,required:!0}),Object(M.f)(W.a,{name:"username",placeholder:Object(w.b)("you@example.com"),maxlength:128,label:Object(w.b)("Email"),error:a.username,required:!0}),Object(M.f)(H.a,{name:"password",placeholder:Object(w.b)("something super secret"),label:Object(w.b)("Password"),error:a.password,required:!0}),t&&Object(M.f)(re,null))}))}}]),n}(L.a.Component);ne.displayName="RegisterForm";var ae=Object(S.a)(Z.a,{target:"e8jhup10",label:"PrivacyPolicyLink"})("color:",(function(e){return e.theme.gray500}),";&:hover{color:",(function(e){return e.theme.gray800}),";}"),oe=ne;function ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var se=function(e){return Object(M.f)("code",null,e.hostname,"/",Object(M.f)("strong",null,e.slug))};se.displayName="SlugExample";var ce=function(e){v()(n,e);var t,r=(t=n,function(){var e,r=x()(t);if(ie()){var n=x()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return y()(this,e)});function n(){var e;h()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={errorMessage:null},e.handleSubmit=function(){var t=b()(i.a.mark((function t(r,n,a){var o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props.api,t.prev=1,t.next=4,o.requestPromise("/auth/sso-locate/",{method:"POST",data:r});case 4:s=t.sent,n(r),A.browserHistory.push({pathname:s.nextUri}),t.next=17;break;case 9:if(t.prev=9,t.t0=t.catch(1),t.t0.responseJSON){t.next=14;break}return a(t.t0),t.abrupt("return");case 14:c=t.t0.responseJSON.detail,e.setState({errorMessage:c}),a(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r,n){return t.apply(this,arguments)}}(),e}return d()(n,[{key:"render",value:function(){var e=this.props.authConfig.serverHostname,t=this.state.errorMessage;return Object(M.f)(T.default,{className:"form-stacked",submitLabel:Object(w.b)("Continue"),onSubmit:this.handleSubmit,footerClass:"auth-footer",errorMessage:t},Object(M.f)(W.a,{name:"organization",placeholder:"acme",label:Object(w.b)("Organization ID"),required:!0,help:Object(w.c)("Your ID is the slug after the hostname. e.g. [example] is [slug].",{slug:Object(M.f)("strong",null,"acme"),example:Object(M.f)(se,{slug:"acme",hostname:e})})}))}}]),n}(L.a.Component);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}ce.displayName="SsoForm";var be={login:X,register:oe,sso:ce},pe=function(e){v()(n,e);var t,r=(t=n,function(){var e,r=x()(t);if(fe()){var n=x()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return y()(this,e)});function n(){var e;h()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={loading:!0,error:null,activeTab:"login",authConfig:{}},e.handleSetTab=function(t,r){e.setState({activeTab:t}),r.preventDefault()},e.fetchData=b()(i.a.mark((function t(){var r,n,a,o,s,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.api,t.prev=1,t.next=4,r.requestPromise("/auth/config/");case 4:n=t.sent,a=n.vsts_login_link,o=n.github_login_link,s=n.google_login_link,c=l()(n,["vsts_login_link","github_login_link","google_login_link"]),u=le({},c,{vstsLoginLink:a,githubLoginLink:o,googleLoginLink:s}),e.setState({authConfig:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.setState({error:!0});case 13:e.setState({loading:!1});case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),e}return d()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,t=this.props.api,r=this.state,n=r.loading,o=r.error,i=r.activeTab,s=r.authConfig,c=be[i],u=[["login",Object(w.b)("Login")],["sso",Object(w.b)("Single Sign-On")],["register",Object(w.b)("Register"),!s.canRegister]];return Object(M.f)(L.a.Fragment,null,Object(M.f)(ge,null,Object(M.f)(de,null,Object(w.b)("Sign in to continue")),Object(M.f)(me,null,u.map((function(t){var r=a()(t,3),n=r[0],o=r[1];return!r[2]&&Object(M.f)("li",{key:n,className:i===n?"active":""},Object(M.f)("a",{href:"#",onClick:function(t){return e.handleSetTab(n,t)}},o))})))),n&&Object(M.f)(N.default,null),o&&Object(M.f)(he,{message:Object(w.b)("Unable to load authentication configuration"),onRetry:this.fetchData}),!n&&!o&&Object(M.f)(ve,{hasAuthProviders:this.hasAuthProviders},Object(M.f)(c,{api:t,authConfig:s})))}},{key:"hasAuthProviders",get:function(){var e=this.state.authConfig,t=e.githubLoginLink,r=e.googleLoginLink,n=e.vstsLoginLink;return t||n||r}}]),n}(L.a.Component);pe.displayName="Login";var he=Object(S.a)(P.a,{target:"et0mrty0",label:"StyledLoadingError"})("margin:",Object(R.a)(2),";"),ge=Object(S.a)("div",{target:"et0mrty1",label:"Header"})("border-bottom:1px solid ",(function(e){return e.theme.borderLight}),";padding:20px 40px 0;"),de=Object(S.a)("h3",{target:"et0mrty2",label:"Heading"})({name:"15am9v5",styles:"font-size:24px;margin:0 0 20px 0;"}),me=Object(S.a)(_.a,{target:"et0mrty3",label:"AuthNavTabs"})({name:"1uk1gs8",styles:"margin:0;"}),ve=Object(S.a)("div",{target:"et0mrty4",label:"FormWrapper"})("padding:35px;width:",(function(e){return e.hasAuthProviders?"600px":"490px"}),";"),Oe="\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  grid-gap: ".concat(Object(R.a)(1),";\n  align-items: center;\n  justify-items: end;\n  border-top: none;\n  margin-bottom: 0;\n  padding: 0;\n");t.default=Object(D.a)(pe)}}]);
//# sourceMappingURL=AuthLogin.js.map