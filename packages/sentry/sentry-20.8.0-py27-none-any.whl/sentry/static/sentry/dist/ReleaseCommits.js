(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[183],{1710:function(t,e,n){"use strict";var r=n(5),i=n.n(r),o=n(15),c=n.n(o),a=n(9),s=n.n(a),l=n(10),u=n.n(l),m=n(11),f=n.n(m),b=n(12),d=n.n(b),p=n(6),v=n.n(p),h=n(4),g=n(1),j=n.n(g),O=n(105),y=n(277),R=n(3),k=n(186),w=n(1722),x=n(332),C=n(17),I=n(101),U=n(248),z=n(249),A=n(8),S=n(0);function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var N=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=v()(e);if(L()){var r=v()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d()(this,t)});function r(){return s()(this,r),n.apply(this,arguments)}return u()(r,[{key:"renderMessage",value:function(t){return t?t.split(/\n/)[0]:Object(R.b)("No message provided")}},{key:"renderHovercardBody",value:function(t){return Object(S.f)(E,null,Object(R.c)("The email [actorEmail] is not a member of your organization. [inviteUser:Invite] them or link additional emails in [accountSettings:account settings].",{actorEmail:Object(S.f)("strong",null,t.email),accountSettings:Object(S.f)(M,{to:"/settings/account/emails/"}),inviteUser:Object(S.f)(M,{to:"",onClick:function(){return Object(O.h)({initialData:[{emails:new Set([t.email])}],source:"suspect_commit"})}})}))}},{key:"render",value:function(){var t=this.props,e=t.commit,n=t.customAvatar,r=c()(t,["commit","customAvatar"]),o=e.id,a=e.dateCreated,s=e.message,l=e.author,u=e.repository,m=l&&void 0===l.id;return Object(S.f)(y.f,i()({key:o},r),n||(m?Object(S.f)(D,null,Object(S.f)(x.b,{body:this.renderHovercardBody(l)},Object(S.f)(k.a,{size:36,user:l}),Object(S.f)(B,null))):Object(S.f)(D,null,Object(S.f)(k.a,{size:36,user:l}))),Object(S.f)(P,null,Object(S.f)(W,null,this.renderMessage(s)),Object(S.f)(F,null,Object(R.c)("[author] committed [timeago]",{author:Object(S.f)("strong",null,l&&l.name||Object(R.b)("Unknown author")),timeago:Object(S.f)(z.a,{date:a})}))),Object(S.f)("div",null,Object(S.f)(w.a,{commitId:o,repository:u})))}}]),r}(j.a.Component);N.displayName="CommitRow";var D=Object(h.a)("div",{target:"eyce8w20",label:"AvatarWrapper"})("align-self:flex-start;margin-right:",Object(A.a)(2),";"),E=Object(h.a)("div",{target:"eyce8w21",label:"EmailWarning"})("font-size:",(function(t){return t.theme.fontSizeSmall}),";line-height:1.4;margin:-4px;"),M=Object(h.a)(I.a,{target:"eyce8w22",label:"StyledLink"})("color:",(function(t){return t.theme.textColor}),";border-bottom:1px dotted ",(function(t){return t.theme.textColor}),";&:hover{color:",(function(t){return t.theme.textColor}),";}"),B=Object(h.a)(C.C,{target:"eyce8w23",label:"EmailWarningIcon"})("position:relative;margin-left:-11px;border-radius:11px;margin-bottom:-25px;border:1px solid ",(function(t){return t.theme.white}),";background:",(function(t){return t.theme.yellow300}),";"),P=Object(h.a)("div",{target:"eyce8w24",label:"CommitMessage"})("flex:1;flex-direction:column;min-width:0;margin-right:",Object(A.a)(2),";"),W=Object(h.a)(U.b,{target:"eyce8w25",label:"Message"})({name:"fg198c",styles:"font-size:15px;line-height:1.1;font-weight:bold;"}),F=Object(h.a)(U.b,{target:"eyce8w26",label:"Meta"})("font-size:13px;line-height:1.5;margin:0;color:",(function(t){return t.theme.gray600}),";");e.a=Object(h.a)(N,{target:"eyce8w27"})({name:"zcxndt",styles:"align-items:center;"})},1722:function(t,e,n){"use strict";n(1);var r=n(3),i=n(25),o=n(29),c=n(17),a=n(79),s=n(0),l=[{icon:Object(s.f)(c.E,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(t){var e=t.baseUrl,n=t.commitId;return"".concat(e,"/commit/").concat(n)}},{icon:Object(s.f)(c.e,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(t){var e=t.baseUrl,n=t.commitId;return"".concat(e,"/commits/").concat(n)}},{icon:Object(s.f)(c.Ib,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:function(t){var e=t.baseUrl,n=t.commitId;return"".concat(e,"/commit/").concat(n)}},{icon:Object(s.f)(c.F,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:function(t){var e=t.baseUrl,n=t.commitId;return"".concat(e,"/commit/").concat(n)}}];e.a=function(t){var e=t.inline,n=t.commitId,c=t.repository;if(!n||!c)return Object(s.f)("span",null,Object(r.b)("Unknown Commit"));var u=Object(i.l)(n),m=l.find((function(t){return!!c.provider&&t.providerIds.includes(c.provider.id)}));if(void 0===m)return Object(s.f)("span",null,u);var f=c.url&&m.commitUrl({commitId:n,baseUrl:c.url});return e?Object(s.f)(a.a,{className:"inline-commit",href:f},m.icon," "+u):Object(s.f)(o.a,{external:!0,href:f,size:"small",icon:m.icon},u)}},2781:function(t,e,n){"use strict";n.r(e),n.d(e,"ReleaseCommits",(function(){return z}));var r=n(9),i=n.n(r),o=n(10),c=n.n(o),a=n(11),s=n.n(a),l=n(12),u=n.n(l),m=n(6),f=n.n(m),b=n(182),d=n.n(b),p=n(1),v=n.n(p),h=n(277),g=n(74),j=n(3),O=n(56),y=n(1710),R=n(150),k=n(378),w=n(183),x=n(50),C=n(73),I=n(0);function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var z=function(t){s()(r,t);var e,n=(e=r,function(){var t,n=f()(e);if(U()){var r=f()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u()(this,t)});function r(){var t;i()(this,r);for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))).state={loading:!0,error:!1,commitList:[],activeRepo:null},t}return c()(r,[{key:"componentDidMount",value:function(){var t=this;this.props.api.request(this.getPath(),{method:"GET",data:d()(this.props.location.query,Object.values(g.e)),success:function(e,n,r){t.setState({error:!1,loading:!1,commitList:e,pageLinks:r.getResponseHeader("Link")})},error:function(){t.setState({error:!0,loading:!1})}})}},{key:"getPath",value:function(){var t=this.props.params,e=t.orgId,n=t.projectId,r=t.release,i=encodeURIComponent(r);return n?"/projects/".concat(e,"/").concat(n,"/releases/").concat(i,"/commits/"):"/organizations/".concat(e,"/releases/").concat(i,"/commits/")}},{key:"emptyState",value:function(){return Object(I.f)(h.a,null,Object(I.f)(k.a,null,Object(I.f)("p",null,Object(j.b)("There are no commits associated with this release."))))}},{key:"setActiveRepo",value:function(t){this.setState({activeRepo:t})}},{key:"getCommitsByRepository",value:function(){return this.state.commitList.reduce((function(t,e){var n=e.repository;return t.hasOwnProperty(n.name)||(t[n.name]=[]),t[n.name].push(e),t}),{})}},{key:"renderCommitsForRepo",value:function(t){var e=this.getCommitsByRepository()[t];return Object(I.f)(h.a,{key:t},Object(I.f)(h.e,null,t),Object(I.f)(h.c,null,e.map((function(t){return Object(I.f)(y.a,{key:t.id,commit:t})}))))}},{key:"render",value:function(){var t=this;if(this.state.loading)return Object(I.f)(x.default,null);if(this.state.error)return Object(I.f)(w.a,null);var e=this.state,n=e.commitList,r=e.activeRepo;if(!n.length)return this.emptyState();var i=this.getCommitsByRepository();return Object(I.f)("div",null,Object(I.f)("div",{className:"heading"},Object.keys(i).length>1?Object(I.f)("div",{className:"commits-dropdown align-left"},Object(I.f)("div",{className:"commits-dropdowng"},Object(I.f)(R.a,{caret:!0,title:this.state.activeRepo||"All Repositories"},Object(I.f)(C.a,{key:"all",noAnchor:!0,onClick:function(){t.setActiveRepo(null)},isActive:null===this.state.activeRepo},Object(I.f)("a",null,Object(j.b)("All Repositories"))),Object.keys(i).map((function(e){return Object(I.f)(C.a,{key:i[e].id,noAnchor:!0,onClick:function(){t.setActiveRepo(e)},isActive:t.state.activeRepo===e},Object(I.f)("a",null,e))}))))):null),r?this.renderCommitsForRepo(r):Object.keys(i).map((function(e){return t.renderCommitsForRepo(e)})))}}]),r}(v.a.Component);z.displayName="ReleaseCommits",e.default=Object(O.a)(z)}}]);
//# sourceMappingURL=ReleaseCommits.js.map