(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[114],{1598:function(e,t,n){"use strict";n(1);var a=n(278),r=n.n(a),i=n(0),o=function(e){var t="".concat(e.title," - ").concat(e.objSlug," - Sentry");return Object(i.f)(r.a,{title:t},e.children)};o.displayName="SentryDocumentTitle",t.a=o},1694:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(15),o=n.n(i),c=n(9),s=n.n(c),l=n(10),u=n.n(l),b=n(11),f=n.n(b),d=n(12),p=n.n(d),h=n(6),v=n.n(h),m=n(1),g=n.n(m),O=n(46),j=n.n(O),y=n(279),w=n(0);function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var z=function(e){f()(a,e);var t,n=(t=a,function(){var e,n=v()(t);if(R()){var a=v()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return p()(this,e)});function a(){return s()(this,a),n.apply(this,arguments)}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,a=e.title,i=e.children,c=o()(e,["className","disabled","title","children"]);return Object(w.f)(y.a,r()({},c,{disabled:n}),Object(w.f)("a",{href:"#",className:j()(t||"",{disabled:n}),title:a},i))}}]),a}(g.a.PureComponent);z.displayName="LinkWithConfirmation",t.a=z},1744:function(e,t,n){"use strict";function a(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,"a",(function(){return a}))},1828:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(15),o=n.n(i),c=(n(1),n(3)),s=n(377),l=n(80),u=n(17),b=n(0),f=function(e){var t=e.access,n=void 0===t?["org:write"]:t,a=o()(e,["access"]);return Object(b.f)(s.a,{access:n},(function(e){return!e.hasAccess&&Object(b.f)(l.b,r()({type:"warning",icon:Object(b.f)(u.Jb,{size:"sm"})},a),Object(c.b)("These settings can only be edited by users with the organization owner or manager role."))}))};f.displayName="PermissionAlert",t.a=f},2864:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),i=n(9),o=n.n(i),c=n(10),s=n.n(c),l=n(11),u=n.n(l),b=n(12),f=n.n(b),d=n(6),p=n.n(d),h=n(7),v=n(1),m=n.n(v),g=n(277),O=n(31),j=n(392),y=n(3),w=n(626),R=n(1694),z=n(1828),S=n(1598),D=n(1588),A=n(620),P=n(56),N=n(78),M=n(1587),E=n(2273),q=n(1603),T=n(1612),k=n(1744),G=[{title:Object(y.b)("General"),fields:[{name:"slug",type:"string",required:!0,label:Object(y.b)("Name"),help:Object(y.b)("A unique ID used to identify this organization"),transformInput:k.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(y.b)("You will be redirected to the new organization slug after saving")},{name:"name",type:"string",required:!0,label:Object(y.b)("Display Name"),help:Object(y.b)("This is the name that users will see for the organization")},{name:"isEarlyAdopter",type:"boolean",label:Object(y.b)("Early Adopter"),help:Object(y.b)("Opt-in to new features before they're released to the public")}]},{title:"Membership",fields:[{name:"defaultRole",type:"array",required:!0,label:Object(y.b)("Default Role"),choices:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.initialData;return null!==(e=null==a?void 0:null===(t=a.availableRoles)||void 0===t?void 0:t.map((function(e){return[e.id,e.name]})))&&void 0!==e?e:[]},help:Object(y.b)("The default role new members will receive"),disabled:function(e){return!e.access.has("org:admin")}},{name:"openMembership",type:"boolean",required:!0,label:Object(y.b)("Open Membership"),help:Object(y.b)("Allow organization members to freely join or leave any team")},{name:"eventsMemberAdmin",type:"boolean",label:Object(y.b)("Grant Members Events Admin"),help:Object(y.b)("Allow members to delete events (including the delete & discard action) by granting them the `event:admin` scope.")},{name:"attachmentsRole",type:"array",choices:function(e){var t,n,a=e.initialData,r=void 0===a?{}:a;return null!==(t=null==r?void 0:null===(n=r.availableRoles)||void 0===n?void 0:n.map((function(e){return[e.id,e.name]})))&&void 0!==t?t:[]},label:Object(y.b)("Attachments Access"),help:Object(y.b)("Permissions required to download event attachments, such as native crash reports or log files."),visible:function(e){return e.features.has("event-attachments")}}]}],C=n(101),I=n(618),x=n(0);function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var J=function(e){u()(a,e);var t,n=(t=a,function(){var e,n=p()(t);if(F()){var a=p()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)});function a(){return o()(this,a),n.apply(this,arguments)}return s()(a,[{key:"getEndpoints",value:function(){var e=this.props.organization;return[["authProvider","/organizations/".concat(e.slug,"/auth-provider/")]]}},{key:"render",value:function(){var e=this.props,t=e.initialData,n=e.organization,a=e.onSave,i=e.access,o=this.state.authProvider,c="/organizations/".concat(n.slug,"/"),s={additionalFieldProps:{hasSsoEnabled:!!o},features:new Set(n.features),access:i,location:this.props.location,disabled:!i.has("org:write")};return Object(x.f)(q.a,{"data-test-id":"organization-settings",apiMethod:"PUT",apiEndpoint:c,saveOnBlur:!0,allowUndo:!0,initialData:t,onSubmitSuccess:function(e,n){"function"==typeof a&&a(t,n.initialData)},onSubmitError:function(){return Object(O.a)("Unable to save change")}},Object(x.f)(T.a,r()({},s,{forms:G})),Object(x.f)(g.a,null,Object(x.f)(g.e,null,Object(y.b)("Security & Privacy")),Object(x.f)(I.a,{title:Object(y.b)("Security & Privacy has moved"),description:Object(x.f)(C.a,{to:"/settings/".concat(n.slug,"/security-and-privacy/")},Object(y.b)("Go to Security & Privacy"))})),Object(x.f)(E.a,{type:"organization",allowGravatar:!1,endpoint:"".concat(c,"avatar/"),model:t,onSave:j.h,disabled:!i.has("org:write")}))}}]),a}(M.a);J.displayName="OrganizationSettingsForm";var U=Object(N.a)(J);function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var B=function(e){u()(a,e);var t,n=(t=a,function(){var e,n=p()(t);if(W()){var a=p()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)});function a(){var e;o()(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).handleRemoveOrganization=function(){var t=e.props,n=t.api,a=t.organization,r=t.params;a&&(Object(O.b)(),Object(j.e)(n,{orgId:r.orgId,successMessage:"".concat(a.name," is queued for deletion."),errorMessage:"Error removing the ".concat(a.name," organization")}))},e.handleSave=function(e,t){t.slug&&t.slug!==e.slug?(Object(j.a)(e,t),h.browserHistory.replace("/settings/".concat(t.slug,"/"))):Object(j.h)(t)},e}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.params.orgId,a=new Set(t.access),i=t.projects&&!!t.projects.length;return Object(x.f)(m.a.Fragment,null,Object(x.f)(S.a,{title:Object(y.b)("General Settings"),objSlug:n}),Object(x.f)("div",null,Object(x.f)(D.a,{title:Object(y.b)("Organization Settings")}),Object(x.f)(z.a,null),Object(x.f)(U,r()({},this.props,{initialData:t,access:a,onSave:this.handleSave})),a.has("org:admin")&&!t.isDefault&&Object(x.f)(g.a,null,Object(x.f)(g.e,null,Object(y.b)("Remove Organization")),Object(x.f)(w.a,{label:Object(y.b)("Remove Organization"),help:Object(y.b)("Removing this organization will delete all data including projects and their associated events.")},Object(x.f)("div",null,Object(x.f)(R.a,{className:"btn btn-danger",priority:"danger",title:Object(y.b)("Remove %s organization",t&&t.name),message:Object(x.f)("div",null,Object(x.f)(A.a,null,Object(y.c)("Removing the organization, [name] is permanent and cannot be undone! Are you sure you want to continue?",{name:t&&Object(x.f)("strong",null,t.name)})),i&&Object(x.f)("div",null,Object(x.f)(A.a,{noMargin:!0},Object(y.b)("This will also remove the following associated projects:")),Object(x.f)("ul",{className:"ref-projects"},t.projects.map((function(e){return Object(x.f)("li",{key:e.slug},e.slug)}))))),onConfirm:this.handleRemoveOrganization},Object(y.b)("Remove Organization")))))))}}]),a}(m.a.Component);B.displayName="OrganizationGeneralSettings";t.default=Object(P.a)(Object(N.a)(B))}}]);
//# sourceMappingURL=OrganizationGeneralSettings.js.map