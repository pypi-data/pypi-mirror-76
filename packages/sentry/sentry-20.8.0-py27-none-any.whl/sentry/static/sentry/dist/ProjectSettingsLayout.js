(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[171],{1688:function(t,e,n){"use strict";var r=n(15),a=n.n(r),o=n(4),i=n(2),c=n.n(i),s=(n(1),n(8)),u=n(24),l=n(0),p={new:u.a.red400,strong:u.a.blue400,highlight:u.a.green400},d=Object(o.a)((function(t){t.priority;var e=t.text,n=a()(t,["priority","text"]);return Object(l.f)("span",n,e)}),{target:"eee69uk0",label:"Badge"})("display:inline-block;height:20px;min-width:20px;line-height:20px;border-radius:20px;padding:0 5px;margin-left:",Object(s.a)(.5),";font-size:75%;font-weight:600;text-align:center;color:#fff;background:",(function(t){return t.priority?p[t.priority]:u.a.gray400}),";transition:background 100ms linear;position:relative;top:-1px;");d.propTypes={text:c.a.oneOfType([c.a.string,c.a.number]),priority:c.a.oneOf(["strong","new","highlight"])},e.a=d},1730:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"e",(function(){return b}));var r=n(133),a=n(3),o=n(31),i=n(173),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if("function"==typeof t[e]){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t[e].apply(t,r)}};function s(t,e,n){return r.a.fetchDetails(e.teamId),t.request("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{success:function(t){r.a.fetchDetailsSuccess(e.teamId,t),c(n,"success",t)},error:function(t){r.a.fetchDetailsError(e.teamId,t),c(n,"error",t)}})}function u(t,e){r.a.updateSuccess(t,e)}function l(t,e,n){var a="/teams/".concat(e.orgId,"/").concat(e.teamId,"/");return r.a.update(e.teamId,e.data),t.request(a,{method:"PUT",data:e.data,success:function(t){u(e.teamId,t),c(n,"success",t)},error:function(t){r.a.updateError(e.teamId,t),c(n,"error",t)}})}function p(t,e,n){var a="/organizations/".concat(e.orgId,"/members/").concat(e.memberId||"me","/teams/").concat(e.teamId,"/"),o=Object(i.a)();return r.a.update(o,e.teamId),t.request(a,{method:"POST",data:e.data,success:function(t){r.a.updateSuccess(e.teamId,t),c(n,"success",t)},error:function(t){r.a.updateError(o,e.teamId,t),c(n,"error",t)}})}function d(t,e,n){var a="/organizations/".concat(e.orgId,"/members/").concat(e.memberId||"me","/teams/").concat(e.teamId,"/"),o=Object(i.a)();return r.a.update(o,e.teamId),t.request(a,{method:"DELETE",success:function(t){r.a.updateSuccess(e.teamId,t),c(n,"success",t)},error:function(t){r.a.updateError(o,e.teamId,t),c(n,"error",t)}})}function f(t,e,n){return r.a.createTeam(e),t.requestPromise("/organizations/".concat(n.orgId,"/teams/"),{method:"POST",data:e}).then((function(t){return r.a.createTeamSuccess(t),Object(o.d)(Object(a.c)("[team] has been added to the [organization] organization",{team:"#".concat(t.slug),organization:n.orgId})),t}),(function(t){throw r.a.createTeamError(e.slug||e.name,t),Object(o.a)(Object(a.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(e.slug||e.name),organization:n.orgId})),t}))}function b(t,e){return r.a.removeTeam(e.teamId),t.requestPromise("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{method:"DELETE"}).then((function(t){return r.a.removeTeamSuccess(e.teamId,t),Object(o.d)(Object(a.c)("[team] has been removed from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}),(function(t){throw r.a.removeTeamError(e.teamId,t),Object(o.a)(Object(a.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}))}},1762:function(t,e,n){"use strict";var r=n(4),a=n(2),o=n.n(a),i=Object(r.a)("div",{target:"ed8v6mn0",label:"Well"})("border:1px solid ",(function(t){return t.theme.borderLight}),";box-shadow:none;background:",(function(t){return t.theme.gray100}),";padding:",(function(t){return t.hasImage?"80px 30px":"15px 20px"}),";margin-bottom:20px;border-radius:3px;",(function(t){return t.centered&&"text-align: center"}),";");i.propTypes={hasImage:o.a.bool,centered:o.a.bool},e.a=i},1953:function(t,e,n){"use strict";var r=n(5),a=n.n(r),o=n(15),i=n.n(o),c=n(9),s=n.n(c),u=n(10),l=n.n(u),p=n(11),d=n.n(p),f=n(12),b=n.n(f),m=n(6),g=n.n(m),h=n(4),j=n(1),O=n.n(j),y=n(43),v=n(8),x=n(16),I=n.n(x),w=n(7),k=n(1688),S=n(251),T=n(391),P=n(0),z=function(t){var e=t.badge,n=t.label,r=t.index,o=t.id,c=i()(t,["badge","label","index","id"]),s=Object(S.a)({hookName:"sidebar:item-label",defaultComponent:function(t){var e=t.children;return Object(P.f)(O.a.Fragment,null,e)}}),u="new"===e?Object(P.f)(T.a,{type:"new"}):Object(P.f)(k.a,{text:e});return Object(P.f)(N,a()({onlyActiveOnIndex:r,activeClassName:"active"},c),Object(P.f)(s,{id:o},n),e?u:null)};z.displayName="SettingsNavItem";var N=Object(h.a)(w.Link,{target:"e1o2rm130",label:"StyledNavItem"})("display:block;color:",(function(t){return t.theme.gray500}),";font-size:14px;line-height:30px;position:relative;&.active{color:",(function(t){return t.theme.gray800}),";&:before{background:",(function(t){return t.theme.purple400}),";}}&:hover,&:focus,&:active{color:",(function(t){return t.theme.gray800}),";outline:none;}&.focus-visible{outline:none;background:#f2eff5;padding:0 15px;margin:0 -15px;border-radius:3px;&:before{left:-15px;}}&:before{position:absolute;content:'';display:block;top:4px;left:-30px;height:20px;width:4px;background:transparent;border-radius:0 2px 2px 0;}"),E=z,D=n(484),C=n(33);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var q=function(t){var e=t.organization,n=t.project,r=t.name,a=t.items;return Object(P.f)(J,{"data-test-id":r},Object(P.f)(W,null,r),a.map((function(r){var a=r.path,o=r.title,i=r.index,c=r.show,s=r.badge,u=r.id,l=r.recordAnalytics;if("function"==typeof c&&!c(t))return null;if(void 0!==c&&!c)return null;var p="function"==typeof s?s(t):null,d=Object(D.a)(a,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){I()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e?{orgId:e.slug}:{},{},n?{projectId:n.slug}:{}));return Object(P.f)(E,{key:o,to:d,label:o,index:i,badge:p,id:u,onClick:function(){l&&d!==window.location.pathname&&Object(C.e)({organization_id:e&&e.id,project_id:n&&n.id,eventName:"Sidebar Item Clicked",eventKey:"sidebar.item_clicked",sidebar_item_id:u,dest:a})}})})))};q.displayName="SettingsNavigationGroup";var J=Object(h.a)("div",{target:"eqosaaj0",label:"NavSection"})({name:"uewl2b",styles:"margin-bottom:20px;"}),W=Object(h.a)("div",{target:"eqosaaj1",label:"SettingsHeading"})("color:",(function(t){return t.theme.gray600}),";font-size:12px;font-weight:600;text-transform:uppercase;margin-bottom:20px;"),_=q;function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var M=function(t){d()(r,t);var e,n=(e=r,function(){var t,n=g()(e);if(L()){var r=g()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return b()(this,t)});function r(){return s()(this,r),n.apply(this,arguments)}return l()(r,[{key:"componentDidCatch",value:function(t,e){y.m((function(n){Object.keys(e).forEach((function(t){n.setExtra(t,e[t])})),n.setExtra("url",window.location.href),y.c(t)}))}},{key:"render",value:function(){var t=this.props,e=t.navigationObjects,n=t.hooks,r=t.hookConfigs,o=i()(t,["navigationObjects","hooks","hookConfigs"]),c=e.concat(r);return Object(P.f)(U,null,c.map((function(t){return Object(P.f)(_,a()({key:t.name},o,t))})),n.map((function(t,e){return O.a.cloneElement(t,{key:"hook-".concat(e)})})))}}]),r}(O.a.Component);M.displayName="SettingsNavigation",M.defaultProps={hooks:[],hookConfigs:[]};var U=Object(h.a)("div",{target:"e1jh0wxi0",label:"PositionStickyWrapper"})("padding:",Object(v.a)(4),";padding-right:",Object(v.a)(2),";@media (min-width:",(function(t){return t.theme.breakpoints[0]}),"){position:sticky;top:70px;overflow:scroll;height:calc(100vh - 70px);-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}}");e.a=M},2847:function(t,e,n){"use strict";n.r(e);var r=n(5),a=n.n(r),o=n(15),i=n.n(o),c=n(1),s=n.n(c),u=n(21),l=n.n(u),p=n(26),d=n.n(p),f=n(16),b=n.n(f),m=n(7),g=n(278),h=n.n(g),j=n(22),O=n.n(j),y=n(27),v=n.n(y),x=n(489),I=n(388),w=n(3),k=n(56),S=n(183),T=n(50),P=n(147),z=n(9),N=n.n(z),E=n(10),D=n.n(E),C=n(11),R=n.n(C),q=n(12),J=n.n(q),W=n(6),_=n.n(W),L=n(4),M=n(31),U=n(1730),A=n(618),B=n(17),F=n(1762),G=n(8),H=n(0);function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var V=function(t){R()(r,t);var e,n=(e=r,function(){var t,n=_()(e);if(K()){var r=_()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return J()(this,t)});function r(t){var e;N()(this,r);var a=(e=n.call(this,t)).props,o=a.organization,i=a.projectId,c=o.projects.find((function(t){return t.slug===i}));return e.state={loading:!1,error:!1,project:c},e}return D()(r,[{key:"joinTeam",value:function(t){var e=this;this.setState({loading:!0}),Object(U.c)(this.props.api,{orgId:this.props.organization.slug,teamId:t.slug},{success:function(){e.setState({loading:!1,error:!1})},error:function(){e.setState({loading:!1,error:!0}),Object(M.a)(Object(w.b)("There was an error while trying to leave the team."))}})}},{key:"renderJoinTeam",value:function(t,e){return t?this.state.loading?Object(H.f)("a",{className:"btn btn-default btn-loading btn-disabled"},"..."):t.isPending?Object(H.f)("a",{className:"btn btn-default btn-disabled"},Object(w.b)("Request Pending")):e.has("open-membership")?Object(H.f)("a",{className:"btn btn-default",onClick:this.joinTeam.bind(this,t)},Object(w.b)("Join Team")):Object(H.f)("a",{className:"btn btn-default",onClick:this.joinTeam.bind(this,t)},Object(w.b)("Request Access")):null}},{key:"renderExplanation",value:function(t){return t.has("open-membership")?Object(w.b)("To view this data you must one of the following teams."):Object(w.b)("To view this data you must first request access to one of the following teams:")}},{key:"renderJoinTeams",value:function(t){var e=this,n=this.state.project.teams;return n.length?n.map((function(n){return Object(H.f)("p",{key:n.slug},"#",n.slug,": ",e.renderJoinTeam(n,t))})):Object(H.f)(A.a,null,Object(w.b)("No teams have access to this project yet. Ask an admin to add your team to this project."))}},{key:"render",value:function(){var t=this.props.organization,e=new Set(t.features);return Object(H.f)("div",{className:"container"},Object(H.f)(Y,{centered:!0},Object(H.f)(Q,{size:"xxl"}),Object(H.f)("p",null,Object(w.b)("You're not a member of this project.")),Object(H.f)("p",null,this.renderExplanation(e)),this.renderJoinTeams(e)))}}]),r}(s.a.Component);V.displayName="MissingProjectMembership";var Y=Object(L.a)(F.a,{target:"eka02rn0",label:"StyledWell"})("margin-top:",Object(G.a)(2),";"),Q=Object(L.a)(B.C,{target:"eka02rn1",label:"StyledIconFlag"})("margin-bottom:",Object(G.a)(2),";"),X=Object(k.a)(V),Z=n(123),$=n(164),tt=n(281),et=n(78);function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var at="MISSING_MEMBERSHIP",ot="PROJECT_NOT_FOUND",it="UNKNOWN",ct=v()({displayName:"ProjectContext",childContextTypes:{project:$.a.Project},mixins:[O.a.connect(P.a,"memberList"),O.a.listenTo(Z.a,"onProjectChange")],getInitialState:function(){return{loading:!0,error:!1,errorType:null,memberList:[],project:null}},getChildContext:function(){return{project:this.state.project}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(t){t.projectId!==this.props.projectId&&(t.skipReload||this.remountComponent())},componentDidUpdate:function(t,e){if(t.projectId!==this.props.projectId&&this.fetchData(),t.projects.length!==this.props.projects.length&&this.fetchData(),e.project!==this.state.project||e.organization!==this.state.organization){if(!this.docTitle)return;var n=this.docTitleRef.docTitle;n&&n.forceUpdate()}},remountComponent:function(){this.setState(this.getInitialState())},getTitle:function(){return this.state.project?this.state.project.slug:"Sentry"},onProjectChange:function(t){this.state.project&&t.has(this.state.project.id)&&this.setState({project:rt({},Z.a.getById(this.state.project.id))})},identifyProject:function(){var t=this.props,e=t.projects,n=t.projectId;return e.find((function(t){return t.slug===n}))||null},fetchData:function(){var t=this;return d()(l.a.mark((function e(){var n,r,a,o,i,c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.orgId,a=n.projectId,o=n.skipReload,i=t.identifyProject(),c=i&&i.hasAccess,t.setState((function(t){return{loading:!o||t.loading,project:i}})),!i||!c){e.next=20;break}return Object(I.j)(null),s=t.props.api.requestPromise("/projects/".concat(r,"/").concat(a,"/")),e.prev=7,e.next=10,s;case 10:u=e.sent,t.setState({loading:!1,project:u,error:!1,errorType:null}),Object(I.j)(u),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),t.setState({loading:!1,error:!1,errorType:it});case 18:return Object(x.a)(t.props.api,r,i.id),e.abrupt("return");case 20:if(!i||i.isMember){e.next=23;break}return t.setState({loading:!1,error:!0,errorType:at}),e.abrupt("return");case 23:return e.prev=23,e.next=26,t.props.api.requestPromise("/projects/".concat(r,"/").concat(a,"/"));case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(23),t.setState({loading:!1,error:!0,errorType:ot});case 31:case"end":return e.stop()}}),e,null,[[7,15],[23,28]])})))()},renderBody:function(){if(this.state.loading)return Object(H.f)("div",{className:"loading-full-layout"},Object(H.f)(T.default,null));if(this.state.error)switch(this.state.errorType){case ot:return Object(H.f)("div",{className:"container"},Object(H.f)("div",{className:"alert alert-block",style:{margin:"30px 0 10px"}},Object(w.b)("The project you were looking for was not found.")));case at:return Object(H.f)(X,{organization:this.props.organization,projectId:this.state.project.slug});default:return Object(H.f)(S.a,{onRetry:this.remountComponent})}return this.props.children},render:function(){var t=this;return Object(H.f)(h.a,{ref:function(e){return t.docTitleRef=e},title:this.getTitle()},this.renderBody())}}),st=Object(k.a)(Object(et.a)(Object(tt.a)(Object(m.withRouter)(ct)))),ut=n(1953),lt=n(2178),pt=n(631),dt=function(t){var e=t.organization,n=t.project;return Object(H.f)(ut.a,{navigationObjects:Object(lt.a)({project:n,organization:e}),access:new Set(e.access),features:new Set(e.features),organization:e,project:n})};dt.displayName="ProjectSettingsNavigation";var ft=Object(pt.a)(dt),bt=n(1998);function mt(t){var e=t.params,n=t.organization,r=t.children,o=i()(t,["params","organization","children"]),c=e.orgId,u=e.projectId;return Object(H.f)(st,{orgId:c,projectId:u},Object(H.f)(bt.a,a()({params:e},o,{renderNavigation:function(){return Object(H.f)(ft,{organization:n})}}),r&&s.a.isValidElement(r)?s.a.cloneElement(r,{organization:n}):r))}mt.displayName="ProjectSettingsLayout";e.default=Object(et.a)(mt)}}]);
//# sourceMappingURL=ProjectSettingsLayout.js.map