{"version":3,"sources":["webpack:///./app/views/asyncView.tsx","webpack:///./app/utils/routeTitle.tsx","webpack:///./app/components/navTabs.tsx","webpack:///./app/components/links/listLink.tsx","webpack:///./app/components/layouts/thirds.tsx","webpack:///./app/components/badge.tsx","webpack:///./app/components/breadcrumbs.tsx","webpack:///./app/components/deployBadge.tsx","webpack:///./app/views/releasesV2/detail/utils.tsx","webpack:///./app/views/releasesV2/detail/releaseStat.tsx","webpack:///./app/views/releasesV2/detail/releaseActions.tsx","webpack:///./app/views/releasesV2/detail/releaseHeader.tsx","webpack:///./app/views/releasesV2/detail/pickProjectToContinue.tsx","webpack:///./app/views/releasesV2/detail/index.tsx"],"names":["AsyncView","title","this","getTitle","renderComponent","AsyncComponent","routeTitleGen","routeName","orgSlug","withSentry","tmpl","NavTabs","props","underlined","className","tabProps","mergedClassName","classnames","ListLink","isActive","to","query","index","context","router","pathname","getClassName","_classNames","activeClassName","classNames","children","carriedProps","omit","onlyActiveOnIndex","React","Component","displayName","contextTypes","PropTypes","object","isRequired","defaultProps","Body","space","p","theme","white","breakpoints","HeaderContent","HeaderActions","Title","headerFontSize","gray700","overflowEllipsis","Header","borderDark","Main","fullWidth","Side","priorityColors","new","red400","strong","blue400","highlight","green400","Badge","priority","text","gray400","propTypes","oneOfType","string","number","oneOf","Breadcrumbs","crumbs","linkLastItem","length","BreadcrumbList","map","label","preserveGlobalSelection","key","labelKey","mapKey","Fragment","BreadcrumbLink","BreadcrumbItem","BreadcrumbDividerIcon","size","direction","getBreadcrumbListItemStyles","gray500","gray600","IconChevron","DeployBadge","deploy","version","shouldLinkToIssues","badge","Label","environment","Icon","project","stringifyQueryObject","QueryResults","t","Tag","fontSizeSmall","IconOpen","deleteRelease","orgId","Client","requestPromise","encodeURIComponent","method","getFilesByRepository","fileList","reduce","filesByRepository","file","filename","repoName","author","type","hasOwnProperty","authors","types","Set","email","add","getCommitsByRepository","commitList","commitsByRepository","commit","repositoryName","repository","name","push","ReleaseStat","Wrapper","Value","fontSizeExtraLarge","ReleaseActions","hasHealthData","handleDelete","a","redirectPath","addLoadingMessage","addSuccessMessage","browserHistory","errorMessage","responseJSON","detail","addErrorMessage","onConfirm","message","disabled","icon","ReleaseHeader","location","release","releaseMeta","newGroups","url","lastDeploy","dateCreated","commitCount","commitFilesChanged","releaseFileCount","healthData","sessionsCrashed","releasePath","tabs","NavTabsBadge","formatAbbreviatedNumber","StyledHeader","HeaderInfoContainer","formatVersion","StatsWrapper","dateFinished","DeploysWrapper","date","StyledDeployBadge","value","ReleaseName","anchor","IconWrapper","containerDisplayMode","href","StyledNavTabs","tab","search","Layout","PickProjectToContinue","projects","navigating","path","replace","id","openModal","modalProps","needOrg","needProject","nextPath","onFinish","projectSlugs","slug","onClose","ContextPickerBackground","ReleaseContext","createContext","ReleasesV2Detail","shouldReload","params","organization","deploys","pick","Object","values","URL_PARAM","health","basePath","endpoints","deployCount","possiblyWrongProject","state","errors","find","e","status","args","selection","reloading","StyledPageContent","Provider","ReleasesV2DetailContainer","has404Errors","projectId","ProjectsFooterMessage","isProjectMissingInUrl","lockedMessageSubject","shouldForceProject","forceProject","undefined","specificProjectSlugs","disableMultipleProjectSelection","showProjectSettingsLink","projectsFooterMessage","renderProjectsFooterMessage","PageContent","withGlobalSelection","withOrganization"],"mappings":"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","file":"ReleasesV2Detail.js","sourcesContent":["import DocumentTitle from 'react-document-title';\nimport React from 'react';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent()}\n      </DocumentTitle>\n    );\n  }\n}\n","function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true\n): string {\n  const tmpl = `${routeName} - ${orgSlug}`;\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\ntype Props = {\n  underlined?: boolean;\n  className?: string;\n};\n\ntype NavProps = Omit<React.HTMLProps<HTMLUListElement>, keyof Props> & Props;\n\nfunction NavTabs(props: NavProps) {\n  const {underlined, className, ...tabProps} = props;\n  const mergedClassName = classnames('nav nav-tabs', className, {\n    'border-bottom': underlined,\n  });\n  return <ul className={mergedClassName} {...tabProps} />;\n}\n\nNavTabs.propTypes = {\n  underlined: PropTypes.bool,\n};\n\nexport default NavTabs;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport omit from 'lodash/omit';\nimport {Link} from 'react-router';\nimport classNames from 'classnames';\nimport {LocationDescriptor} from 'history';\n\ntype DefaultProps = {\n  index: boolean;\n  activeClassName: string;\n};\n\ntype Props = DefaultProps & {\n  to: LocationDescriptor;\n  className?: string;\n  query?: string;\n  onClick?: () => void;\n  // If supplied by parent component, decides whether link element\n  // is \"active\" or not ... overriding default behavior of strict\n  // route matching\n  isActive?: (location: LocationDescriptor, indexOnly?: boolean) => boolean;\n};\n\nclass ListLink extends React.Component<Props> {\n  static displayName = 'ListLink';\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n  };\n\n  static defaultProps: DefaultProps = {\n    activeClassName: 'active',\n    index: false,\n  };\n\n  isActive = () => {\n    const {isActive, to, query, index} = this.props;\n\n    return (isActive || this.context.router.isActive)({pathname: to, query}, index);\n  };\n\n  getClassName = () => {\n    const _classNames = {};\n    const {className, activeClassName} = this.props;\n\n    if (className) {\n      _classNames[className] = true;\n    }\n\n    if (this.isActive()) {\n      _classNames[activeClassName] = true;\n    }\n\n    return classNames(_classNames);\n  };\n\n  render() {\n    const {index, children} = this.props;\n    const carriedProps = omit(this.props, 'activeClassName', 'isActive', 'index');\n\n    return (\n      <li className={this.getClassName()}>\n        <Link {...carriedProps} onlyActiveOnIndex={index}>\n          {children}\n        </Link>\n      </li>\n    );\n  }\n}\n\nexport default ListLink;\n","import styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\n\n/**\n * Base container for 66/33 containers.\n */\nexport const Body = styled('div')`\n  padding: ${space(2)} ${space(4)};\n  margin: 0;\n  background-color: ${p => p.theme.white};\n  flex-grow: 1;\n\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    display: grid;\n    grid-template-columns: 66% auto;\n    align-content: start;\n    grid-gap: ${space(3)};\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[2]}) {\n    grid-template-columns: minmax(100px, auto) 325px;\n  }\n`;\n\n/**\n * Use HeaderContent to create horizontal regions in the header\n * that contain a heading/breadcrumbs and a button group.\n */\nexport const HeaderContent = styled('div')`\n  display: flex;\n  flex-direction: column;\n  justify-content: normal;\n  margin-bottom: ${space(2)};\n  overflow: hidden;\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    margin-bottom: ${space(1)};\n  }\n`;\n\n/**\n * Container for action buttons and secondary information that\n * flows on the top right of the header.\n */\nexport const HeaderActions = styled('div')`\n  display: flex;\n  flex-direction: column;\n  justify-content: normal;\n  min-width: max-content;\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    width: max-content;\n    margin-bottom: ${space(2)};\n  }\n`;\n\n/**\n * Heading container that includes margins.\n */\nexport const Title = styled('h2')`\n  font-size: ${p => p.theme.headerFontSize};\n  font-weight: normal;\n  line-height: 1.2;\n  color: ${p => p.theme.gray700};\n  margin-top: ${space(3)};\n  /* TODO(bootstrap) Remove important when bootstrap headings are removed */\n  margin-bottom: 0 !important;\n  min-height: 30px;\n  align-self: center;\n  ${overflowEllipsis};\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    margin-top: ${space(1)};\n  }\n`;\n\n/**\n * Header container for header content and header actions.\n *\n * Uses a horizontal layout in wide viewports to put space between\n * the headings and the actions container. In narrow viewports these elements\n * are stacked vertically.\n */\nexport const Header = styled('div')`\n  display: flex;\n  flex-direction: row;\n  flex-grow: 0;\n  justify-content: space-between;\n  padding: ${space(2)} ${space(4)} 0 ${space(4)};\n  margin: 0;\n\n  background-color: transparent;\n  border-bottom: 1px solid ${p => p.theme.borderDark};\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    flex-direction: column;\n  }\n`;\n\n/**\n * Containers for two column 66/33 layout.\n */\nexport const Main = styled('section')<{fullWidth?: boolean}>`\n  grid-column: ${p => (p.fullWidth ? '1/3' : '1/2')};\n  max-width: 100%;\n`;\nexport const Side = styled('aside')`\n  grid-column: 2/3;\n`;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport theme from 'app/utils/theme';\n\nconst priorityColors = {\n  new: theme.red400,\n  strong: theme.blue400,\n  highlight: theme.green400,\n} as const;\n\ntype Props = React.HTMLProps<HTMLSpanElement> & {\n  text?: string | number | null;\n  priority?: keyof typeof priorityColors;\n  className?: string;\n};\n\nconst Badge = styled(({priority: _priority, text, ...props}: Props) => (\n  <span {...props}>{text}</span>\n))<Props>`\n  display: inline-block;\n  height: 20px;\n  min-width: 20px;\n  line-height: 20px;\n  border-radius: 20px;\n  padding: 0 5px;\n  margin-left: ${space(0.5)};\n  font-size: 75%;\n  font-weight: 600;\n  text-align: center;\n  color: #fff;\n  background: ${p => (p.priority ? priorityColors[p.priority] : theme.gray400)};\n  transition: background 100ms linear;\n\n  position: relative;\n  top: -1px;\n`;\n\nBadge.propTypes = {\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  priority: PropTypes.oneOf(['strong', 'new', 'highlight']),\n} as any;\n\nexport default Badge;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport {IconChevron} from 'app/icons';\nimport Link from 'app/components/links/link';\nimport GlobalSelectionLink from 'app/components/globalSelectionLink';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\nimport {Theme} from 'app/utils/theme';\n\nexport type Crumb = {\n  /**\n   * Label of the crumb\n   */\n  label: React.ReactNode;\n\n  /**\n   * Link of the crumb\n   */\n  to?: React.ComponentProps<typeof Link>['to'] | null;\n\n  /**\n   * It will keep the global selection values (projects, environments, time) in the\n   * querystring when navigating (GlobalSelectionLink)\n   */\n  preserveGlobalSelection?: boolean;\n\n  /**\n   * Component will try to come up with unique key, but you can provide your own\n   * (used when mapping over crumbs)\n   */\n  key?: string;\n};\n\ntype Props = React.HTMLAttributes<HTMLDivElement> & {\n  /**\n   * Array of crumbs that will be rendered\n   */\n  crumbs: Crumb[];\n\n  /**\n   * As a general rule of thumb we don't want the last item to be link as it most likely\n   * points to the same page we are currently on. This is by default false, so that\n   * people don't have to check if crumb is last in the array and then manually\n   * assign `to: null/undefined` when passing props to this component.\n   */\n  linkLastItem?: boolean;\n};\n\n/**\n * Page breadcrumbs used for navigation, not to be confused with sentry's event breadcrumbs\n */\nconst Breadcrumbs = ({crumbs, linkLastItem = false, ...props}: Props) => {\n  if (crumbs.length === 0) {\n    return null;\n  }\n\n  if (!linkLastItem) {\n    crumbs[crumbs.length - 1].to = null;\n  }\n\n  return (\n    <BreadcrumbList {...props}>\n      {crumbs.map(({label, to, preserveGlobalSelection, key}, index) => {\n        const labelKey = typeof label === 'string' ? label : '';\n        const mapKey =\n          key ?? typeof to === 'string' ? `${labelKey}${to}` : `${labelKey}${index}`;\n\n        return (\n          <React.Fragment key={mapKey}>\n            {to ? (\n              <BreadcrumbLink to={to} preserveGlobalSelection={preserveGlobalSelection}>\n                {label}\n              </BreadcrumbLink>\n            ) : (\n              <BreadcrumbItem>{label}</BreadcrumbItem>\n            )}\n\n            {index < crumbs.length - 1 && (\n              <BreadcrumbDividerIcon size=\"xs\" direction=\"right\" />\n            )}\n          </React.Fragment>\n        );\n      })}\n    </BreadcrumbList>\n  );\n};\n\nconst getBreadcrumbListItemStyles = (p: {theme: Theme}) => `\n  color: ${p.theme.gray500};\n  ${overflowEllipsis};\n  width: auto;\n\n  &:last-child {\n    color: ${p.theme.gray700};\n  }\n`;\n\nconst BreadcrumbList = styled('div')`\n  display: flex;\n  align-items: center;\n  padding: ${space(1)} 0;\n`;\n\nconst BreadcrumbLink = styled(({preserveGlobalSelection, ...props}) =>\n  preserveGlobalSelection ? <GlobalSelectionLink {...props} /> : <Link {...props} />\n)`\n  ${getBreadcrumbListItemStyles}\n\n  &:hover,\n  &:active {\n    color: ${p => p.theme.gray600};\n  }\n`;\n\nconst BreadcrumbItem = styled('span')`\n  ${getBreadcrumbListItemStyles}\n`;\n\nconst BreadcrumbDividerIcon = styled(IconChevron)`\n  color: ${p => p.theme.gray500};\n  margin: 0 ${space(1)};\n  flex-shrink: 0;\n`;\n\nexport default Breadcrumbs;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {Deploy} from 'app/types';\nimport Tag from 'app/views/settings/components/tag';\nimport Link from 'app/components/links/link';\nimport {IconOpen} from 'app/icons';\nimport {stringifyQueryObject, QueryResults} from 'app/utils/tokenizeSearch';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\n\ntype Props = {\n  deploy: Deploy;\n  orgSlug?: string;\n  version?: string;\n  className?: string;\n};\n\nconst DeployBadge = ({deploy, orgSlug, version, className}: Props) => {\n  const shouldLinkToIssues = !!orgSlug && !!version;\n\n  const badge = (\n    <Badge className={className}>\n      <Label>{deploy.environment}</Label>\n      {shouldLinkToIssues && <Icon size=\"xs\" />}\n    </Badge>\n  );\n\n  if (!shouldLinkToIssues) {\n    return badge;\n  }\n\n  return (\n    <Link\n      to={{\n        pathname: `/organizations/${orgSlug}/issues/`,\n        query: {\n          project: null,\n          environment: deploy.environment,\n          query: stringifyQueryObject(new QueryResults([`release:${version!}`])),\n        },\n      }}\n      title={t('Open in Issues')}\n    >\n      {badge}\n    </Link>\n  );\n};\n\nconst Badge = styled(Tag)`\n  background-color: ${p => p.theme.gray700};\n  color: ${p => p.theme.white};\n  font-size: ${p => p.theme.fontSizeSmall};\n  align-items: center;\n  height: 20px;\n`;\n\nconst Label = styled('span')`\n  max-width: 100px;\n  line-height: 20px;\n  ${overflowEllipsis}\n`;\n\nconst Icon = styled(IconOpen)`\n  margin-left: ${space(0.5)};\n  flex-shrink: 0;\n`;\n\nexport default DeployBadge;\n","import {Client} from 'app/api';\nimport {CommitFile, Commit} from 'app/types';\nimport {t} from 'app/locale';\n\nexport type CommitsByRepository = {\n  [key: string]: Commit[];\n};\n\nexport const deleteRelease = (orgId: string, version: string) => {\n  const api = new Client();\n\n  return api.requestPromise(\n    `/organizations/${orgId}/releases/${encodeURIComponent(version)}/`,\n    {\n      method: 'DELETE',\n    }\n  );\n};\n\n/**\n * Convert list of individual file changes into a per-file summary grouped by repository\n */\nexport function getFilesByRepository(fileList: CommitFile[]) {\n  return fileList.reduce((filesByRepository, file) => {\n    const {filename, repoName, author, type} = file;\n\n    if (!filesByRepository.hasOwnProperty(repoName)) {\n      filesByRepository[repoName] = {};\n    }\n\n    if (!filesByRepository[repoName].hasOwnProperty(filename)) {\n      filesByRepository[repoName][filename] = {\n        authors: {},\n        types: new Set(),\n      };\n    }\n\n    filesByRepository[repoName][filename].authors[author.email] = author;\n    filesByRepository[repoName][filename].types.add(type);\n\n    return filesByRepository;\n  }, {});\n}\n\n/**\n * Convert list of individual commits into a summary grouped by repository\n */\nexport function getCommitsByRepository(commitList: Commit[]): CommitsByRepository {\n  return commitList.reduce((commitsByRepository, commit) => {\n    const repositoryName = commit.repository?.name ?? t('unknown');\n\n    if (!commitsByRepository.hasOwnProperty(repositoryName)) {\n      commitsByRepository[repositoryName] = [];\n    }\n\n    commitsByRepository[repositoryName].push(commit);\n\n    return commitsByRepository;\n  }, {});\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\n\ntype Props = {\n  label: string;\n  children: React.ReactNode;\n};\n\nconst ReleaseStat = ({label, children}: Props) => (\n  <Wrapper>\n    <Label>{label}</Label>\n    <Value>{children}</Value>\n  </Wrapper>\n);\n\nconst Wrapper = styled('div')`\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    margin: ${space(2)} ${space(4)} ${space(2)} 0;\n  }\n`;\n\nconst Label = styled('div')`\n  font-weight: 600;\n  font-size: ${p => p.theme.fontSizeSmall};\n  text-transform: uppercase;\n  color: ${p => p.theme.gray500};\n  line-height: 1.3;\n  margin-bottom: ${space(0.25)};\n  white-space: nowrap;\n`;\nconst Value = styled('div')`\n  font-size: ${p => p.theme.fontSizeExtraLarge};\n  color: ${p => p.theme.gray700};\n`;\n\nexport default ReleaseStat;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport {browserHistory} from 'react-router';\n\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport Button from 'app/components/button';\nimport {IconDelete} from 'app/icons';\nimport Confirm from 'app/components/confirm';\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'app/actionCreators/indicator';\nimport Tooltip from 'app/components/tooltip';\n\nimport {deleteRelease} from './utils';\n\ntype Props = {\n  orgId: string;\n  version: string;\n  hasHealthData: boolean;\n};\n\nconst ReleaseActions = ({orgId, version, hasHealthData}: Props) => {\n  const handleDelete = async () => {\n    const redirectPath = `/organizations/${orgId}/releases/`;\n    addLoadingMessage(t('Deleting Release...'));\n\n    try {\n      await deleteRelease(orgId, version);\n      addSuccessMessage(t('Release was successfully removed.'));\n      browserHistory.push(redirectPath);\n    } catch (error) {\n      const errorMessage =\n        error.responseJSON?.detail ?? t('Release could not be be removed.');\n      addErrorMessage(errorMessage);\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Confirm\n        onConfirm={handleDelete}\n        message={t(\n          'Deleting this release is permanent and will affect other projects associated with it. Are you sure you wish to continue?'\n        )}\n      >\n        <div>\n          <Tooltip\n            title={t(\n              'You can only delete releases if they have no issues or health data.'\n            )}\n            disabled={!hasHealthData}\n          >\n            <Button icon={<IconDelete />} disabled={hasHealthData} />\n          </Tooltip>\n        </div>\n      </Confirm>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled('div')`\n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: min-content;\n  grid-gap: ${space(0.5)};\n\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    width: 100%;\n    margin: ${space(1)} 0 ${space(2)} 0;\n  }\n`;\n\nexport default ReleaseActions;\n","import React from 'react';\nimport {Location} from 'history';\nimport styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport {t} from 'app/locale';\nimport ListLink from 'app/components/links/listLink';\nimport ExternalLink from 'app/components/links/externalLink';\nimport NavTabs from 'app/components/navTabs';\nimport {Release, ReleaseProject, ReleaseMeta} from 'app/types';\nimport Version from 'app/components/version';\nimport Clipboard from 'app/components/clipboard';\nimport {IconCopy, IconOpen} from 'app/icons';\nimport Tooltip from 'app/components/tooltip';\nimport Count from 'app/components/count';\nimport TimeSince from 'app/components/timeSince';\nimport {formatVersion, formatAbbreviatedNumber} from 'app/utils/formatters';\nimport Breadcrumbs from 'app/components/breadcrumbs';\nimport DeployBadge from 'app/components/deployBadge';\nimport Badge from 'app/components/badge';\nimport * as Layout from 'app/components/layouts/thirds';\n\nimport ReleaseStat from './releaseStat';\nimport ReleaseActions from './releaseActions';\n\ntype Props = {\n  location: Location;\n  orgId: string;\n  release: Release;\n  project: Required<ReleaseProject>;\n  releaseMeta: ReleaseMeta;\n};\n\nconst ReleaseHeader = ({location, orgId, release, project, releaseMeta}: Props) => {\n  const {version, newGroups, url, lastDeploy, dateCreated} = release;\n  const {commitCount, commitFilesChanged, releaseFileCount} = releaseMeta;\n  const {hasHealthData, sessionsCrashed} = project.healthData;\n\n  const releasePath = `/organizations/${orgId}/releases/${encodeURIComponent(version)}/`;\n\n  const tabs = [\n    {title: t('Overview'), to: releasePath},\n    {\n      title: (\n        <React.Fragment>\n          {t('Commits')} <NavTabsBadge text={formatAbbreviatedNumber(commitCount)} />\n        </React.Fragment>\n      ),\n      to: `${releasePath}commits/`,\n    },\n    {\n      title: (\n        <React.Fragment>\n          {t('Files Changed')}\n          <NavTabsBadge text={formatAbbreviatedNumber(commitFilesChanged)} />\n        </React.Fragment>\n      ),\n      to: `${releasePath}files-changed/`,\n    },\n    {\n      title: (\n        <React.Fragment>\n          {t('Artifacts')}\n          <NavTabsBadge text={formatAbbreviatedNumber(releaseFileCount)} />\n        </React.Fragment>\n      ),\n      to: `${releasePath}artifacts/`,\n    },\n  ];\n\n  return (\n    <StyledHeader>\n      <HeaderInfoContainer>\n        <Breadcrumbs\n          crumbs={[\n            {\n              to: `/organizations/${orgId}/releases/`,\n              label: t('Releases'),\n              preserveGlobalSelection: true,\n            },\n            {label: formatVersion(version)},\n          ]}\n        />\n\n        <StatsWrapper>\n          <ReleaseStat\n            label={lastDeploy?.dateFinished ? t('Last Deploy') : t('Date Created')}\n          >\n            <DeploysWrapper>\n              <TimeSince date={lastDeploy?.dateFinished || dateCreated} />\n              {lastDeploy?.dateFinished && <StyledDeployBadge deploy={lastDeploy} />}\n            </DeploysWrapper>\n          </ReleaseStat>\n          {hasHealthData && (\n            <ReleaseStat label={t('Crashes')}>\n              <Count value={sessionsCrashed} />\n            </ReleaseStat>\n          )}\n          <ReleaseStat label={t('New Issues')}>\n            <Count value={newGroups} />\n          </ReleaseStat>\n          <ReleaseActions version={version} orgId={orgId} hasHealthData={hasHealthData} />\n        </StatsWrapper>\n      </HeaderInfoContainer>\n\n      <Layout.HeaderContent>\n        <ReleaseName>\n          <Version version={version} anchor={false} />\n\n          <IconWrapper>\n            <Clipboard value={version}>\n              <Tooltip title={version} containerDisplayMode=\"flex\">\n                <IconCopy size=\"xs\" />\n              </Tooltip>\n            </Clipboard>\n          </IconWrapper>\n\n          {!!url && (\n            <IconWrapper>\n              <Tooltip title={url}>\n                <ExternalLink href={url}>\n                  <IconOpen size=\"xs\" />\n                </ExternalLink>\n              </Tooltip>\n            </IconWrapper>\n          )}\n        </ReleaseName>\n      </Layout.HeaderContent>\n\n      <StyledNavTabs>\n        {tabs.map(tab => (\n          <ListLink\n            key={tab.to}\n            to={`${tab.to}${location.search}`}\n            isActive={() => tab.to === location.pathname}\n          >\n            {tab.title}\n          </ListLink>\n        ))}\n      </StyledNavTabs>\n    </StyledHeader>\n  );\n};\n\nconst StyledHeader = styled(Layout.Header)`\n  flex-direction: column;\n`;\n\nconst HeaderInfoContainer = styled('div')`\n  margin-bottom: ${space(1)};\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    display: grid;\n    grid-column-gap: ${space(3)};\n    grid-template-columns: 1fr 1fr;\n    margin-bottom: 0;\n    align-items: flex-start;\n  }\n`;\n\nconst StatsWrapper = styled('div')`\n  display: flex;\n  flex-wrap: wrap;\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    display: grid;\n    padding: ${space(1.5)} 0;\n    grid-auto-flow: column;\n    grid-gap: ${space(4)};\n  }\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    justify-content: flex-end;\n    text-align: right;\n  }\n`;\n\nconst DeploysWrapper = styled('div')`\n  white-space: nowrap;\n`;\n\nconst StyledDeployBadge = styled(DeployBadge)`\n  margin-left: ${space(1)};\n  bottom: ${space(0.25)};\n`;\n\nconst ReleaseName = styled('div')`\n  font-size: ${p => p.theme.headerFontSize};\n  color: ${p => p.theme.gray700};\n  display: flex;\n  align-items: center;\n`;\n\nconst IconWrapper = styled('span')`\n  transition: color 0.3s ease-in-out;\n  margin-left: ${space(1)};\n\n  &,\n  a {\n    color: ${p => p.theme.gray500};\n    display: flex;\n    &:hover {\n      cursor: pointer;\n      color: ${p => p.theme.gray700};\n    }\n  }\n`;\n\nconst StyledNavTabs = styled(NavTabs)`\n  margin-bottom: 0;\n  grid-column: 1 / 2;\n`;\n\nconst NavTabsBadge = styled(Badge)`\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    display: none;\n  }\n`;\n\nexport default ReleaseHeader;\n","import React from 'react';\nimport * as ReactRouter from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {openModal} from 'app/actionCreators/modal';\nimport ContextPickerModalContainer from 'app/components/contextPickerModal';\nimport {ReleaseProject} from 'app/types';\n\ntype Props = {\n  orgSlug: string;\n  version: string;\n  router: ReactRouter.InjectedRouter;\n  projects: ReleaseProject[];\n};\n\nconst PickProjectToContinue = ({orgSlug, version, router, projects}: Props) => {\n  let navigating = false;\n\n  const path = `/organizations/${orgSlug}/releases/${encodeURIComponent(\n    version\n  )}/?project=`;\n\n  // if the project in URL is missing, but this release belongs to only one project, redirect there\n  if (projects.length === 1) {\n    router.replace(path + projects[0].id);\n    return null;\n  }\n\n  openModal(\n    modalProps => (\n      <ContextPickerModalContainer\n        {...modalProps}\n        needOrg={false}\n        needProject\n        nextPath={`${path}:project`}\n        onFinish={pathname => {\n          navigating = true;\n          router.replace(pathname);\n        }}\n        projectSlugs={projects.map(p => p.slug)}\n      />\n    ),\n    {\n      onClose() {\n        // we want this to be executed only if the user didn't select any project\n        // (closed modal either via button, Esc, clicking outside, ...)\n        if (!navigating) {\n          router.push(`/organizations/${orgSlug}/releases/`);\n        }\n      },\n    }\n  );\n\n  return <ContextPickerBackground />;\n};\n\nconst ContextPickerBackground = styled('div')`\n  height: 100vh;\n  width: 100%;\n`;\n\nexport default PickProjectToContinue;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router/lib/Router';\nimport pick from 'lodash/pick';\nimport styled from '@emotion/styled';\n\nimport {t} from 'app/locale';\nimport {\n  Organization,\n  ReleaseProject,\n  ReleaseMeta,\n  Deploy,\n  GlobalSelection,\n  ReleaseWithHealth,\n} from 'app/types';\nimport AsyncView from 'app/views/asyncView';\nimport GlobalSelectionHeader from 'app/components/organizations/globalSelectionHeader';\nimport LightWeightNoProjectMessage from 'app/components/lightWeightNoProjectMessage';\nimport {PageContent} from 'app/styles/organization';\nimport withOrganization from 'app/utils/withOrganization';\nimport routeTitleGen from 'app/utils/routeTitle';\nimport {URL_PARAM} from 'app/constants/globalSelectionHeader';\nimport {formatVersion} from 'app/utils/formatters';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport withGlobalSelection from 'app/utils/withGlobalSelection';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport {IconInfo, IconWarning} from 'app/icons';\nimport space from 'app/styles/space';\nimport Alert from 'app/components/alert';\nimport {Body} from 'app/components/layouts/thirds';\n\nimport ReleaseHeader from './releaseHeader';\nimport PickProjectToContinue from './pickProjectToContinue';\n\ntype ReleaseContext = {\n  release: ReleaseWithHealth;\n  project: Required<ReleaseProject>;\n  deploys: Deploy[];\n  releaseMeta: ReleaseMeta;\n};\nconst ReleaseContext = React.createContext<ReleaseContext>({} as ReleaseContext);\n\ntype RouteParams = {\n  orgId: string;\n  release: string;\n};\n\ntype Props = RouteComponentProps<RouteParams, {}> & {\n  organization: Organization;\n  selection: GlobalSelection;\n  releaseMeta: ReleaseMeta;\n};\n\ntype State = {\n  release: ReleaseWithHealth;\n  deploys: Deploy[];\n} & AsyncView['state'];\n\nclass ReleasesV2Detail extends AsyncView<Props, State> {\n  shouldReload = true;\n\n  getTitle() {\n    const {params, organization} = this.props;\n    return routeTitleGen(\n      t('Release %s', formatVersion(params.release)),\n      organization.slug,\n      false\n    );\n  }\n\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      deploys: [],\n    };\n  }\n\n  getEndpoints() {\n    const {organization, location, params, releaseMeta} = this.props;\n\n    const query = {\n      ...pick(location.query, [...Object.values(URL_PARAM)]),\n      health: 1,\n    };\n\n    const basePath = `/organizations/${organization.slug}/releases/${encodeURIComponent(\n      params.release\n    )}/`;\n\n    const endpoints: ReturnType<AsyncView['getEndpoints']> = [\n      ['release', basePath, {query}],\n    ];\n\n    if (releaseMeta.deployCount > 0) {\n      endpoints.push(['deploys', `${basePath}deploys/`]);\n    }\n\n    return endpoints;\n  }\n\n  renderError(...args) {\n    const possiblyWrongProject = Object.values(this.state.errors).find(\n      e => e?.status === 404 || e?.status === 403\n    );\n\n    if (possiblyWrongProject) {\n      return (\n        <PageContent>\n          <Alert type=\"error\" icon={<IconWarning />}>\n            {t('This release may not be in your selected project.')}\n          </Alert>\n        </PageContent>\n      );\n    }\n\n    return super.renderError(...args);\n  }\n\n  renderLoading() {\n    return (\n      <PageContent>\n        <LoadingIndicator />\n      </PageContent>\n    );\n  }\n\n  renderBody() {\n    const {organization, location, selection, releaseMeta} = this.props;\n    const {release, deploys, reloading} = this.state;\n    const project = release?.projects.find(p => p.id === selection.projects[0]);\n\n    if (!project || !release) {\n      if (reloading) {\n        return <LoadingIndicator />;\n      }\n\n      return null;\n    }\n\n    return (\n      <LightWeightNoProjectMessage organization={organization}>\n        <StyledPageContent>\n          <ReleaseHeader\n            location={location}\n            orgId={organization.slug}\n            release={release}\n            project={project}\n            releaseMeta={releaseMeta}\n          />\n          <Body>\n            <ReleaseContext.Provider value={{release, project, deploys, releaseMeta}}>\n              {this.props.children}\n            </ReleaseContext.Provider>\n          </Body>\n        </StyledPageContent>\n      </LightWeightNoProjectMessage>\n    );\n  }\n}\n\nclass ReleasesV2DetailContainer extends AsyncComponent<Omit<Props, 'releaseMeta'>> {\n  shouldReload = true;\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {organization, params} = this.props;\n    // fetch projects this release belongs to\n    return [\n      [\n        'releaseMeta',\n        `/organizations/${organization.slug}/releases/${encodeURIComponent(\n          params.release\n        )}/meta/`,\n      ],\n    ];\n  }\n\n  renderError(...args) {\n    const has404Errors = Object.values(this.state.errors).find(e => e?.status === 404);\n\n    if (has404Errors) {\n      // This catches a 404 coming from the release endpoint and displays a custom error message.\n      return (\n        <PageContent>\n          <Alert type=\"error\" icon={<IconWarning />}>\n            {t('This release could not be found.')}\n          </Alert>\n        </PageContent>\n      );\n    }\n\n    return super.renderError(...args);\n  }\n\n  isProjectMissingInUrl() {\n    const projectId = this.props.location.query.project;\n\n    return !projectId || typeof projectId !== 'string';\n  }\n\n  renderLoading() {\n    return (\n      <PageContent>\n        <LoadingIndicator />\n      </PageContent>\n    );\n  }\n\n  renderProjectsFooterMessage() {\n    return (\n      <ProjectsFooterMessage>\n        <IconInfo size=\"xs\" /> {t('Only projects with this release are visible.')}\n      </ProjectsFooterMessage>\n    );\n  }\n\n  renderBody() {\n    const {organization, params, router} = this.props;\n    const {releaseMeta} = this.state;\n    const {projects} = releaseMeta;\n\n    if (this.isProjectMissingInUrl()) {\n      return (\n        <PickProjectToContinue\n          orgSlug={organization.slug}\n          version={params.release}\n          router={router}\n          projects={projects}\n        />\n      );\n    }\n\n    return (\n      <GlobalSelectionHeader\n        lockedMessageSubject={t('release')}\n        shouldForceProject={projects.length === 1}\n        forceProject={projects.length === 1 ? projects[0] : undefined}\n        specificProjectSlugs={projects.map(p => p.slug)}\n        disableMultipleProjectSelection\n        showProjectSettingsLink\n        projectsFooterMessage={this.renderProjectsFooterMessage()}\n      >\n        <ReleasesV2Detail {...this.props} releaseMeta={releaseMeta} />\n      </GlobalSelectionHeader>\n    );\n  }\n}\n\nconst StyledPageContent = styled(PageContent)`\n  padding: 0;\n`;\n\nconst ProjectsFooterMessage = styled('div')`\n  display: grid;\n  align-items: center;\n  grid-template-columns: min-content 1fr;\n  grid-gap: ${space(1)};\n`;\n\nexport {ReleasesV2DetailContainer, ReleaseContext};\nexport default withGlobalSelection(withOrganization(ReleasesV2DetailContainer));\n"],"sourceRoot":""}