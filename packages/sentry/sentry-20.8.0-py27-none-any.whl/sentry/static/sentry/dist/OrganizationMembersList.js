(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[123],{1586:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(9),a=r.n(n),i=r(10),o=r.n(i),c=r(11),s=r.n(c),u=r(12),l=r.n(u),b=r(6),f=r.n(b),d=r(278),m=r.n(d),p=(r(1),r(1587)),g=r(0);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=f()(t);if(v()){var n=f()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return o()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(g.f)(m.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(p.a);h.displayName="AsyncView"},1593:function(e,t,r){"use strict";t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="".concat(e," - ").concat(t);return r?"".concat(n," - Sentry"):n}},1599:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(629),a=r.n(n),i=r(484);function o(e,t){var r,n,o,c,s=t.routes,u=t.params,l=t.location,b=t.stepBack,f=s.map((function(e){return e.path||""}));"string"!=typeof e?(c=s.indexOf(e)+1,o=a()(f.slice(0,c),(function(e){return"/"===e[0]}))):o=a()(f,(function(e){return"/"===e[0]}));var d=f.slice(o,c);void 0!==b&&(d=d.slice(0,b));var m=null!==(r=null==l?void 0:l.search)&&void 0!==r?r:"",p=null!==(n=null==l?void 0:l.hash)&&void 0!==n?n:"",g="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(m).concat(p);return Object(i.a)(g,u)}},1691:function(e,t,r){"use strict";var n=r(5),a=r.n(n),i=r(4),o=r(1),c=r.n(o),s=r(0),u=function(e){var t=e.forwardRef,r=e.size,n=void 0===r?"sm":r,a=e.isActive,i=e.isLoading,o=e.isDisabled,c=e.toggle,u=e.id,l=e.name,b=e.className;return Object(s.f)(m,{ref:t,id:u,name:l,type:"button",className:b,onClick:o?void 0:c,role:"checkbox","aria-checked":a,isLoading:i,isDisabled:o,isActive:a,size:n,"data-test-id":"switch"},Object(s.f)(p,{isDisabled:o,isActive:a,size:n}))};u.displayName="Switch";var l=function(e){return"sm"===e.size?16:24},b=function(e){return l(e)-("sm"===e.size?6:10)},f=function(e){return"sm"===e.size?2:4},d=function(e){return e.isActive?f(e)+l(e):f(e)},m=Object(i.a)("button",{target:"ezmyi9u0",label:"SwitchButton"})("display:inline-block;background:none;padding:0;border:1px solid ",(function(e){return e.isActive?e.theme.borderDark:e.theme.borderLight}),";position:relative;box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);transition:0.15s border ease;cursor:",(function(e){return e.isLoading||e.isDisabled?"not-allowed":"pointer"}),";pointer-events:",(function(e){return e.isLoading||e.isDisabled?"none":null}),";height:",l,"px;width:",(function(e){return 2*l(e)}),"px;border-radius:",l,"px;&:hover,&:focus{outline:none;border-color:",(function(e){return e.theme.borderDark}),";}&:focus,&.focus-visible{outline:none;box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}"),p=Object(i.a)("span",{target:"ezmyi9u1",label:"Toggle"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",f,"px;transform:translateX(",d,"px);width:",b,"px;height:",b,"px;background:",(function(e){return e.isActive?e.theme.green400:e.theme.gray400}),";opacity:",(function(e){return e.isDisabled?.4:null}),";");t.a=c.a.forwardRef((function(e,t){return Object(s.f)(u,a()({},e,{forwardRef:t}))}))},2862:function(e,t,r){"use strict";r.r(t);var n=r(75),a=r.n(n),i=r(5),o=r.n(i),c=r(16),s=r.n(c),u=r(21),l=r.n(u),b=r(26),f=r.n(b),d=r(9),m=r.n(d),p=r(10),g=r.n(p),v=r(139),h=r.n(v),O=r(11),j=r.n(O),y=r(12),x=r.n(y),w=r(6),z=r.n(w),S=r(4),k=r(0),N=r(1),R=r.n(N),L=r(277),I=r(31),C=r(17),D=r(3),A=r(1586),E=r(618),P=r(35),M=r(619),F=r(1593),T=r(392),B=r(489),q=r(78),U=r(29),W=r(146),Y=r(8),H=r(28),J=r(24),V=r(186),X=r(279),_=r(101),G=r(50),K=r(1599);function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Z=function(e){j()(n,e);var t,r=(t=n,function(){var e,r=z()(t);if(Q()){var n=z()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return x()(this,e)});function n(){var e;m()(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).state={busy:!1},e.handleRemove=function(t){var r=e.props.onRemove;"function"==typeof r&&(e.setState({busy:!0}),r(e.props.member,t))},e.handleLeave=function(t){var r=e.props.onLeave;"function"==typeof r&&(e.setState({busy:!0}),r(e.props.member,t))},e.handleSendInvite=function(t){var r=e.props,n=r.onSendInvite,a=r.member;"function"==typeof n&&n(a,t)},e}return g()(n,[{key:"render",value:function(){var e=this.props,t=e.params,r=e.routes,n=e.member,a=e.orgName,i=e.status,o=e.requireLink,c=e.memberCanLeave,s=e.currentUser,u=e.canRemoveMembers,l=e.canAddMembers,b=n.id,f=n.flags,d=n.email,m=n.name,p=n.roleName,g=n.pending,v=n.expired,h=n.user,O=!f["sso:linked"]&&o,j=s.email===d,y=!j,x=j,w=u&&!j,z=h&&h.has2fa,S=Object(K.a)(b,{routes:r,params:t}),N="success"===i,L="loading"===i,I=g||O;return Object(k.f)($,{"data-test-id":d},Object(k.f)(te,null,Object(k.f)(V.a,{size:32,user:h||{id:d,email:d}}),Object(k.f)(re,{to:S},Object(k.f)("h5",{style:{margin:"0 0 3px"}},Object(k.f)(ne,null,m)),Object(k.f)(ae,null,d))),Object(k.f)("div",{"data-test-id":"member-role"},g?Object(k.f)(ie,null,Object(k.f)(C.U,{size:"md"}),v?Object(D.b)("Expired Invite"):Object(D.c)("Invited [roleName]",{roleName:p})):p),Object(k.f)("div",{"data-test-id":"member-status"},I?Object(k.f)(R.a.Fragment,null,L&&Object(k.f)(oe,null,Object(k.f)(G.default,{mini:!0})),N&&Object(k.f)("span",null,"Sent!"),!L&&!N&&Object(k.f)(U.a,{disabled:!l,priority:"primary",size:"small",onClick:this.handleSendInvite},g?Object(D.b)("Resend invite"):Object(D.b)("Resend SSO link"))):Object(k.f)(ce,null,z?Object(k.f)(C.j,{isCircled:!0,color:"success"}):Object(k.f)(C.C,{color:"error"}),z?Object(D.b)("2FA Enabled"):Object(D.b)("2FA Not Enabled"))),y||x?Object(k.f)("div",null,y&&w&&Object(k.f)(X.a,{message:Object(D.c)("Are you sure you want to remove [name] from [orgName]?",{name:m,orgName:a}),onConfirm:this.handleRemove,onSuccess:Object(D.c)("Removed [name] from [orgName]",{name:m,orgName:a}),onError:Object(D.c)("Error removing [name] from [orgName]",{name:m,orgName:a})},Object(k.f)(U.a,{"data-test-id":"remove",icon:Object(k.f)(C.xb,{isCircled:!0,size:"xs"}),size:"small",busy:this.state.busy},Object(D.b)("Remove"))),y&&!w&&Object(k.f)(U.a,{disabled:!0,size:"small",title:Object(D.b)("You do not have access to remove members"),icon:Object(k.f)(C.xb,{isCircled:!0,size:"xs"})},Object(D.b)("Remove")),x&&c&&Object(k.f)(X.a,{message:Object(D.c)("Are you sure you want to leave [orgName]?",{orgName:a}),onConfirm:this.handleLeave,onSuccess:Object(D.c)("Left [orgName]",{orgName:a}),onError:Object(D.c)("Error leaving [orgName]",{orgName:a})},Object(k.f)(U.a,{priority:"danger",size:"small",icon:Object(k.f)(C.o,{size:"xs"})},Object(D.b)("Leave"))),x&&!c&&Object(k.f)(U.a,{size:"small",icon:Object(k.f)(C.o,{size:"xs"}),disabled:!0,title:Object(D.b)("You cannot leave this organization as you are the only organization owner.")},Object(D.b)("Leave"))):null)}}]),n}(R.a.PureComponent);Z.displayName="OrganizationMemberRow";var $=Object(S.a)(L.f,{target:"e10yeuzg0",label:"StyledPanelItem"})("display:grid;grid-template-columns:minmax(150px,2fr) minmax(90px,1fr) minmax(120px,1fr) 90px;grid-gap:",Object(Y.a)(2),";align-items:center;"),ee=Object(S.a)("div",{target:"e10yeuzg1",label:"Section"})("display:inline-grid;grid-template-columns:max-content auto;grid-gap:",Object(Y.a)(1),";align-items:center;"),te=Object(S.a)(ee,{target:"e10yeuzg2",label:"MemberHeading"})(),re=Object(S.a)(_.a,{target:"e10yeuzg3",label:"MemberDescription"})({name:"i6bazn",styles:"overflow:hidden;"}),ne=Object(S.a)("div",{target:"e10yeuzg4",label:"UserName"})("display:block;font-size:",(function(e){return e.theme.fontSizeLarge}),";overflow:hidden;text-overflow:ellipsis;"),ae=Object(S.a)("div",{target:"e10yeuzg5",label:"Email"})("color:",(function(e){return e.theme.gray700}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";overflow:hidden;text-overflow:ellipsis;"),ie=Object(S.a)(ee,{target:"e10yeuzg6",label:"InvitedRole"})(),oe=Object(S.a)("div",{target:"e10yeuzg7",label:"LoadingContainer"})("margin-top:0;margin-bottom:",Object(Y.a)(1.5),";"),ce=Object(S.a)(ee,{target:"e10yeuzg8",label:"AuthStatus"})(),se=r(30),ue=r.n(se),le=r(286),be=r(1691),fe=r(486),de=function(e){return Array.isArray(e)?e&&e.map((function(e){return e.toLowerCase()})).includes("true"):null},me=function(e){var t=e.className,r=e.roles,n=e.query,a=e.onChange,i=Object(fe.c)(n),o={roles:i.getTags("role")||[],isInvited:de(i.getTags("isInvited")),ssoLinked:de(i.getTags("ssoLinked")),has2fa:de(i.getTags("has2fa"))},c=function(e){return function(){var t=new Set(i.getTags("role")?ue()(i.getTags("role")):[]);t.has(e)?t.delete(e):t.add(e);var r=i.copy();r.setTag("role",ue()(t)),a(Object(fe.b)(r))}},s=function(e){return function(t){var r=i.copy();r.removeTag(e),null!==t&&r.setTag(e,[Boolean(t).toString()]),a(Object(fe.b)(r))}};return Object(k.f)(ge,{className:t},Object(k.f)(ve,null,Object(D.b)("Filter By")),Object(k.f)(he,null,Object(k.f)(Oe,null,Object(k.f)("h3",null,Object(D.b)("User Role")),r.map((function(e){var t=e.id,r=e.name;return Object(k.f)("label",{key:t},Object(k.f)(le.a,{"data-test-id":"filter-role-".concat(t),checked:o.roles.includes(t),onChange:c(t)}),r)}))),Object(k.f)(Oe,null,Object(k.f)("h3",null,Object(D.b)("Status")),Object(k.f)(pe,{"data-test-id":"filter-isInvited",onChange:s("isInvited"),value:o.isInvited},Object(D.b)("Invited")),Object(k.f)(pe,{"data-test-id":"filter-has2fa",onChange:s("has2fa"),value:o.has2fa},Object(D.b)("2FA")),Object(k.f)(pe,{"data-test-id":"filter-ssoLinked",onChange:s("ssoLinked"),value:o.ssoLinked},Object(D.b)("SSO Linked")))))};me.displayName="MembersFilter";var pe=function(e){var t=e.onChange,r=e.value,n=e.children;return Object(k.f)("label",null,Object(k.f)(le.a,{checked:null!==r,onChange:function(){return t(null===r||null)}}),n,Object(k.f)(be.a,{isDisabled:null===r,isActive:!0===r,toggle:function(){return t(!r)}}))};pe.displayName="BooleanFilter";var ge=Object(S.a)("div",{target:"ehjw1av0",label:"FilterContainer"})("border-radius:4px;background:#fff;box-shadow:",(function(e){return e.theme.dropShadowLight}),";border:1px solid ",(function(e){return e.theme.borderLight}),";"),ve=Object(S.a)("h2",{target:"ehjw1av1",label:"FilterHeader"})("border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid ",(function(e){return e.theme.borderLight}),";background:",(function(e){return e.theme.gray100}),";color:",(function(e){return e.theme.gray600}),";text-transform:uppercase;font-size:",(function(e){return e.theme.fontSizeExtraSmall}),";padding:",Object(Y.a)(1),";margin:0;"),he=Object(S.a)("div",{target:"ehjw1av2",label:"FilterLists"})("display:grid;grid-template-columns:100px max-content;grid-gap:",Object(Y.a)(3),";margin:",Object(Y.a)(1.5),";margin-top:",Object(Y.a)(.75),";"),Oe=Object(S.a)("div",{target:"ehjw1av3",label:"Filters"})("display:grid;grid-template-rows:repeat(auto-fit,minmax(0,max-content));grid-gap:",Object(Y.a)(1),";font-size:",(function(e){return e.theme.fontSizeMedium}),";h3{color:#000;font-size:",(function(e){return e.theme.fontSizeSmall}),";text-transform:uppercase;margin:",Object(Y.a)(1)," 0;}label{display:grid;grid-template-columns:max-content 1fr max-content;grid-gap:",Object(Y.a)(.75),";align-items:center;font-weight:normal;white-space:nowrap;height:",Object(Y.a)(2),";}input,label{margin:0;}"),je=me;function ye(){var e=a()(["\n                font-size: ",";\n                padding: ",";\n              "]);return ye=function(){return e},e}function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Se=function(e){j()(n,e);var t,r=(t=n,function(){var e,r=z()(t);if(ze()){var n=z()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return x()(this,e)});function n(){var e;m()(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).removeMember=function(){var t=f()(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.params.orgId,t.next=3,e.api.requestPromise("/organizations/".concat(n,"/members/").concat(r,"/"),{method:"DELETE",data:{}});case 3:e.setState((function(e){return{members:e.members.filter((function(e){return e.id!==r}))}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRemove=function(){var t=f()(l.a.mark((function t(r){var n,a,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.name,i=e.props.organization,o=i.slug,t.prev=3,t.next=6,e.removeMember(n);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),Object(I.a)(Object(D.c)("Error removing [name] from [orgName]",{name:a,orgName:o})),t.abrupt("return");case 12:Object(I.d)(Object(D.c)("Removed [name] from [orgName]",{name:a,orgName:o}));case 13:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleLeave=function(){var t=f()(l.a.mark((function t(r){var n,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=e.props.organization,i=a.slug,t.prev=3,t.next=6,e.removeMember(n);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),Object(I.a)(Object(D.c)("Error leaving [orgName]",{orgName:i})),t.abrupt("return");case 12:Object(T.d)({orgId:i,removeOrg:!0}),Object(I.d)(Object(D.c)("You left [orgName]",{orgName:i}));case 14:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleSendInvite=function(){var t=f()(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.expired,e.setState((function(e){return{invited:we({},e.invited,s()({},n,"loading"))}})),t.prev=2,t.next=5,Object(B.d)(e.api,{orgId:e.props.params.orgId,memberId:n,regenerate:a});case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(2),e.setState((function(e){return{invited:we({},e.invited,s()({},n,null))}})),Object(I.a)(Object(D.b)("Error sending invite")),t.abrupt("return");case 12:e.setState((function(e){return{invited:we({},e.invited,s()({},n,"success"))}}));case 13:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return g()(n,[{key:"getDefaultState",value:function(){return we({},h()(z()(n.prototype),"getDefaultState",this).call(this),{members:[],invited:{}})}},{key:"getEndpoints",value:function(){var e=this.props.params.orgId;return[["members","/organizations/".concat(e,"/members/"),{},{paginate:!0}],["member","/organizations/".concat(e,"/members/me/"),{},{allowError:function(e){return 404===e.status}}],["authProvider","/organizations/".concat(e,"/auth-provider/"),{},{allowError:function(e){return 403===e.status}}]]}},{key:"getTitle",value:function(){var e=this.props.organization.slug;return Object(F.a)(Object(D.b)("Members"),e,!1)}},{key:"renderBody",value:function(){var e=this,t=this.props,r=t.params,n=t.organization,a=t.routes,i=this.state,c=i.membersPageLinks,s=i.members,u=i.member,l=n.name,b=n.access,f=b.includes("member:write"),d=b.includes("member:admin"),m=P.default.get("user"),p=!s.find((function(e){var t=e.role,r=e.email,n=e.pending;return"owner"===t&&r!==m.email&&!n})),g=!!this.state.authProvider&&this.state.authProvider.require_link,v=function(e){var t=e.defaultSearchBar,r=e.value,n=e.handleChange;return Object(k.f)(ke,null,t,Object(k.f)(W.a,{closeOnEscape:!0},(function(e){var t=e.getActorProps,a=e.isOpen;return Object(k.f)(Ne,null,Object(k.f)(U.a,o()({size:"small",icon:Object(k.f)(C.sb,{size:"xs"})},t({})),Object(D.b)("Search Filters")),a&&Object(k.f)(Re,{roles:u.roles||H.B,query:r,onChange:function(e){return n(e)}}))})))};return Object(k.f)(R.a.Fragment,null,Object(k.f)(k.b,null,(function(t){var r=t.css;return e.renderSearchInput({updateRoute:!0,placeholder:Object(D.b)("Search Members"),children:v,className:r(ye(),J.a.fontSizeMedium,Object(Y.a)(.75))})})),Object(k.f)(L.a,{"data-test-id":"org-member-list"},Object(k.f)(L.e,null,Object(D.b)("Members")),Object(k.f)(L.c,null,s.map((function(t){return Object(k.f)(Z,{routes:a,params:r,key:t.id,member:t,status:e.state.invited[t.id],orgId:r.orgId,orgName:l,memberCanLeave:!p,currentUser:m,canRemoveMembers:d,canAddMembers:f,requireLink:g,onSendInvite:e.handleSendInvite,onRemove:e.handleRemove,onLeave:e.handleLeave})})),0===s.length&&Object(k.f)(E.a,null,Object(D.b)("No members found.")))),Object(k.f)(M.a,{pageLinks:c}))}}]),n}(A.a),ke=Object(S.a)("div",{target:"e1aebs7b0",label:"SearchWrapper"})("display:grid;grid-template-columns:1fr max-content;grid-gap:",Object(Y.a)(1.5),";margin-bottom:",Object(Y.a)(3),";position:relative;"),Ne=Object(S.a)("div",{target:"e1aebs7b1",label:"FilterWrapper"})({name:"79elbk",styles:"position:relative;"}),Re=Object(S.a)(je,{target:"e1aebs7b2",label:"StyledMembersFilter"})("position:absolute;right:0;top:42px;z-index:",(function(e){return e.theme.zIndex.dropdown}),";&:before,&:after{position:absolute;top:-16px;right:32px;content:'';height:16px;width:16px;border:8px solid transparent;border-bottom-color:",(function(e){return e.theme.gray100}),";}&:before{margin-top:-1px;border-bottom-color:",(function(e){return e.theme.borderLight}),";}");t.default=Object(q.a)(Se)}}]);
//# sourceMappingURL=OrganizationMembersList.js.map