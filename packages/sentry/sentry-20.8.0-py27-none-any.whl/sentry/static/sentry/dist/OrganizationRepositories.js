(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[129],{1586:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(9),o=n.n(r),a=n(10),i=n.n(a),c=n(11),s=n.n(c),u=n(12),l=n.n(u),f=n(6),b=n.n(f),p=n(278),d=n.n(p),y=(n(1),n(1587)),h=n(0);function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var j=function(t){s()(r,t);var e,n=(e=r,function(){var t,n=b()(e);if(O()){var r=b()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l()(this,t)});function r(){return o()(this,r),n.apply(this,arguments)}return i()(r,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(h.f)(d.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),r}(y.a);j.displayName="AsyncView"},1588:function(t,e,n){"use strict";var r=n(15),o=n.n(r),a=n(9),i=n.n(a),c=n(10),s=n.n(c),u=n(11),l=n.n(u),f=n(12),b=n.n(f),p=n(6),d=n.n(p),y=n(4),h=n(1),O=n.n(h),j=n(8),g=n(221),m=n(0);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var R=function(t){l()(r,t);var e,n=(e=r,function(){var t,n=d()(e);if(v()){var r=d()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return b()(this,t)});function r(){return i()(this,r),n.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var t=this.props,e=t.icon,n=t.title,r=t.action,a=t.tabs,i=t.noTitleStyles,c=o()(t,["icon","title","action","tabs","noTitleStyles"]);return Object(m.f)("div",c,Object(m.f)(w,null,e&&Object(m.f)(I,null,e),n&&Object(m.f)(S,{tabs:a,styled:i},Object(m.f)(g.a,null,n)),r&&Object(m.f)(k,{tabs:a},r)),a&&Object(m.f)("div",null,a))}}]),r}(O.a.Component);R.displayName="SettingsPageHeading",R.defaultProps={noTitleStyles:!1};var w=Object(y.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),S=Object(y.a)("div",{target:"e1uay4fd1",label:"Title"})((function(t){return!t.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(t){return t.tabs?"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(2)," 0"):"".concat(Object(j.a)(4)," ").concat(Object(j.a)(2)," ").concat(Object(j.a)(4)," 0")}),";flex:1;"),I=Object(y.a)("div",{target:"e1uay4fd2",label:"Icon"})("margin-right:",Object(j.a)(1),";"),k=Object(y.a)("div",{target:"e1uay4fd3",label:"Action"})((function(t){return t.tabs?"margin-top: ".concat(Object(j.a)(2)):null}),";"),D=Object(y.a)(R,{target:"e1uay4fd4",label:"StyledSettingsPageHeading"})("font-size:14px;margin-top:-",Object(j.a)(4),";");e.a=D},1593:function(t,e,n){"use strict";e.a=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="".concat(t," - ").concat(e);return n?"".concat(r," - Sentry"):r}},1706:function(t,e,n){"use strict";var r=n(5),o=n.n(r),a=n(15),i=n.n(a),c=n(9),s=n.n(c),u=n(10),l=n.n(u),f=n(11),b=n.n(f),p=n(12),d=n.n(p),y=n(6),h=n.n(y),O=n(4),j=n(1),g=n.n(j),m=n(182),v=n.n(m),R=n(101),w=n(79),S=n(17),I=n(8),k=n(0);function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var P=function(t){b()(r,t);var e,n=(e=r,function(){var t,n=h()(e);if(D()){var r=h()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d()(this,t)});function r(){return s()(this,r),n.apply(this,arguments)}return l()(r,[{key:"render",value:function(){var t=this.props,e=t.size,n=t.priority,r=t.icon,o=t.children,a=t.onClick,i=t.withoutMarginBottom,c=t.openInNewTab,s=t.to,u=t.href;return Object(k.f)(L,{to:s,href:u,onClick:a,size:e,priority:n,withoutMarginBottom:i,openInNewTab:c},r&&Object(k.f)(T,null,r),Object(k.f)(A,null,o),Object(k.f)(x,null,Object(k.f)(S.k,{direction:"right"})))}}]),r}(g.a.Component);P.displayName="AlertLink",P.defaultProps={priority:"warning",size:"normal",withoutMarginBottom:!1,openInNewTab:!1},e.a=P;var L=Object(O.a)((function(t){var e=t.openInNewTab,n=t.to,r=t.href,a=i()(t,["openInNewTab","to","href"]),c=v()(a,["withoutMarginBottom","priority","size"]);return r?Object(k.f)(w.a,o()({},c,{href:r,openInNewTab:e})):Object(k.f)(R.a,o()({},c,{to:n||""}))}),{target:"e1ylhppg0",label:"StyledLink"})("display:flex;background-color:",(function(t){return t.theme.alert[t.priority].backgroundLight}),";color:",(function(t){return t.theme.gray700}),";border:1px dashed ",(function(t){return t.theme.alert[t.priority].border}),";padding:",(function(t){return"small"===t.size?"".concat(Object(I.a)(1)," ").concat(Object(I.a)(1.5)):Object(I.a)(2)}),";margin-bottom:",(function(t){return t.withoutMarginBottom?0:Object(I.a)(3)}),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(function(t){return t.theme.alert[t.priority].border}),"7f 0 0 0 2px;}"),T=Object(O.a)("span",{target:"e1ylhppg1",label:"IconWrapper"})("display:flex;margin:",Object(I.a)(.5)," ",Object(I.a)(1.5)," ",Object(I.a)(.5)," 0;"),x=Object(O.a)(T,{target:"e1ylhppg2",label:"IconLink"})("margin:",Object(I.a)(.5)," 0;"),A=Object(O.a)("div",{target:"e1ylhppg3",label:"AlertLinkText"})({name:"56nju3",styles:"line-height:1.5;flex-grow:1;"})},1982:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n(51),o=n(31),a=n(3);new r.a;function i(t,e,n){Object(o.b)();var r=t.requestPromise("/organizations/".concat(e,"/repos/").concat(n,"/"),{method:"DELETE"});return r.then((function(){return Object(o.e)()}),(function(){return Object(o.a)(Object(a.b)("Unable to delete repository."))})),r}function c(t,e,n){Object(o.b)();var r=t.requestPromise("/organizations/".concat(e,"/repos/").concat(n,"/"),{method:"PUT",data:{status:"visible"}});return r.then((function(){return Object(o.e)()}),(function(){return Object(o.a)(Object(a.b)("Unable to cancel deletion."))})),r}function s(t){return t.then((function(t){var e=Object(a.c)("[repo] has been successfully added.",{repo:t.name});Object(o.d)(e)}),(function(t){var e=t.responseJSON.errors?t.responseJSON.errors.__all__:Object(a.b)("Unable to add repository.");Object(o.a)(e)})),t}function u(t,e,n,r){var a={integrationId:r.id};return Object(o.b)(),s(t.requestPromise("/organizations/".concat(e,"/repos/").concat(n,"/"),{data:a,method:"PUT"}))}function l(t,e,n,r){var a={installation:r.id,identifier:n,provider:"integrations:".concat(r.provider.key)};return Object(o.b)(),s(t.requestPromise("/organizations/".concat(e,"/repos/"),{method:"POST",data:a}))}},2035:function(t,e,n){"use strict";var r=n(9),o=n.n(r),a=n(10),i=n.n(a),c=n(11),s=n.n(c),u=n(12),l=n.n(u),f=n(6),b=n.n(f),p=n(4),d=n(1),y=n.n(d),h=n(277),O=n(52),j=n(1982),g=n(3),m=n(377),v=n(29),R=n(279),w=n(17),S=n(8),I=n(39),k=n(0);function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var P=function(t){s()(r,t);var e,n=(e=r,function(){var t,n=b()(e);if(D()){var r=b()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l()(this,t)});function r(){var t;o()(this,r);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).cancelDelete=function(){var e=t.props,n=e.api,r=e.orgId,o=e.repository,a=e.onRepositoryChange;Object(j.b)(n,r,o.id).then((function(t){a&&a(t)}),(function(){}))},t.deleteRepo=function(){var e=t.props,n=e.api,r=e.orgId,o=e.repository,a=e.onRepositoryChange;Object(j.c)(n,r,o.id).then((function(t){a&&a(t)}),(function(){}))},t}return i()(r,[{key:"getStatusLabel",value:function(t){switch(t.status){case O.c.PENDING_DELETION:return"Deletion Queued";case O.c.DELETION_IN_PROGRESS:return"Deletion in Progress";case O.c.DISABLED:case O.c.HIDDEN:return"Disabled";default:return null}}},{key:"render",value:function(){var t=this,e=this.props,n=e.repository,r=e.showProvider,o=this.isActive;return Object(k.f)(m.a,{access:["org:integrations"]},(function(e){var a=e.hasAccess;return Object(k.f)(L,{status:n.status},Object(k.f)(x,null,Object(k.f)(A,null,Object(k.f)("strong",null,n.name),!o&&Object(k.f)("small",null," — ",t.getStatusLabel(n)),n.status===O.c.PENDING_DELETION&&Object(k.f)(T,{size:"xsmall",onClick:t.cancelDelete,disabled:!a,"data-test-id":"repo-cancel"},Object(g.b)("Cancel"))),Object(k.f)("div",null,r&&Object(k.f)("small",null,n.provider.name),r&&n.url&&Object(k.f)("span",null," — "),n.url&&Object(k.f)("small",null,Object(k.f)("a",{href:n.url},n.url.replace("https://",""))))),Object(k.f)(I.a,{title:Object(g.b)("You must be an organization owner, manager or admin to remove a repository."),disabled:a},Object(k.f)(R.a,{disabled:!a||!o&&n.status!==O.c.DISABLED,onConfirm:t.deleteRepo,message:Object(g.b)("Are you sure you want to remove this repository? All associated commit data will be removed in addition to the repository.")},Object(k.f)(v.a,{size:"xsmall",icon:Object(k.f)(w.s,{size:"xs"}),label:Object(g.b)("delete"),disabled:!a}))))}))}},{key:"isActive",get:function(){return this.props.repository.status===O.c.ACTIVE}}]),r}(y.a.Component);P.displayName="RepositoryRow",P.defaultProps={showProvider:!1};var L=Object(p.a)(h.f,{target:"e1ymnanf0",label:"StyledPanelItem"})("padding:",Object(S.a)(1)," ",Object(S.a)(2)," ",Object(S.a)(2),";justify-content:space-between;align-items:center;flex:1;",(function(t){return t.status===O.c.DISABLED&&"\n    filter: grayscale(1);\n    opacity: 0.4;\n  "}),";&:last-child{border-bottom:none;}"),T=Object(p.a)(v.a,{target:"e1ymnanf1",label:"StyledButton"})("margin-left:",Object(S.a)(1),";"),x=Object(p.a)("div",{target:"e1ymnanf2",label:"RepositoryTitleAndUrl"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),A=Object(p.a)("div",{target:"e1ymnanf3",label:"RepositoryTitle"})("margin-bottom:",Object(S.a)(1),";line-height:26px;");e.a=P},2877:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return z}));var r=n(5),o=n.n(r),a=n(9),i=n.n(a),c=n(10),s=n.n(c),u=n(11),l=n.n(u),f=n(12),b=n.n(f),p=n(6),d=n.n(p),y=n(1),h=n.n(y),O=n(25),j=n(1586),g=n(619),m=n(3),v=n(1593),R=n(1706),w=n(29),S=n(2035),I=n(277),k=n(17),D=n(1588),P=n(620),L=n(618),T=n(0),x=function(t){var e=t.itemList,n=t.onRepositoryChange,r=t.api,o=t.params.orgId,a=e&&e.length>0;return Object(T.f)("div",null,Object(T.f)(D.a,{title:Object(m.b)("Repositories")}),Object(T.f)(R.a,{to:"/settings/".concat(o,"/integrations/")},Object(m.b)("Want to add a repository to start tracking commits? Install or configure your version control integration here.")),!a&&Object(T.f)("div",{className:"m-b-2"},Object(T.f)(P.a,null,Object(m.b)("Connecting a repository allows Sentry to capture commit data via webhooks. This enables features like suggested assignees and resolving issues via commit message. Once you've connected a repository, you can associate commits with releases via the API.")," ",Object(m.c)("See our [link:documentation] for more details.",{link:Object(T.f)("a",{href:"https://docs.sentry.io/learn/releases/"})}))),a?Object(T.f)(I.a,null,Object(T.f)(I.e,null,Object(m.b)("Added Repositories")),Object(T.f)(I.c,null,Object(T.f)("div",null,e.map((function(t){return Object(T.f)(S.a,{key:t.id,repository:t,api:r,showProvider:!0,orgId:o,onRepositoryChange:n})}))))):Object(T.f)(I.a,null,Object(T.f)(L.a,{icon:Object(T.f)(k.q,{size:"xl"}),title:Object(m.b)("Sentry is better with commit data"),description:Object(m.b)("Adding one or more repositories will enable enhanced releases and the ability to resolve Sentry Issues via git message."),action:Object(T.f)(w.a,{href:"https://docs.sentry.io/learn/releases/"},Object(m.b)("Learn more"))})))};x.displayName="OrganizationRepositories";var A=x;function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var z=function(t){l()(r,t);var e,n=(e=r,function(){var t,n=d()(e);if(N()){var r=d()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return b()(this,t)});function r(){var t;i()(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).onRepositoryChange=function(e){var n=t.state.itemList;n.forEach((function(t){t.id===e.id&&(t.status=e.status)})),t.setState({itemList:n})},t.onAddRepo=function(e){var n=t.state.itemList;n.push(e),t.setState({itemList:Object(O.u)(n,(function(t){return t.name}))})},t}return s()(r,[{key:"getEndpoints",value:function(){var t=this.props.params.orgId;return[["itemList","/organizations/".concat(t,"/repos/"),{query:{status:""}}],["repoConfig","/organizations/".concat(t,"/config/repos/")]]}},{key:"getTitle",value:function(){var t=this.props.params.orgId;return Object(v.a)(Object(m.b)("Repositories"),t,!1)}},{key:"renderBody",value:function(){return Object(T.f)(h.a.Fragment,null,Object(T.f)(A,o()({},this.props,this.state,{api:this.api,onAddRepo:this.onAddRepo,onRepositoryChange:this.onRepositoryChange})),this.state.itemListPageLinks&&Object(T.f)(g.a,o()({pageLinks:this.state.itemListPageLinks},this.props)))}}]),r}(j.a)}}]);
//# sourceMappingURL=OrganizationRepositories.js.map