(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[50],{1586:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(9),a=n.n(r),s=n(10),i=n.n(s),o=n(11),c=n.n(o),u=n(12),l=n.n(u),f=n(6),h=n.n(f),p=n(278),d=n.n(p),b=(n(1),n(1587)),y=n(0);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var j=function(t){c()(r,t);var e,n=(e=r,function(){var t,n=h()(e);if(v()){var r=h()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l()(this,t)});function r(){return a()(this,r),n.apply(this,arguments)}return i()(r,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(y.f)(d.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),r}(b.a);j.displayName="AsyncView"},1943:function(t,e,n){"use strict";var r=n(41),a=n.n(r),s=n(9),i=n.n(s),o=n(10),c=n.n(o),u=n(11),l=n.n(u),f=n(12),h=n.n(f),p=n(6),d=n.n(p),b=n(1),y=n.n(b),v=n(649),j=n(183),O=n(50),m=n(56),g=n(0);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var w=function(t){l()(r,t);var e,n=(e=r,function(){var t,n=d()(e);if(k()){var r=d()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return h()(this,t)});function r(){var t;i()(this,r);for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=n.call.apply(n,[this].concat(a))).state={error:!1,loading:!0,data:null},t}return c()(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"shouldComponentUpdate",value:function(t,e){return this.state.loading!==e.loading}},{key:"componentDidUpdate",value:function(t){t.since===this.props.since&&t.stat===this.props.stat&&t.resolution===this.props.resolution||this.fetchData()}},{key:"fetchData",value:function(){var t=this;this.setState({loading:!0}),this.props.api.request("/internal/stats/",{method:"GET",data:{since:this.props.since,resolution:this.props.resolution,key:this.props.stat},success:function(e){return t.setState({data:e,loading:!1,error:!1})},error:function(){return t.setState({error:!0})}})}},{key:"getChartPoints",value:function(){return this.state.data.map((function(t){var e=a()(t,2);return{x:e[0],y:e[1]}}))}},{key:"render",value:function(){return this.state.loading?Object(g.f)(O.default,null):this.state.error?Object(g.f)(j.a,{onRetry:this.fetchData}):Object(g.f)(v.a,{points:this.getChartPoints(),className:"standard-barchart",label:this.props.label,height:this.props.height})}}]),r}(y.a.Component);w.displayName="InternalStatChart",w.defaultProps={height:150},e.a=Object(m.a)(w)},2793:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return S}));var r=n(30),a=n.n(r),s=n(16),i=n.n(s),o=n(9),c=n.n(o),u=n(10),l=n.n(u),f=n(139),h=n.n(f),p=n(11),d=n.n(p),b=n(12),y=n.n(b),v=n(6),j=n.n(v),O=(n(1),n(1586)),m=n(1943),g=n(37),k=n(0);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var S=function(t){d()(r,t);var e,n=(e=r,function(){var t,n=j()(e);if(D()){var r=j()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return y()(this,t)});function r(){var t;c()(this,r);for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=n.call.apply(n,[this].concat(a))).changeTask=function(e){t.setState({activeTask:e})},t}return l()(r,[{key:"getDefaultState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},h()(j()(r.prototype),"getDefaultState",this).call(this),{timeWindow:"1w",since:(new Date).getTime()/1e3-604800,resolution:"1h",taskName:null})}},{key:"getEndpoints",value:function(){return[["taskList","/internal/queue/tasks/"]]}},{key:"changeWindow",value:function(t){var e;if("1h"===t)e=3600;else if("1d"===t)e=86400;else{if("1w"!==t)throw new Error("Invalid time window");e=604800}this.setState({since:(new Date).getTime()/1e3-e,timeWindow:t})}},{key:"renderBody",value:function(){var t,e=this,n=this.state,r=n.activeTask,s=n.taskList;return Object(k.f)("div",null,Object(k.f)("div",{className:"btn-group pull-right"},["1h","1d","1w"].map((function(t){return Object(k.f)("a",{className:"btn btn-sm ".concat(t===e.state.timeWindow?"btn-primary":"btn-default"),onClick:function(){return e.changeWindow(t)},key:t},t)}))),Object(k.f)("h3",{className:"no-border"},"Queue Overview"),Object(k.f)("div",{className:"box"},Object(k.f)("div",{className:"box-header"},Object(k.f)("h3",null,"Global Throughput")),Object(k.f)(m.a,{since:this.state.since,resolution:this.state.resolution,stat:"jobs.all.started",label:"jobs started"})),Object(k.f)("h3",{className:"no-border"},"Task Details"),Object(k.f)("div",null,Object(k.f)("div",null,Object(k.f)("label",null,"Show details for task:"),Object(k.f)(g.SelectField,{deprecatedSelectControl:!0,name:"task",onChange:this.changeTask,value:r,allowClear:!0,choices:(t=[""]).concat.apply(t,a()(s)).map((function(t){return[t,t]}))})),r?Object(k.f)("div",null,Object(k.f)("div",{className:"box box-mini",key:"jobs.started"},Object(k.f)("div",{className:"box-header"},"Jobs Started ",Object(k.f)("small",null,r)),Object(k.f)(m.a,{since:this.state.since,resolution:this.state.resolution,stat:"jobs.started.".concat(this.state.activeTask),label:"jobs",height:100})),Object(k.f)("div",{className:"box box-mini",key:"jobs.finished"},Object(k.f)("div",{className:"box-header"},"Jobs Finished ",Object(k.f)("small",null,r)),Object(k.f)(m.a,{since:this.state.since,resolution:this.state.resolution,stat:"jobs.finished.".concat(this.state.activeTask),label:"jobs",height:100}))):null))}}]),r}(O.a)}}]);
//# sourceMappingURL=AdminQueue.js.map