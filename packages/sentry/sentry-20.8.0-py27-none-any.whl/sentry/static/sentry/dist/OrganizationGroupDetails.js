(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[115],{1599:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(629),a=n.n(r),i=n(484);function o(e,t){var n,r,o,s,c=t.routes,u=t.params,l=t.location,f=t.stepBack,p=c.map((function(e){return e.path||""}));"string"!=typeof e?(s=c.indexOf(e)+1,o=a()(p.slice(0,s),(function(e){return"/"===e[0]}))):o=a()(p,(function(e){return"/"===e[0]}));var d=p.slice(o,s);void 0!==f&&(d=d.slice(0,f));var b=null!==(n=null==l?void 0:l.search)&&void 0!==n?n:"",h=null!==(r=null==l?void 0:l.hash)&&void 0!==r?r:"",g="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(b).concat(h);return Object(i.a)(g,u)}},1615:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=(n(1),n(46)),c=n.n(s),u=n(0);function l(e){var t=e.underlined,n=e.className,r=o()(e,["underlined","className"]),i=c()("nav nav-tabs",n,{"border-bottom":t});return Object(u.f)("ul",a()({className:i},r))}l.displayName="NavTabs",t.a=l},1625:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(9),o=n.n(i),s=n(10),c=n.n(s),u=n(11),l=n.n(u),f=n(12),p=n.n(f),d=n(6),b=n.n(d),h=n(2),g=n.n(h),v=n(1),m=n.n(v),j=n(182),O=n.n(j),y=n(7),k=n(46),w=n.n(k),x=n(0);function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var D=function(e){l()(r,e);var t,n=(t=r,function(){var e,n=b()(t);if(S()){var r=b()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p()(this,e)});function r(){var e;o()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).isActive=function(){var t=e.props,n=t.isActive,r=t.to,a=t.query,i=t.index;return(n||e.context.router.isActive)({pathname:r,query:a},i)},e.getClassName=function(){var t={},n=e.props,r=n.className,a=n.activeClassName;return r&&(t[r]=!0),e.isActive()&&(t[a]=!0),w()(t)},e}return c()(r,[{key:"render",value:function(){var e=this.props,t=e.index,n=e.children,r=O()(this.props,"activeClassName","isActive","index");return Object(x.f)("li",{className:this.getClassName()},Object(x.f)(y.Link,a()({},r,{onlyActiveOnIndex:t}),n))}}]),r}(m.a.Component);D.displayName="ListLink",D.displayName="ListLink",D.contextTypes={router:g.a.object.isRequired},D.defaultProps={activeClassName:"active",index:!1},t.a=D},1688:function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(4),o=n(2),s=n.n(o),c=(n(1),n(8)),u=n(24),l=n(0),f={new:u.a.red400,strong:u.a.blue400,highlight:u.a.green400},p=Object(i.a)((function(e){e.priority;var t=e.text,n=a()(e,["priority","text"]);return Object(l.f)("span",n,t)}),{target:"eee69uk0",label:"Badge"})("display:inline-block;height:20px;min-width:20px;line-height:20px;border-radius:20px;padding:0 5px;margin-left:",Object(c.a)(.5),";font-size:75%;font-weight:600;text-align:center;color:#fff;background:",(function(e){return e.priority?f[e.priority]:u.a.gray400}),";transition:background 100ms linear;position:relative;top:-1px;");p.propTypes={text:s.a.oneOfType([s.a.string,s.a.number]),priority:s.a.oneOf(["strong","new","highlight"])},t.a=p},1690:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return y}));var r=n(9),a=n.n(r),i=n(10),o=n.n(i),s=n(11),c=n.n(s),u=n(12),l=n.n(u),f=n(6),p=n.n(f),d=n(4),b=n(1),h=n.n(b),g=n(0),v=n(186),m=n(39);function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){c()(r,e);var t,n=(t=r,function(){var e,n=p()(t);if(j()){var r=p()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l()(this,e)});function r(){return a()(this,r),n.apply(this,arguments)}return o()(r,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.users,r=e.avatarSize,a=e.maxVisibleAvatars,i=e.renderTooltip,o=e.typeMembers,s=e.tooltipOptions,c=n.slice(0,a),u=n.length-c.length;return s.position||(s.position="top"),Object(g.f)(y,{className:t},!!u&&Object(g.f)(m.a,{title:"".concat(u," other ").concat(o)},Object(g.f)(x,{size:r},u<99&&Object(g.f)(S,null,"+"),u)),c.map((function(e){return Object(g.f)(w,{key:"".concat(e.id,"-").concat(e.email),user:e,size:r,renderTooltip:i,tooltipOptions:s,hasTooltip:!0})})))}}]),r}(h.a.Component);O.displayName="AvatarList",O.defaultProps={avatarSize:28,maxVisibleAvatars:5,typeMembers:"users",tooltipOptions:{}};var y=Object(d.a)("div",{target:"e1mtf41h0",label:"AvatarListWrapper"})({name:"l256j9",styles:"display:flex;flex-direction:row-reverse;"}),k={name:"1truf70-Circle",styles:"border-radius:50%;border:2px solid white;margin-left:-8px;cursor:default;&:hover{z-index:1;};label:Circle;"},w=Object(d.a)(v.a,{target:"e1mtf41h1",label:"StyledAvatar"})("overflow:hidden;",k,";"),x=Object(d.a)("div",{target:"e1mtf41h2",label:"CollapsedUsers"})("display:flex;align-items:center;justify-content:center;position:relative;text-align:center;font-weight:600;background-color:",(function(e){return e.theme.gray300}),";color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return Math.floor(e.size/2.3)}),"px;width:",(function(e){return e.size}),"px;height:",(function(e){return e.size}),"px;",k,";"),S=Object(d.a)("span",{target:"e1mtf41h3",label:"Plus"})({name:"3427wc",styles:"font-size:10px;margin-left:1px;margin-right:-1px;"})},1691:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(4),o=n(1),s=n.n(o),c=n(0),u=function(e){var t=e.forwardRef,n=e.size,r=void 0===n?"sm":n,a=e.isActive,i=e.isLoading,o=e.isDisabled,s=e.toggle,u=e.id,l=e.name,f=e.className;return Object(c.f)(b,{ref:t,id:u,name:l,type:"button",className:f,onClick:o?void 0:s,role:"checkbox","aria-checked":a,isLoading:i,isDisabled:o,isActive:a,size:r,"data-test-id":"switch"},Object(c.f)(h,{isDisabled:o,isActive:a,size:r}))};u.displayName="Switch";var l=function(e){return"sm"===e.size?16:24},f=function(e){return l(e)-("sm"===e.size?6:10)},p=function(e){return"sm"===e.size?2:4},d=function(e){return e.isActive?p(e)+l(e):p(e)},b=Object(i.a)("button",{target:"ezmyi9u0",label:"SwitchButton"})("display:inline-block;background:none;padding:0;border:1px solid ",(function(e){return e.isActive?e.theme.borderDark:e.theme.borderLight}),";position:relative;box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);transition:0.15s border ease;cursor:",(function(e){return e.isLoading||e.isDisabled?"not-allowed":"pointer"}),";pointer-events:",(function(e){return e.isLoading||e.isDisabled?"none":null}),";height:",l,"px;width:",(function(e){return 2*l(e)}),"px;border-radius:",l,"px;&:hover,&:focus{outline:none;border-color:",(function(e){return e.theme.borderDark}),";}&:focus,&.focus-visible{outline:none;box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}"),h=Object(i.a)("span",{target:"ezmyi9u1",label:"Toggle"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",p,"px;transform:translateX(",d,"px);width:",f,"px;height:",f,"px;background:",(function(e){return e.isActive?e.theme.green400:e.theme.gray400}),";opacity:",(function(e){return e.isDisabled?.4:null}),";");t.a=s.a.forwardRef((function(e,t){return Object(c.f)(u,a()({},e,{forwardRef:t}))}))},1694:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=n(9),c=n.n(s),u=n(10),l=n.n(u),f=n(11),p=n.n(f),d=n(12),b=n.n(d),h=n(6),g=n.n(h),v=n(1),m=n.n(v),j=n(46),O=n.n(j),y=n(279),k=n(0);function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(w()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(){return c()(this,r),n.apply(this,arguments)}return l()(r,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.title,i=e.children,s=o()(e,["className","disabled","title","children"]);return Object(k.f)(y.a,a()({},s,{disabled:n}),Object(k.f)("a",{href:"#",className:O()(t||"",{disabled:n}),title:r},i))}}]),r}(m.a.PureComponent);x.displayName="LinkWithConfirmation",t.a=x},1759:function(e,t,n){"use strict";var r=n(4);function a(e){var t=e.level,n=void 0===t?"":t,r=e.theme,a={error:r.orange400,info:r.blue400,warning:r.orange300,fatal:r.red400,sample:r.purple400};return"background-color: ".concat(a[n]||r.orange400,";")}var i=Object(r.a)("span",{target:"e142pgwl0",label:"ErrorLevel"})("padding:0;position:relative;width:",(function(e){return e.size||"13px"}),";height:",(function(e){return e.size||"13px"}),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;",a);t.a=i},1884:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=(n(1),n(46)),c=n.n(s),u=n(0),l=function(e){var t=e.responsive,n=void 0!==t&&t,r=e.center,i=void 0===r||r,s=e.children,l=e.className,f=o()(e,["responsive","center","children","className"]),p=c()("spread-layout",l,{center:i,"allow-responsive":n});return Object(u.f)("div",a()({},f,{className:p}),s)};l.displayName="SpreadLayout",t.a=l},1924:function(e,t,n){"use strict";var r=n(4),a=(n(1),n(1759)),i=n(83),o=n(8),s=n(0),c=function(e){var t=e.className,n=e.level,r=e.levelIndicatorSize,a=e.message,i=e.annotations;return Object(s.f)("div",{className:t},n&&Object(s.f)(l,{size:r,level:n},n),a&&Object(s.f)(f,null,a),i)};c.displayName="EventMessage";var u=Object(r.a)(c,{target:"e1vuddz00",label:"StyledEventMessage"})("display:flex;align-items:center;position:relative;line-height:1.2;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){margin-bottom:",Object(o.a)(2),";}"),l=Object(r.a)(a.a,{target:"e1vuddz01",label:"StyledErrorLevel"})("margin-right:",Object(o.a)(1),";"),f=Object(r.a)("span",{target:"e1vuddz02",label:"Message"})(i.a," width:auto;max-height:38px;");t.a=u},1932:function(e,t,n){"use strict";var r=n(4),a=n(1),i=n.n(a),o=n(46),s=n.n(o),c=n(44),u=n.n(c),l=n(3),f=n(17),p=n(140),d=n(1690),b=n(35),h=n(39),g=n(8),v=n(0),m=function(e){var t=e.avatarSize,n=void 0===t?28:t,r=e.seenBy,a=void 0===r?[]:r,o=e.iconTooltip,c=void 0===o?Object(l.b)("People who have viewed this"):o,g=e.maxVisibleAvatars,m=void 0===g?10:g,y=e.iconPosition,k=void 0===y?"left":y,w=e.className,x=b.default.get("user"),S=a.filter((function(e){return x.id!==e.id}));return 0===S.length?null:Object(v.f)(j,{iconPosition:k,className:s()("seen-by",w)},Object(v.f)(d.b,{users:S,avatarSize:n,maxVisibleAvatars:m,renderTooltip:function(e){return Object(v.f)(i.a.Fragment,null,Object(p.l)(e),Object(v.f)("br",null),u()(e.lastSeen).format("LL"))}}),Object(v.f)(O,{iconPosition:k},Object(v.f)(h.a,{title:c},Object(v.f)(f.qb,{size:"sm",color:"gray400"}))))};m.displayName="SeenByList";var j=Object(r.a)("div",{target:"e13v00xx0",label:"SeenByWrapper"})("display:flex;margin-top:15px;float:right;",(function(e){return"left"===e.iconPosition?"flex-direction: row-reverse":""}),";"),O=Object(r.a)("div",{target:"e13v00xx1",label:"IconWrapper"})("background-color:transparent;color:",(function(e){return e.theme.gray700}),";height:28px;width:24px;line-height:26px;text-align:center;padding-top:",Object(g.a)(.5),";",(function(e){return"left"===e.iconPosition?"margin-right: 10px":""}),";");t.a=m},1933:function(e,t,n){"use strict";var r=n(4),a=n(2),i=n.n(a),o=Object(r.a)("div",{target:"e1uibv5p0",label:"FlowLayout"})("display:flex;flex:1;align-items:center;flex-direction:",(function(e){return e.vertical?"column":null}),";justify-content:",(function(e){return e.center?"center":null}),";overflow:",(function(e){return e.truncate?"hidden":null}),";");o.propTypes={center:i.a.bool,vertical:i.a.bool,truncate:i.a.bool},o.defaultProps={truncate:!0},t.a=o},1934:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h}));var r=n(21),a=n.n(r),i=n(26),o=n.n(i),s=(n(1),n(3)),c=n(51),u=n(0);function l(e,t,n,r,a,i){return f.apply(this,arguments)}function f(){return(f=o()(a.a.mark((function e(t,n,r,i,o,s){var c,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="latest"===o||"oldest"===o?"/issues/".concat(i,"/events/").concat(o,"/"):"/projects/".concat(n,"/").concat(r,"/events/").concat(o,"/"),u={},0!==s.length&&(u.environment=s),e.prev=3,e.next=6,t.requestPromise(c,{query:u});case 6:return l=e.sent,t.bulkUpdate({orgId:n,projectId:r,itemIds:[i],failSilently:!0,data:{hasSeen:!0}}),e.abrupt("return",l);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function p(e,t){return(new c.a).requestPromise("/issues/".concat(e,"/user-reports/"),{includeAllArgs:!0,query:t})}function d(e){var t=e.tags.find((function(e){return"environment"===e.key}));return t?t.value:null}var b={commented:Object(s.b)("You're receiving workflow notifications because you have commented on this issue."),assigned:Object(s.b)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:Object(s.b)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:Object(s.b)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:Object(s.b)("You're receiving workflow notifications because you have been mentioned in this issue.")};function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return Object(s.c)("You have [link:disabled workflow notifications] for this project.",{link:t?Object(u.f)("span",null):Object(u.f)("a",{href:"/account/settings/notifications/"})});if(!e.isSubscribed)return Object(s.b)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){var n=e.subscriptionDetails.reason;if("unknown"===n)return Object(s.b)("You're receiving workflow notifications because you are subscribed to this issue.");if(b.hasOwnProperty(n))return b[n]}return Object(s.c)("You're receiving updates because you are [link:subscribed to workflow notifications] for this project.",{link:t?Object(u.f)("span",null):Object(u.f)("a",{href:"/account/settings/notifications/"})})}},2835:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=n(9),c=n.n(s),u=n(10),l=n.n(u),f=n(11),p=n.n(f),d=n(12),b=n.n(d),h=n(6),g=n.n(h),v=n(1),m=n.n(v),j=n(33),O=n(384),y=n(78),k=n(21),w=n.n(k),x=n(16),S=n.n(x),D=n(26),N=n.n(D),R=n(278),C=n.n(R),z=n(2),P=n.n(z),A=n(7),I=n(43),T=n(369),L=n(221),U=n(63),M=n(3),E=n(632),q=n(64),B=n(183),_=n(50),F=n(285),W=n(164),G=n(1599),Y=n(56),H="GROUP_NOT_FOUND",V=n(4),J=n(182),Q=n.n(J),X=n(489),$=n(820),K=n(381),Z=n(681),ee=n(1924),te=n(682),ne=n(333),re=n(1625),ae=n(1615),ie=n(390),oe=n(1932),se=n(668),ce=n(39),ue=n(1688),le=n(8),fe=n(27),pe=n.n(fe),de=n(31),be=n(105),he=n(173),ge=n(29),ve=n(150),me=n(1610),je=n(184),Oe=n(635),ye=n(85),ke=n(835),we=n(17),xe=n(101),Se=n(1694),De=n(73),Ne=n(837),Re=n(36),Ce=n.n(Re),ze=n(46),Pe=n.n(ze),Ae=n(380),Ie=n(648),Te=n(622),Le=n(279),Ue=n(1933),Me=n(1884),Ee=n(1691),qe=n(0);function Be(e){return function(){var t,n=g()(e);if(_e()){var r=g()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return b()(this,t)}}function _e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Fe=function(e){p()(n,e);var t=Be(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleCopyClick=function(){e.urlRef&&Object(Ae.a)(Ce.a.findDOMNode(e.urlRef))},e.handleUrlMount=function(t){e.urlRef=t,e.urlRef&&Object(Ae.a)(Ce.a.findDOMNode(e.urlRef))},e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.isSharing,n=e.busy,r=e.shareUrl,a=e.onConfirming,i=e.onCancel,o=e.onShare,s=!n&&t?r:"Not shared";return Object(qe.f)(Ue.a,{style:{flex:"none",alignItems:"stretch",border:"1px solid ".concat("#dad5df"),borderRadius:4}},Object(qe.f)("div",{style:{position:"relative",display:"flex",flex:1,backgroundColor:t?"transparent":"#f9f7f9",borderRight:"1px solid ".concat("#dad5df"),maxWidth:288}},Object(qe.f)(Ie.a,{ref:this.handleUrlMount,style:{flex:1,border:"none",padding:"4px 6px 4px 10px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},s)),Object(qe.f)(Ue.a,{style:{alignItems:"stretch"}},Object(qe.f)(Te.a,{hideUnsupported:!0,value:s},Object(qe.f)(ge.a,{borderless:!0,size:"xsmall",onClick:this.handleCopyClick,style:{borderRadius:0,borderRight:"1px solid ".concat("#dad5df")}},Object(qe.f)(we.r,null))),Object(qe.f)(Le.a,{message:Object(M.b)("You are about to regenerate a new shared URL. Your previously shared URL will no longer work. Do you want to continue?"),onCancel:i,onConfirming:a,onConfirm:o},Object(qe.f)(ge.a,{borderless:!0,size:"xsmall"},Object(qe.f)(we.kb,null)))))}}]),n}(m.a.Component);Fe.displayName="ShareUrlContainer";var We=function(e){var t=e.children,n=o()(e,["children"]);return Object(qe.f)("h6",a()({},n,{style:{margin:0,paddingRight:30,whiteSpace:"nowrap"}}),t)};We.displayName="SmallHeading";var Ge=function(e){var t=e.active;return Object(qe.f)("span",{style:{display:"inline-block",marginRight:4,borderRadius:"50%",width:10,height:10,background:t?"#57be8c":"#dfdbe4"}})};Ge.displayName="IndicatorDot";var Ye=function(e){p()(n,e);var t=Be(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).handleToggleShare=function(e){e.preventDefault(),r.setState({busy:!0},(function(){return r.props.onToggle()}))},r.handleShare=function(){var e=r.props.onShare;r.setState({busy:!0},(function(){return e()})),r.hasConfirmModal=!1},r.handleOpen=function(){r.props.isSharing||r.handleShare()},r.handleConfirmCancel=function(){return r.hasConfirmModal=!1},r.handleConfirmReshare=function(){return r.hasConfirmModal=!0},r.hasConfirmModal=!1,r.state={busy:!1},r}return l()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.busy||this.props.shareUrl===e.shareUrl&&this.props.isSharing===e.isSharing||this.setState({busy:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.isSharing,i=this.state.busy,o=Pe()("share-issue btn-sm btn btn-default",n),s=Object(qe.f)("div",{style:{marginRight:4}},Object(qe.f)(Ue.a,{center:!0},Object(qe.f)(Ge,{active:r}),"Share"));return Object(qe.f)(ve.a,{className:o,shouldIgnoreClickOutside:function(){return e.hasConfirmModal},title:s,onOpen:this.handleOpen,keepMenuOpen:!0},Object(qe.f)("li",{style:{padding:"12px 18px"},ref:function(t){return e.container=t}},Object(qe.f)(Me.a,{style:{marginBottom:i||r?12:void 0}},Object(qe.f)(We,null,Object(M.b)("Enable public share link")),Object(qe.f)(Ee.a,{isActive:r,size:"sm",toggle:this.handleToggleShare})),i&&Object(qe.f)(Ue.a,{center:!0},Object(qe.f)(_.default,{mini:!0})),!i&&r&&Object(qe.f)(Fe,a()({},this.props,{onCancel:this.handleConfirmCancel,onConfirming:this.handleConfirmReshare,onShare:this.handleShare}))))}}]),n}(m.a.Component);Ye.displayName="ShareIssue";var He=Ye,Ve=n(1934),Je=function(e){var t,n,r=e.group,a=e.onClick,i="group-subscribe btn btn-default btn-sm".concat(r.isSubscribed?" active":"");return!(null!==(t=null===(n=r.subscriptionDetails)||void 0===n?void 0:n.disabled)&&void 0!==t&&t)&&Object(qe.f)("div",{className:"btn-group"},Object(qe.f)(ce.a,{title:Object(Ve.d)(r,!0)},Object(qe.f)("div",{className:i,title:Object(M.b)("Subscribe"),onClick:a},Object(qe.f)(Qe,null,Object(qe.f)(we.d,{size:"xs"})))))},Qe=Object(V.a)("span",{target:"e18twa9k0",label:"IconWrapper"})({name:"w98cyk",styles:"position:relative;top:1px;"});function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ze=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(Ke()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(){var e;c()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).renderDiscardDisabled=function(e){return(0,e.children)($e({},o()(e,["children"]),{renderDisabled:function(e){var t=e.features;return Object(qe.f)(Oe.a,{alert:!0,featureName:"Discard and Delete",features:t})}}))},e.renderDiscardModal=function(t){var n=t.Body,r=t.closeModal;return Object(qe.f)(je.a,{features:["projects:discard-groups"],hookName:"feature-disabled:discard-groups",organization:e.props.organization,project:e.props.project,renderDisabled:e.renderDiscardDisabled},(function(t){var a=t.hasFeature,i=t.renderDisabled,s=o()(t,["hasFeature","renderDisabled"]);return Object(qe.f)(m.a.Fragment,null,Object(qe.f)(n,null,!a&&i($e({hasFeature:a},s)),Object(M.b)("Discarding this event will result in the deletion of most data associated with this issue and future events being discarded before reaching your stream. Are you sure you wish to continue?")),Object(qe.f)("div",{className:"modal-footer"},Object(qe.f)(ge.a,{onClick:r},Object(M.b)("Cancel")),Object(qe.f)(ge.a,{style:{marginLeft:Object(le.a)(1)},priority:"primary",onClick:e.props.onDiscard,disabled:!a},Object(M.b)("Discard Future Events"))))}))},e.openDiscardModal=function(){Object(be.i)(e.renderDiscardModal),Object(j.a)("feature.discard_group.modal_opened",{org_id:parseInt(e.props.organization.id,10)})},e}return l()(r,[{key:"render",value:function(){return Object(qe.f)("div",{className:"btn-group"},Object(qe.f)(Se.a,{className:"group-remove btn btn-default btn-sm",title:Object(M.b)("Delete"),message:Object(M.b)("Deleting this issue is permanent. Are you sure you wish to continue?"),onConfirm:this.props.onDelete},Object(qe.f)(tt,null,Object(qe.f)(we.s,{size:"xs"}))),Object(qe.f)(ve.a,{caret:!0,className:"group-delete btn btn-default btn-sm"},Object(qe.f)(De.a,{onClick:this.openDiscardModal},Object(qe.f)("span",null,Object(M.b)("Delete and discard future events")))))}}]),r}(m.a.Component);Ze.displayName="DeleteActions";var et=pe()({displayName:"GroupDetailsActions",getInitialState:function(){return{ignoreModal:null,shareBusy:!1}},getShareUrl:function(e,t){if(!e)return"";var n="/share/issue/".concat(e,"/");if(!t)return n;var r=window.location,a=r.host,i=r.protocol;return"".concat(i,"//").concat(a).concat(n)},getDiscoverUrl:function(){var e=this.props,t=e.group,n=e.project,r=e.organization,a={id:void 0,name:t.title||t.type,fields:["title","release","environment","user","timestamp"],orderby:"-timestamp",query:"issue.id:".concat(t.id),projects:[n.id],version:2,range:"90d"};return me.a.fromSavedQuery(a).getResultsViewUrlTarget(r.slug)},onDelete:function(){var e=this.props,t=e.group,n=e.project,r=e.organization;Object(de.b)(Object(M.b)("Delete event…")),this.props.api.bulkDelete({orgId:r.slug,projectId:n.slug,itemIds:[t.id]},{complete:function(){Object(de.e)(),A.browserHistory.push("/".concat(r.slug,"/").concat(n.slug,"/"))}})},onUpdate:function(e){var t=this.props,n=t.group,r=t.project,a=t.organization;Object(de.b)(Object(M.b)("Saving changes…")),this.props.api.bulkUpdate({orgId:a.slug,projectId:r.slug,itemIds:[n.id],data:e},{complete:function(){Object(de.e)()}})},onShare:function(e){var t=this,n=this.props,r=n.group,a=n.project,i=n.organization;this.setState({shareBusy:!0}),this.props.api.bulkUpdate({orgId:i.slug,projectId:a.slug,itemIds:[r.id],data:{isPublic:e}},{error:function(){Object(de.a)(Object(M.b)("Error sharing"))},complete:function(){t.setState({shareBusy:!1})}})},onToggleShare:function(){this.onShare(!this.props.group.isPublic)},onToggleBookmark:function(){this.onUpdate({isBookmarked:!this.props.group.isBookmarked})},onToggleSubscribe:function(){this.onUpdate({isSubscribed:!this.props.group.isSubscribed})},onDiscard:function(){var e=this.props,t=e.group,n=e.project,r=e.organization,a=Object(he.a)();Object(de.b)(Object(M.b)("Discarding event…")),ye.a.discard(a,t.id),this.props.api.request("/issues/".concat(t.id,"/"),{method:"PUT",data:{discard:!0},success:function(e){ye.a.discardSuccess(a,t.id,e),A.browserHistory.push("/".concat(r.slug,"/").concat(n.slug,"/"))},error:function(e){ye.a.discardError(a,t.id,e)},complete:function(){Object(de.e)()}})},render:function(){var e=this,t=this.props,n=t.group,r=t.project,a=t.organization,i=new Set(a.features),o="group-bookmark ".concat("btn btn-default btn-sm");n.isBookmarked&&(o+=" active");var s=new Set(r.features).has("releases"),c="resolved"===n.status,u="ignored"===n.status;return Object(qe.f)("div",{className:"group-actions"},Object(qe.f)(ne.a,{target:"resolve",position:"bottom",offset:Object(le.a)(3)},Object(qe.f)(Ne.a,{hasRelease:s,latestRelease:r.latestRelease,onUpdate:this.onUpdate,orgId:a.slug,projectId:r.slug,isResolved:c,isAutoResolved:c&&n.statusDetails.autoResolved})),Object(qe.f)(ne.a,{target:"ignore_delete_discard",position:"bottom",offset:Object(le.a)(3)},Object(qe.f)(ke.a,{isIgnored:u,onUpdate:this.onUpdate})),Object(qe.f)(Ze,{organization:a,project:r,onDelete:this.onDelete,onDiscard:this.onDiscard}),i.has("shared-issues")&&Object(qe.f)("div",{className:"btn-group"},Object(qe.f)(He,{shareUrl:this.getShareUrl(n.shareId,!0),isSharing:n.isPublic,group:n,onToggle:this.onToggleShare,onShare:function(){return e.onShare(!0)},busy:this.state.shareBusy})),i.has("discover-basic")&&Object(qe.f)("div",{className:"btn-group"},Object(qe.f)(xe.a,{className:"btn btn-default btn-sm",title:Object(M.b)("Open in Discover"),to:this.getDiscoverUrl()},Object(M.b)("Open in Discover"))),Object(qe.f)("div",{className:"btn-group"},Object(qe.f)("div",{className:o,title:Object(M.b)("Bookmark"),onClick:this.onToggleBookmark},Object(qe.f)(tt,null,Object(qe.f)(we.vb,{isSolid:!0,size:"xs"})))),Object(qe.f)(Je,{group:n,onClick:this.onToggleSubscribe}))}}),tt=Object(V.a)("span",{target:"e1tvj8qd0",label:"IconWrapper"})({name:"w98cyk",styles:"position:relative;top:1px;"}),nt=Object(Y.a)(Object(y.a)(et));function rt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var at=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(rt()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(){var e;c()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={memberList:null},e}return l()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.context.organization,n=this.props.group.project;Object(X.a)(this.props.api,t.slug,n.id).then((function(t){var n=t.map((function(e){return e.user}));e.setState({memberList:n})}))}},{key:"getMessage",value:function(){var e=this.props.group,t=e.metadata;switch(e.type){case"error":return t.value;case"csp":return t.message;default:return this.props.group.culprit||""}}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.group,r=this.context,a=r.organization,i=r.location,o=new Set(t?t.features:[]),s=new Set(a?a.features:[]),c=n.userCount,u="group-detail";n.isBookmarked&&(u+=" isBookmarked"),n.hasSeen&&(u+=" hasSeen"),"resolved"===n.status&&(u+=" isResolved");var l=this.state.memberList,f=n.id,p=a.slug,d=this.getMessage(),b=o.has("similarity-view"),h=s.has("event-attachments"),g="/organizations/".concat(p,"/issues/"),v=Q()(i.query,"query"),j={pathname:"".concat(g).concat(f,"/events/"),query:v};return Object(qe.f)("div",{className:u},Object(qe.f)("div",{className:"row"},Object(qe.f)("div",{className:"col-sm-7"},Object(qe.f)("h3",null,Object(qe.f)(te.a,{hasGuideAnchor:!0,data:n})),Object(qe.f)(ee.a,{message:d,level:n.level,annotations:Object(qe.f)(m.a.Fragment,null,n.logger&&Object(qe.f)(ot,null,Object(qe.f)(A.Link,{to:{pathname:g,query:{query:"logger:"+n.logger}}},n.logger)),n.annotations.map((function(e,t){return Object(qe.f)(ot,{key:t,dangerouslySetInnerHTML:{__html:e}})})))})),Object(qe.f)("div",{className:"col-sm-5 stats"},Object(qe.f)("div",{className:"flex flex-justify-right"},n.shortId&&Object(qe.f)(ne.a,{target:"issue_number",position:"bottom"},Object(qe.f)("div",{className:"short-id-box count align-right"},Object(qe.f)("h6",{className:"nav-header"},Object(qe.f)(ce.a,{title:Object(M.b)("This identifier is unique across your organization, and can be used to reference an issue in various places, like commit messages."),position:"bottom"},Object(qe.f)("a",{className:"help-link",href:"https://docs.sentry.io/learn/releases/#resolving-issues-via-commits"},Object(M.b)("Issue #")))),Object(qe.f)(se.a,{shortId:n.shortId,avatar:Object(qe.f)(it,{project:t,avatarSize:20,hideName:!0})}))),Object(qe.f)("div",{className:"count align-right m-l-1"},Object(qe.f)("h6",{className:"nav-header"},Object(M.b)("Events")),Object(qe.f)(A.Link,{to:j},Object(qe.f)(K.a,{className:"count",value:n.count}))),Object(qe.f)("div",{className:"count align-right m-l-1"},Object(qe.f)("h6",{className:"nav-header"},Object(M.b)("Users")),0!==c?Object(qe.f)(A.Link,{to:"".concat(g).concat(f,"/tags/user/").concat(i.search)},Object(qe.f)(K.a,{className:"count",value:c})):Object(qe.f)("span",null,"0")),Object(qe.f)("div",{className:"assigned-to m-l-1"},Object(qe.f)("h6",{className:"nav-header"},Object(M.b)("Assignee")),Object(qe.f)($.a,{id:n.id,memberList:l}))))),Object(qe.f)(oe.a,{seenBy:n.seenBy,iconTooltip:Object(M.b)("People who have viewed this issue")}),Object(qe.f)(nt,{group:n,project:t}),Object(qe.f)(ae.a,null,Object(qe.f)(re.a,{to:"".concat(g).concat(f,"/").concat(i.search),isActive:function(){var e="".concat(g).concat(f,"/"),t=i.pathname;return t===e||/events\/\w+\/$/.test(t)}},Object(M.b)("Details")),Object(qe.f)(re.a,{to:"".concat(g).concat(f,"/activity/").concat(i.search),isActive:function(){return i.pathname.includes("/activity/")}},Object(M.b)("Comments")," ",Object(qe.f)(ue.a,{text:n.numComments})),Object(qe.f)(re.a,{to:"".concat(g).concat(f,"/feedback/").concat(i.search),isActive:function(){return i.pathname.includes("/feedback/")}},Object(M.b)("User Feedback")," ",Object(qe.f)(ue.a,{text:n.userReportCount})),h&&Object(qe.f)(re.a,{to:"".concat(g).concat(f,"/attachments/").concat(i.search),isActive:function(){return i.pathname.includes("/attachments/")}},Object(M.b)("Attachments")),Object(qe.f)(re.a,{to:"".concat(g).concat(f,"/tags/").concat(i.search),isActive:function(){return i.pathname.includes("/tags/")}},Object(M.b)("Tags")),Object(qe.f)(re.a,{to:j,isActive:function(){return i.pathname.endsWith("/events/")}},Object(M.b)("Events")),Object(qe.f)(re.a,{to:"".concat(g).concat(f,"/merged/").concat(i.search),isActive:function(){return i.pathname.includes("/merged/")}},Object(M.b)("Merged")),b&&Object(qe.f)(re.a,{to:"".concat(g).concat(f,"/similar/").concat(i.search),isActive:function(){return i.pathname.includes("/similar/")}},Object(M.b)("Similar Issues"))))}}]),r}(m.a.Component);at.displayName="GroupHeader",at.contextTypes={location:P.a.object,organization:W.a.Organization};var it=Object(V.a)(ie.a,{target:"e13kvrof0",label:"StyledProjectBadge"})({name:"6su6fj",styles:"flex-shrink:0;"}),ot=Object(V.a)(Z.a,{target:"e13kvrof1",label:"EventAnnotationWithSpace"})("margin-left:",Object(le.a)(1),";"),st=Object(Y.a)(at);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ft=function(e){p()(a,e);var t,n,r=(t=a,function(){var e,n=g()(t);if(lt()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function a(){var e;c()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state=e.initialState,e.remountComponent=function(){e.setState(e.initialState),e.fetchData()},e.listener=q.a.listen((function(t){return e.onGroupChange(t)})),e}return l()(a,[{key:"getChildContext",value:function(){return{group:this.state.group,location:this.props.location}}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){e.isGlobalSelectionReady!==this.props.isGlobalSelectionReady&&this.fetchData()}},{key:"componentWillUnmount",value:function(){Object(U.a)(this.listener)}},{key:"fetchData",value:(n=N()(w.a.mark((function e(){var t,n,r,a,i,o,s,c,u,l,f;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.environments,r=t.api,t.isGlobalSelectionReady){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.requestPromise(this.groupDetailsEndpoint,{query:ut({},n?{environment:n}:{})});case 6:if(a=e.sent,this.props.params.groupId===a.id){e.next=11;break}return i=this.props,o=i.routes,s=i.params,c=i.location,A.browserHistory.push(Object(G.a)("",{routes:o,location:c,params:ut({},s,{groupId:a.id})})),e.abrupt("return");case 11:(u=a.project)?(void 0===(l=ut({},this.props.location)).query.project&&void 0===l.query._allp&&(l.query.project=u.id),delete l.query._allp,A.browserHistory.replace(l)):I.m((function(){I.c(new Error("Project not found"))})),this.setState({error:!1,loading:!1,errorType:null,project:u}),q.a.loadInitialData([a]),e.next=26;break;case 17:e.prev=17,e.t0=e.catch(3),f=null,e.t1=null===e.t0||void 0===e.t0?void 0:e.t0.status,e.next=404===e.t1?23:25;break;case 23:return f=H,e.abrupt("break",25);case 25:this.setState({loading:!1,error:!0,errorType:f});case 26:case"end":return e.stop()}}),e,this,[[3,17]])}))),function(){return n.apply(this,arguments)})},{key:"onGroupChange",value:function(e){var t=this.props.params.groupId;if(e.has(t)){var n=q.a.get(t);if(n){if(n.stale)return void this.fetchData();this.setState({group:n})}}}},{key:"getTitle",value:function(){var e=this.state.group;if(!e)return"Sentry";switch(e.type){case"error":return e.metadata.type&&e.metadata.value?"".concat(e.metadata.type,": ").concat(e.metadata.value):e.metadata.type||e.metadata.value||"Sentry";case"csp":return e.metadata.message||"Sentry";case"expectct":case"expectstaple":case"hpkp":return e.metadata.message||"Sentry";case"default":return e.metadata.title||"Sentry";default:return""}}},{key:"renderContent",value:function(e){var t=this.props,n=t.children,r=t.environments,a=this.state.group;return Object(qe.f)(m.a.Fragment,null,Object(qe.f)(st,{project:e,group:a}),m.a.isValidElement(n)?m.a.cloneElement(n,{environments:r,group:a,project:e}):n)}},{key:"renderError",value:function(){if(!this.state.error)return null;switch(this.state.errorType){case H:return Object(qe.f)(B.a,{message:Object(M.b)("The issue you were looking for was not found.")});default:return Object(qe.f)(B.a,{onRetry:this.remountComponent})}}},{key:"render",value:function(){var e=this,t=this.props.organization,n=this.state,r=n.error,a=n.group,i=n.project,o=r,s=n.loading||!a&&!o;return Object(qe.f)(C.a,{title:this.getTitle()},Object(qe.f)(m.a.Fragment,null,Object(qe.f)(E.a,{skipLoadLastUsed:!0,forceProject:i,showDateSelector:!1,shouldForceProject:!0,lockedMessageSubject:Object(M.b)("issue"),showIssueStreamLink:!0,showProjectSettingsLink:!0},Object(qe.f)(L.b,null,s?Object(qe.f)(_.default,null):o?this.renderError():Object(qe.f)(F.a,{orgId:t.slug,slugs:[i.slug]},(function(t){var n=t.projects,r=t.initiallyLoaded,a=t.fetchError;return r?a?Object(qe.f)(B.a,{message:Object(M.b)("Error loading the specified project")}):e.renderContent(n[0]):Object(qe.f)(_.default,null)}))))))}},{key:"initialState",get:function(){return{group:null,loading:!0,error:!1,errorType:null,project:null}}},{key:"groupDetailsEndpoint",get:function(){return"/issues/".concat(this.props.params.groupId,"/")}}]),a}(m.a.Component);ft.displayName="GroupDetails",ft.childContextTypes={group:W.a.Group,location:P.a.object};var pt=Object(Y.a)(T.c(ft));function dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var bt=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(dt()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(e){var t;return c()(this,r),(t=n.call(this,e)).startMetricCollection(),t}return l()(r,[{key:"componentDidMount",value:function(){Object(j.a)("issue_page.viewed",{group_id:parseInt(this.props.params.groupId,10),org_id:parseInt(this.props.organization.id,10)})}},{key:"startMetricCollection",value:function(){var e=Object(y.b)(this.props.organization)?"cold-start":"warm-start";j.c.mark({name:"page-issue-details-start",data:{start_type:e}})}},{key:"render",value:function(){var e=this.props,t=e.selection,n=o()(e,["selection"]);return Object(qe.f)(pt,a()({key:"".concat(this.props.params.groupId,"-envs:").concat(t.environments.join(",")),environments:t.environments},n))}}]),r}(m.a.Component);bt.displayName="OrganizationGroupDetails";t.default=Object(y.a)(Object(O.a)(bt))}}]);
//# sourceMappingURL=OrganizationGroupDetails.js.map