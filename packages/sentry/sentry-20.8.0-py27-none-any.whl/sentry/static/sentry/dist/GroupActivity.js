(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[84],{1596:function(e,t,r){"use strict";var n=r(15),s=r.n(n),i=r(9),o=r.n(i),a=r(10),c=r.n(a),u=r(11),d=r.n(u),l=r(12),p=r.n(l),f=r(6),b=r.n(f),m=r(1),h=r.n(m),v=r(113),g=r.n(v),O=r(35),j=r(0);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){d()(n,e);var t,r=(t=n,function(){var e,r=b()(t);if(y()){var n=b()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return p()(this,e)});function n(){var e;o()(this,n);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=r.call.apply(r,[this].concat(s))).getFormat=function(t){var r=t.clock24Hours,n=e.props,s=n.dateOnly,i=n.timeOnly,o=n.seconds,a=n.shortDate,c=n.timeAndDate;return s?"LL":c?"MMM DD, LT":i?"LT":a?"MM/DD/YYYY":r?"MMMM D YYYY HH:mm:ss z":o?"ll LTS z":"lll"},e}return c()(n,[{key:"render",value:function(){var e,t=this.props,r=t.date,n=t.utc,i=(t.seconds,t.shortDate,t.dateOnly,t.timeOnly,t.timeAndDate,s()(t,["date","utc","seconds","shortDate","dateOnly","timeOnly","timeAndDate"])),o=O.default.get("user"),a=null==o?void 0:o.options,c=this.getFormat(a);return Object(j.f)("time",i,n?g.a.utc(r).format(c):g.a.tz(r,null!==(e=null==a?void 0:a.timezone)&&void 0!==e?e:"").format(c))}}]),n}(h.a.Component);k.displayName="DateTime",k.defaultProps={seconds:!0},t.a=k},1722:function(e,t,r){"use strict";r(1);var n=r(3),s=r(25),i=r(29),o=r(17),a=r(79),c=r(0),u=[{icon:Object(c.f)(o.E,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}},{icon:Object(c.f)(o.e,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commits/").concat(r)}},{icon:Object(c.f)(o.Ib,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}},{icon:Object(c.f)(o.F,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}}];t.a=function(e){var t=e.inline,r=e.commitId,o=e.repository;if(!r||!o)return Object(c.f)("span",null,Object(n.b)("Unknown Commit"));var d=Object(s.l)(r),l=u.find((function(e){return!!o.provider&&e.providerIds.includes(o.provider.id)}));if(void 0===l)return Object(c.f)("span",null,d);var p=o.url&&l.commitUrl({commitId:r,baseUrl:o.url});return t?Object(c.f)(a.a,{className:"inline-commit",href:p},l.icon," "+d):Object(c.f)(i.a,{external:!0,href:p,size:"small",icon:l.icon},d)}},2058:function(e,t,r){"use strict";r(1);var n=r(79),s=r(17),i=r(0);t.a=function(e){var t=e.pullRequest,r=e.repository,o=e.inline,a="".concat(r.name," #").concat(t.id,": ").concat(t.title);return t.externalUrl?Object(i.f)(n.a,{className:o?"inline-commit":"btn btn-default btn-sm",href:t.externalUrl},function(e){if(!e.provider)return null;var t=e.provider.id;switch(t.includes(":")?t.split(":").pop():t){case"github":return Object(i.f)(s.E,{size:"xs"});case"gitlab":return Object(i.f)(s.F,{size:"xs"});case"bitbucket":return Object(i.f)(s.e,{size:"xs"});default:return null}}(r),o?"":" ",a):Object(i.f)("span",null,a)}},2876:function(e,t,r){"use strict";r.r(t),r.d(t,"GroupActivity",(function(){return L}));var n=r(5),s=r.n(n),i=r(21),o=r.n(i),a=r(26),c=r.n(a),u=r(9),d=r.n(u),l=r(10),p=r.n(l),f=r(11),b=r.n(f),m=r(12),h=r.n(m),v=r(6),g=r.n(v),O=r(1),j=r.n(O),y=r(31),k=r(462),I=r(3),w=r(173),x=r(1733),U=r(1711),_=r(35),D=r(280),R=r(2272),N=r(2220),S=r(56),C=r(78),$=r(1722),z=r(641),B=r(147),A=r(2058),M=r(202),J=r(625),Y=r(0);function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){b()(n,e);var t,r=(t=n,function(){var e,r=g()(t);if(q()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return h()(this,e)});function n(){return d()(this,n),r.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.author,r=e.item,n=e.orgSlug,s=e.projectId,i=r.data,o="/organizations/".concat(n,"/issues/");switch(r.type){case"note":return Object(I.b)("%s left a comment",t);case"set_resolved":return Object(I.b)("%s marked this issue as resolved",t);case"set_resolved_by_age":return Object(I.b)("%(author)s marked this issue as resolved due to inactivity",{author:t});case"set_resolved_in_release":return i.version?Object(I.b)("%(author)s marked this issue as resolved in %(version)s",{author:t,version:Object(Y.f)(J.a,{version:i.version,projectId:s,tooltipRawVersion:!0})}):Object(I.b)("%s marked this issue as resolved in the upcoming release",t);case"set_resolved_in_commit":return Object(I.b)("%(author)s marked this issue as resolved in %(version)s",{author:t,version:Object(Y.f)($.a,{inline:!0,commitId:i.commit&&i.commit.id,repository:i.commit&&i.commit.repository})});case"set_resolved_in_pull_request":return Object(I.b)("%(author)s marked this issue as resolved in %(version)s",{author:t,version:Object(Y.f)(A.a,{inline:!0,pullRequest:i.pullRequest,repository:i.pullRequest&&i.pullRequest.repository})});case"set_unresolved":return Object(I.b)("%s marked this issue as unresolved",t);case"set_ignored":return i.ignoreDuration?Object(I.b)("%(author)s ignored this issue for %(duration)s",{author:t,duration:Object(Y.f)(z.a,{seconds:60*i.ignoreDuration})}):i.ignoreCount&&i.ignoreWindow?Object(I.c)("[author] ignored this issue until it happens [count] time(s) in [duration]",{author:t,count:i.ignoreCount,duration:Object(Y.f)(z.a,{seconds:60*i.ignoreWindow})}):i.ignoreCount?Object(I.c)("[author] ignored this issue until it happens [count] time(s)",{author:t,count:i.ignoreCount}):i.ignoreUserCount&&i.ignoreUserWindow?Object(I.c)("[author] ignored this issue until it affects [count] user(s) in [duration]",{author:t,count:i.ignoreUserCount,duration:Object(Y.f)(z.a,{seconds:60*i.ignoreUserWindow})}):i.ignoreUserCount?Object(I.c)("[author] ignored this issue until it affects [count] user(s)",{author:t,count:i.ignoreUserCount}):Object(I.b)("%s ignored this issue",t);case"set_public":return Object(I.b)("%s made this issue public",t);case"set_private":return Object(I.b)("%s made this issue private",t);case"set_regression":return i.version?Object(I.b)("%(author)s marked this issue as a regression in %(version)s",{author:t,version:Object(Y.f)(J.a,{version:i.version,projectId:s,tooltipRawVersion:!0})}):Object(I.b)("%s marked this issue as a regression",t);case"create_issue":return Object(I.b)("%(author)s created an issue on %(provider)s titled %(title)s",{author:t,provider:i.provider,title:Object(Y.f)("a",{href:i.location},i.title)});case"unmerge_source":return Object(I.d)("%2$s migrated %1$s fingerprint to %3$s","%2$s migrated %1$s fingerprints to %3$s",i.fingerprints.length,t,i.destination?Object(Y.f)("a",{href:"".concat(o).concat(i.destination.id)},i.destination.shortId):Object(I.b)("a group"));case"unmerge_destination":return Object(I.d)("%2$s migrated %1$s fingerprint from %3$s","%2$s migrated %1$s fingerprints from %3$s",i.fingerprints.length,t,i.source?Object(Y.f)("a",{href:"".concat(o).concat(i.source.id)},i.source.shortId):Object(I.b)("a group"));case"first_seen":return Object(I.b)("%s first saw this issue",t);case"assigned":var a;if("team"===i.assigneeType){var c=M.a.getById(i.assignee);return a=c?c.slug:"<unknown-team>",Object(I.b)("%(author)s assigned this issue to #%(assignee)s",{author:t,assignee:a})}return r.user&&i.assignee===r.user.id?Object(I.b)("%s assigned this issue to themselves",t):(a=B.a.getById(i.assignee))&&a.email?Object(I.b)("%(author)s assigned this issue to %(assignee)s",{author:t,assignee:a.email}):Object(I.b)("%s assigned this issue to an unknown user",t);case"unassigned":return Object(I.b)("%s unassigned this issue",t);case"merge":return Object(I.d)("%2$s merged %1$s issue into this issue","%2$s merged %1$s issues into this issue",i.issues.length,t);default:return""}}}]),n}(j.a.Component);P.displayName="GroupActivityItem";var T=P;function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function F(){return{detail:Object(I.b)("Unknown error. Please try again.")}}var L=function(e){b()(n,e);var t,r=(t=n,function(){var e,r=g()(t);if(W()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return h()(this,e)});function n(){var e;d()(this,n);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=r.call.apply(r,[this].concat(s))).state={createBusy:!1,error:!1,inputId:Object(w.a)()},e.handleNoteDelete=function(){var t=c()(o.a.mark((function t(r){var n,s,i,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.modelId,s=r.text,i=e.props,a=i.api,c=i.group,Object(y.b)(Object(I.b)("Removing comment...")),t.prev=3,t.next=6,Object(k.e)(a,c,n,s);case 6:Object(y.e)(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),Object(y.a)(Object(I.b)("Failed to delete comment"));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleNoteCreate=function(){var t=c()(o.a.mark((function t(r){var n,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.api,i=n.group,e.setState({createBusy:!0}),Object(y.b)(Object(I.b)("Posting comment...")),t.prev=3,t.next=6,Object(k.d)(s,i,r);case 6:e.setState({createBusy:!1,inputId:Object(w.a)()}),Object(y.e)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),e.setState({createBusy:!1,error:!0,errorJSON:t.t0.responseJSON||F()}),Object(y.a)(Object(I.b)("Unable to post comment"));case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleNoteUpdate=function(){var t=c()(o.a.mark((function t(r,n){var s,i,a,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.modelId,i=n.text,a=e.props,c=a.api,u=a.group,e.setState({updateBusy:!0}),Object(y.b)(Object(I.b)("Updating comment...")),t.prev=4,t.next=7,Object(k.f)(c,u,r,s,i);case 7:e.setState({updateBusy:!1}),Object(y.e)(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),e.setState({updateBusy:!1,error:!0,errorJSON:t.t0.responseJSON||F()}),Object(y.a)(Object(I.b)("Unable to update comment"));case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,r){return t.apply(this,arguments)}}(),e}return p()(n,[{key:"render",value:function(){var e=this,t=this.props.group,r=_.default.get("user"),n=t&&t.project?[t.project.slug]:[],i={group:t,projectSlugs:n,placeholder:Object(I.b)("Add details or updates to this event. \nTag users with @, or teams with #")};return Object(Y.f)("div",{className:"row"},Object(Y.f)("div",{className:"col-md-9"},Object(Y.f)("div",null,Object(Y.f)(U.a,{author:{type:"user",user:r}},(function(){return Object(Y.f)(N.a,s()({key:e.state.inputId,storageKey:"groupinput:latest",itemKey:t.id,onCreate:e.handleNoteCreate,busy:e.state.createBusy,error:e.state.error,errorJSON:e.state.errorJSON},i))})),t.activity.map((function(r){var n=r.user?r.user.name:"Sentry";return"note"===r.type?Object(Y.f)(D.a,{mini:!0,key:"note-".concat(r.id)},Object(Y.f)(R.a,s()({text:r.data.text,modelId:r.id,user:r.user,dateCreated:r.dateCreated,authorName:n,onDelete:e.handleNoteDelete,onUpdate:e.handleNoteUpdate,busy:e.state.updateBusy},i))):Object(Y.f)(D.a,{mini:!0,key:"item-".concat(r.id)},Object(Y.f)(U.a,{item:r,author:{type:r.user?"user":"system",user:r.user},date:r.dateCreated,header:Object(Y.f)(T,{author:Object(Y.f)(x.a,null,n),item:r,orgSlug:e.props.params.orgId,projectId:t.project.id})}))})))))}}]),n}(j.a.Component);L.displayName="GroupActivity";t.default=Object(S.a)(Object(C.a)(L))}}]);
//# sourceMappingURL=GroupActivity.js.map